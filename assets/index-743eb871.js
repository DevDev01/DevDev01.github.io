(function(){const Oe=document.createElement("link").relList;if(Oe&&Oe.supports&&Oe.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))o(P);new MutationObserver(P=>{for(const y of P)if(y.type==="childList")for(const c of y.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function Le(P){const y={};return P.integrity&&(y.integrity=P.integrity),P.referrerPolicy&&(y.referrerPolicy=P.referrerPolicy),P.crossOrigin==="use-credentials"?y.credentials="include":P.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function o(P){if(P.ep)return;P.ep=!0;const y=Le(P);fetch(P.href,y)}})();var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zo(Ue){return Ue&&Ue.__esModule&&Object.prototype.hasOwnProperty.call(Ue,"default")?Ue.default:Ue}function Cr(Ue){throw new Error('Could not dynamically require "'+Ue+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var To={exports:{}};/*! p5.js v1.6.0 February 22, 2023 */(function(Ue,Oe){(function(Le){Ue.exports=Le()})(function(){var Le;return function o(P,y,c){function a(u,d){if(!y[u]){if(!P[u]){var n=typeof Cr=="function"&&Cr;if(!d&&n)return n(u,!0);if(s)return s(u,!0);throw(d=new Error("Cannot find module '"+u+"'")).code="MODULE_NOT_FOUND",d}n=y[u]={exports:{}},P[u][0].call(n.exports,function(t){return a(P[u][1][t]||t)},n,n.exports,o,P,y,c)}return y[u].exports}for(var s=typeof Cr=="function"&&Cr,l=0;l<c.length;l++)a(c[l]);return a}({1:[function(o,P,y){y.byteLength=function(i){var i=n(i),r=i[0],i=i[1];return 3*(r+i)/4-i},y.toByteArray=function(t){var r,i,h=n(t),f=h[0],h=h[1],g=new s(function(m,w){return 3*(m+w)/4-w}(f,h)),v=0,b=0<h?f-4:f;for(i=0;i<b;i+=4)r=a[t.charCodeAt(i)]<<18|a[t.charCodeAt(i+1)]<<12|a[t.charCodeAt(i+2)]<<6|a[t.charCodeAt(i+3)],g[v++]=r>>16&255,g[v++]=r>>8&255,g[v++]=255&r;return h===2&&(r=a[t.charCodeAt(i)]<<2|a[t.charCodeAt(i+1)]>>4,g[v++]=255&r),h===1&&(r=a[t.charCodeAt(i)]<<10|a[t.charCodeAt(i+1)]<<4|a[t.charCodeAt(i+2)]>>2,g[v++]=r>>8&255,g[v++]=255&r),g},y.fromByteArray=function(t){for(var r,i=t.length,f=i%3,h=[],g=0,v=i-f;g<v;g+=16383)h.push(function(b,m,w){for(var j,S=[],T=m;T<w;T+=3)j=(b[T]<<16&16711680)+(b[T+1]<<8&65280)+(255&b[T+2]),S.push(function(E){return c[E>>18&63]+c[E>>12&63]+c[E>>6&63]+c[63&E]}(j));return S.join("")}(t,g,v<g+16383?v:g+16383));return f==1?(r=t[i-1],h.push(c[r>>2]+c[r<<4&63]+"==")):f==2&&(r=(t[i-2]<<8)+t[i-1],h.push(c[r>>10]+c[r>>4&63]+c[r<<2&63]+"=")),h.join("")};for(var c=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,d=l.length;u<d;++u)c[u]=l[u],a[l.charCodeAt(u)]=u;function n(t){var r=t.length;if(0<r%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=t.indexOf("="),r=(t=t===-1?r:t)===r?0:4-t%4,[t,r]}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],2:[function(o,P,y){},{}],3:[function(o,P,y){arguments[4][2][0].apply(y,arguments)},{dup:2}],4:[function(o,P,y){(function(n){var a=o("base64-js"),s=o("ieee754"),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,u=(y.Buffer=n,y.SlowBuffer=function(O){return+O!=O&&(O=0),n.alloc(+O)},y.INSPECT_MAX_BYTES=50,2147483647);function d(O){if(u<O)throw new RangeError('The value "'+O+'" is invalid for option "size"');return O=new Uint8Array(O),Object.setPrototypeOf(O,n.prototype),O}function n(O,R,B){if(typeof O!="number")return t(O,R,B);if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(O)}function t(O,R,B){if(typeof O=="string"){var W=O,K=R;if(n.isEncoding(K=typeof K=="string"&&K!==""?K:"utf8"))return ne=0|g(W,K),ie=d(ne),ie=(W=ie.write(W,K))!==ne?ie.slice(0,W):ie;throw new TypeError("Unknown encoding: "+K)}if(ArrayBuffer.isView(O))return f(O);if(O!=null){if(X(O,ArrayBuffer)||O&&X(O.buffer,ArrayBuffer)){var ne=O,W=R,ie=B;if(W<0||ne.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<W+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return ne=W===void 0&&ie===void 0?new Uint8Array(ne):ie===void 0?new Uint8Array(ne,W):new Uint8Array(ne,W,ie),Object.setPrototypeOf(ne,n.prototype),ne}if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(K=O.valueOf&&O.valueOf(),K!=null&&K!==O)return n.from(K,R,B);var ce=function(oe){{var se,me;if(n.isBuffer(oe))return se=0|h(oe.length),(me=d(se)).length!==0&&oe.copy(me,0,0,se),me}if(oe.length!==void 0)return typeof oe.length!="number"||Y(oe.length)?d(0):f(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return f(oe.data)}(O);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return n.from(O[Symbol.toPrimitive]("string"),R,B)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function r(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function i(O){return r(O),d(O<0?0:0|h(O))}function f(O){for(var R=O.length<0?0:0|h(O.length),B=d(R),W=0;W<R;W+=1)B[W]=255&O[W];return B}function h(O){if(u<=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|O}function g(O,R){if(n.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||X(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var B=O.length,W=2<arguments.length&&arguments[2]===!0;if(!W&&B===0)return 0;for(var K=!1;;)switch(R){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return G(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return H(O).length;default:if(K)return W?-1:G(O).length;R=(""+R).toLowerCase(),K=!0}}function v(O,R,B){var W,K=!1;if((R=R===void 0||R<0?0:R)>this.length||(B=B===void 0||B>this.length?this.length:B)<=0||(B>>>=0)<=(R>>>=0))return"";for(O=O||"utf8";;)switch(O){case"hex":var ne=this,de=R,ie=B,me=ne.length;(!ie||ie<0||me<ie)&&(ie=me);for(var ce="",oe=de=!de||de<0?0:de;oe<ie;++oe)ce+=ee[ne[oe]];return ce;case"utf8":case"utf-8":return T(this,R,B);case"ascii":var se=this,me=R,J=B,ue="";J=Math.min(se.length,J);for(var pe=me;pe<J;++pe)ue+=String.fromCharCode(127&se[pe]);return ue;case"latin1":case"binary":var ye=this,de=R,Ce=B,Te="";Ce=Math.min(ye.length,Ce);for(var Ae=de;Ae<Ce;++Ae)Te+=String.fromCharCode(ye[Ae]);return Te;case"base64":return Se=this,W=B,(Ge=R)===0&&W===Se.length?a.fromByteArray(Se):a.fromByteArray(Se.slice(Ge,W));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Se=R,Ge=B,qe=this.slice(Se,Ge),ze="",Qe=0;Qe<qe.length;Qe+=2)ze+=String.fromCharCode(qe[Qe]+256*qe[Qe+1]);return ze;default:if(K)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),K=!0}}function b(O,R,B){var W=O[R];O[R]=O[B],O[B]=W}function m(O,R,B,W,K){if(O.length===0)return-1;if(typeof B=="string"?(W=B,B=0):2147483647<B?B=2147483647:B<-2147483648&&(B=-2147483648),(B=(B=Y(B=+B)?K?0:O.length-1:B)<0?O.length+B:B)>=O.length){if(K)return-1;B=O.length-1}else if(B<0){if(!K)return-1;B=0}if(typeof R=="string"&&(R=n.from(R,W)),n.isBuffer(R))return R.length===0?-1:w(O,R,B,W,K);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?(K?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(O,R,B):w(O,[R],B,W,K);throw new TypeError("val must be string, number or Buffer")}function w(O,R,B,W,K){var ne=1,ie=O.length,ce=R.length;if(W!==void 0&&((W=String(W).toLowerCase())==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(O.length<2||R.length<2)return-1;ie/=ne=2,ce/=2,B/=2}function oe(pe,ye){return ne===1?pe[ye]:pe.readUInt16BE(ye*ne)}if(K)for(var se=-1,me=B;me<ie;me++)if(oe(O,me)===oe(R,se===-1?0:me-se)){if(me-(se=se===-1?me:se)+1===ce)return se*ne}else se!==-1&&(me-=me-se),se=-1;else for(me=B=ie<B+ce?ie-ce:B;0<=me;me--){for(var J=!0,ue=0;ue<ce;ue++)if(oe(O,me+ue)!==oe(R,ue)){J=!1;break}if(J)return me}return-1}function j(O,R,B,W){return z(function(K){for(var ne=[],ie=0;ie<K.length;++ie)ne.push(255&K.charCodeAt(ie));return ne}(R),O,B,W)}function S(O,R,B,W){return z(function(K,ne){for(var ie,ce,oe=[],se=0;se<K.length&&!((ne-=2)<0);++se)ce=K.charCodeAt(se),ie=ce>>8,ce=ce%256,oe.push(ce),oe.push(ie);return oe}(R,O.length-B),O,B,W)}function T(O,R,B){B=Math.min(O.length,B);for(var W=[],K=R;K<B;){var ne,ie,ce,oe,se=O[K],me=null,J=239<se?4:223<se?3:191<se?2:1;if(K+J<=B)switch(J){case 1:se<128&&(me=se);break;case 2:(192&(ne=O[K+1]))==128&&127<(oe=(31&se)<<6|63&ne)&&(me=oe);break;case 3:ne=O[K+1],ie=O[K+2],(192&ne)==128&&(192&ie)==128&&2047<(oe=(15&se)<<12|(63&ne)<<6|63&ie)&&(oe<55296||57343<oe)&&(me=oe);break;case 4:ne=O[K+1],ie=O[K+2],ce=O[K+3],(192&ne)==128&&(192&ie)==128&&(192&ce)==128&&65535<(oe=(15&se)<<18|(63&ne)<<12|(63&ie)<<6|63&ce)&&oe<1114112&&(me=oe)}me===null?(me=65533,J=1):65535<me&&(me-=65536,W.push(me>>>10&1023|55296),me=56320|1023&me),W.push(me),K+=J}var ue=W,pe=ue.length;if(pe<=E)return String.fromCharCode.apply(String,ue);for(var ye="",de=0;de<pe;)ye+=String.fromCharCode.apply(String,ue.slice(de,de+=E));return ye}y.kMaxLength=u,(n.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(O,R),O.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=t,Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(O,R,B){return R=R,B=B,r(O=O),!(O<=0)&&R!==void 0?typeof B=="string"?d(O).fill(R,B):d(O).fill(R):d(O)},n.allocUnsafe=i,n.allocUnsafeSlow=i,n.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==n.prototype},n.compare=function(O,R){if(X(O,Uint8Array)&&(O=n.from(O,O.offset,O.byteLength)),X(R,Uint8Array)&&(R=n.from(R,R.offset,R.byteLength)),!n.isBuffer(O)||!n.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===R)return 0;for(var B=O.length,W=R.length,K=0,ne=Math.min(B,W);K<ne;++K)if(O[K]!==R[K]){B=O[K],W=R[K];break}return B<W?-1:W<B?1:0},n.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(O,R){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return n.alloc(0);if(R===void 0)for(K=R=0;K<O.length;++K)R+=O[K].length;for(var B=n.allocUnsafe(R),W=0,K=0;K<O.length;++K){var ne=O[K];if(X(ne,Uint8Array)&&(ne=n.from(ne)),!n.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(B,W),W+=ne.length}return B},n.byteLength=g,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<O;R+=2)b(this,R,R+1);return this},n.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<O;R+=4)b(this,R,R+3),b(this,R+1,R+2);return this},n.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<O;R+=8)b(this,R,R+7),b(this,R+1,R+6),b(this,R+2,R+5),b(this,R+3,R+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?T(this,0,O):v.apply(this,arguments)},n.prototype.equals=function(O){if(n.isBuffer(O))return this===O||n.compare(this,O)===0;throw new TypeError("Argument must be a Buffer")},n.prototype.inspect=function(){var R="",O=y.INSPECT_MAX_BYTES,R=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim();return this.length>O&&(R+=" ... "),"<Buffer "+R+">"},l&&(n.prototype[l]=n.prototype.inspect),n.prototype.compare=function(O,R,B,W,K){if(X(O,Uint8Array)&&(O=n.from(O,O.offset,O.byteLength)),!n.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(B===void 0&&(B=O?O.length:0),W===void 0&&(W=0),K===void 0&&(K=this.length),(R=R===void 0?0:R)<0||B>O.length||W<0||K>this.length)throw new RangeError("out of range index");if(K<=W&&B<=R)return 0;if(K<=W)return-1;if(B<=R)return 1;if(this===O)return 0;for(var ne=(K>>>=0)-(W>>>=0),ie=(B>>>=0)-(R>>>=0),ce=Math.min(ne,ie),oe=this.slice(W,K),se=O.slice(R,B),me=0;me<ce;++me)if(oe[me]!==se[me]){ne=oe[me],ie=se[me];break}return ne<ie?-1:ie<ne?1:0},n.prototype.includes=function(O,R,B){return this.indexOf(O,R,B)!==-1},n.prototype.indexOf=function(O,R,B){return m(this,O,R,B,!0)},n.prototype.lastIndexOf=function(O,R,B){return m(this,O,R,B,!1)},n.prototype.write=function(O,R,B,W){if(R===void 0)W="utf8",B=this.length,R=0;else if(B===void 0&&typeof R=="string")W=R,B=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(B)?(B>>>=0,W===void 0&&(W="utf8")):(W=B,B=void 0)}var K=this.length-R;if((B===void 0||K<B)&&(B=K),0<O.length&&(B<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");W=W||"utf8";for(var ne,ie,ce,oe=!1;;)switch(W){case"hex":var se=this,me=O,J=R,ue=B,pe=(J=Number(J)||0,se.length-J);(!ue||pe<(ue=Number(ue)))&&(ue=pe),(pe=me.length)/2<ue&&(ue=pe/2);for(var ye=0;ye<ue;++ye){var de=parseInt(me.substr(2*ye,2),16);if(Y(de))return ye;se[J+ye]=de}return ye;case"utf8":case"utf-8":return pe=R,ce=B,z(G(O,(ie=this).length-pe),ie,pe,ce);case"ascii":return j(this,O,R,B);case"latin1":case"binary":return j(this,O,R,B);case"base64":return ie=this,ce=R,ne=B,z(H(O),ie,ce,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,O,R,B);default:if(oe)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),oe=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function C(O,R,B){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(B<O+R)throw new RangeError("Trying to access beyond buffer length")}function L(O,R,B,W,K,ne){if(!n.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(K<R||R<ne)throw new RangeError('"value" argument is out of bounds');if(B+W>O.length)throw new RangeError("Index out of range")}function k(O,R,B,W){if(B+W>O.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function D(O,R,B,W,K){return R=+R,B>>>=0,K||k(O,0,B,4),s.write(O,R,B,W,23,4),B+4}function F(O,R,B,W,K){return R=+R,B>>>=0,K||k(O,0,B,8),s.write(O,R,B,W,52,8),B+8}n.prototype.slice=function(O,R){var B=this.length,B=((O=~~O)<0?(O+=B)<0&&(O=0):B<O&&(O=B),(R=R===void 0?B:~~R)<0?(R+=B)<0&&(R=0):B<R&&(R=B),R<O&&(R=O),this.subarray(O,R));return Object.setPrototypeOf(B,n.prototype),B},n.prototype.readUIntLE=function(O,R,B){O>>>=0,R>>>=0,B||C(O,R,this.length);for(var W=this[O],K=1,ne=0;++ne<R&&(K*=256);)W+=this[O+ne]*K;return W},n.prototype.readUIntBE=function(O,R,B){O>>>=0,R>>>=0,B||C(O,R,this.length);for(var W=this[O+--R],K=1;0<R&&(K*=256);)W+=this[O+--R]*K;return W},n.prototype.readUInt8=function(O,R){return O>>>=0,R||C(O,1,this.length),this[O]},n.prototype.readUInt16LE=function(O,R){return O>>>=0,R||C(O,2,this.length),this[O]|this[O+1]<<8},n.prototype.readUInt16BE=function(O,R){return O>>>=0,R||C(O,2,this.length),this[O]<<8|this[O+1]},n.prototype.readUInt32LE=function(O,R){return O>>>=0,R||C(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},n.prototype.readUInt32BE=function(O,R){return O>>>=0,R||C(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},n.prototype.readIntLE=function(O,R,B){O>>>=0,R>>>=0,B||C(O,R,this.length);for(var W=this[O],K=1,ne=0;++ne<R&&(K*=256);)W+=this[O+ne]*K;return(K*=128)<=W&&(W-=Math.pow(2,8*R)),W},n.prototype.readIntBE=function(O,R,B){O>>>=0,R>>>=0,B||C(O,R,this.length);for(var W=R,K=1,ne=this[O+--W];0<W&&(K*=256);)ne+=this[O+--W]*K;return(K*=128)<=ne&&(ne-=Math.pow(2,8*R)),ne},n.prototype.readInt8=function(O,R){return O>>>=0,R||C(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},n.prototype.readInt16LE=function(O,R){return O>>>=0,R||C(O,2,this.length),R=this[O]|this[O+1]<<8,32768&R?4294901760|R:R},n.prototype.readInt16BE=function(O,R){return O>>>=0,R||C(O,2,this.length),R=this[O+1]|this[O]<<8,32768&R?4294901760|R:R},n.prototype.readInt32LE=function(O,R){return O>>>=0,R||C(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},n.prototype.readInt32BE=function(O,R){return O>>>=0,R||C(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},n.prototype.readFloatLE=function(O,R){return O>>>=0,R||C(O,4,this.length),s.read(this,O,!0,23,4)},n.prototype.readFloatBE=function(O,R){return O>>>=0,R||C(O,4,this.length),s.read(this,O,!1,23,4)},n.prototype.readDoubleLE=function(O,R){return O>>>=0,R||C(O,8,this.length),s.read(this,O,!0,52,8)},n.prototype.readDoubleBE=function(O,R){return O>>>=0,R||C(O,8,this.length),s.read(this,O,!1,52,8)},n.prototype.writeUIntLE=function(O,R,B,W){O=+O,R>>>=0,B>>>=0,W||L(this,O,R,B,Math.pow(2,8*B)-1,0);var K=1,ne=0;for(this[R]=255&O;++ne<B&&(K*=256);)this[R+ne]=O/K&255;return R+B},n.prototype.writeUIntBE=function(O,R,B,W){O=+O,R>>>=0,B>>>=0,W||L(this,O,R,B,Math.pow(2,8*B)-1,0);var K=B-1,ne=1;for(this[R+K]=255&O;0<=--K&&(ne*=256);)this[R+K]=O/ne&255;return R+B},n.prototype.writeUInt8=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,1,255,0),this[R]=255&O,R+1},n.prototype.writeUInt16LE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,2,65535,0),this[R]=255&O,this[R+1]=O>>>8,R+2},n.prototype.writeUInt16BE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,2,65535,0),this[R]=O>>>8,this[R+1]=255&O,R+2},n.prototype.writeUInt32LE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,4,4294967295,0),this[R+3]=O>>>24,this[R+2]=O>>>16,this[R+1]=O>>>8,this[R]=255&O,R+4},n.prototype.writeUInt32BE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,4,4294967295,0),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},n.prototype.writeIntLE=function(O,R,B,W){O=+O,R>>>=0,W||L(this,O,R,B,(W=Math.pow(2,8*B-1))-1,-W);var K=0,ne=1,ie=0;for(this[R]=255&O;++K<B&&(ne*=256);)O<0&&ie===0&&this[R+K-1]!==0&&(ie=1),this[R+K]=(O/ne>>0)-ie&255;return R+B},n.prototype.writeIntBE=function(O,R,B,W){O=+O,R>>>=0,W||L(this,O,R,B,(W=Math.pow(2,8*B-1))-1,-W);var K=B-1,ne=1,ie=0;for(this[R+K]=255&O;0<=--K&&(ne*=256);)O<0&&ie===0&&this[R+K+1]!==0&&(ie=1),this[R+K]=(O/ne>>0)-ie&255;return R+B},n.prototype.writeInt8=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,1,127,-128),this[R]=255&(O=O<0?255+O+1:O),R+1},n.prototype.writeInt16LE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,2,32767,-32768),this[R]=255&O,this[R+1]=O>>>8,R+2},n.prototype.writeInt16BE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,2,32767,-32768),this[R]=O>>>8,this[R+1]=255&O,R+2},n.prototype.writeInt32LE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,4,2147483647,-2147483648),this[R]=255&O,this[R+1]=O>>>8,this[R+2]=O>>>16,this[R+3]=O>>>24,R+4},n.prototype.writeInt32BE=function(O,R,B){return O=+O,R>>>=0,B||L(this,O,R,4,2147483647,-2147483648),this[R]=(O=O<0?4294967295+O+1:O)>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},n.prototype.writeFloatLE=function(O,R,B){return D(this,O,R,!0,B)},n.prototype.writeFloatBE=function(O,R,B){return D(this,O,R,!1,B)},n.prototype.writeDoubleLE=function(O,R,B){return F(this,O,R,!0,B)},n.prototype.writeDoubleBE=function(O,R,B){return F(this,O,R,!1,B)},n.prototype.copy=function(O,R,B,W){if(!n.isBuffer(O))throw new TypeError("argument should be a Buffer");if(B=B||0,W||W===0||(W=this.length),R>=O.length&&(R=O.length),(W=0<W&&W<B?B:W)===B||O.length===0||this.length===0)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length);var K=(W=O.length-R<W-B?O.length-R+B:W)-B;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,B,W);else if(this===O&&B<R&&R<W)for(var ne=K-1;0<=ne;--ne)O[ne+R]=this[ne+B];else Uint8Array.prototype.set.call(O,this.subarray(B,W),R);return K},n.prototype.fill=function(O,R,B,W){if(typeof O=="string"){if(typeof R=="string"?(W=R,R=0,B=this.length):typeof B=="string"&&(W=B,B=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!n.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var K;O.length===1&&(K=O.charCodeAt(0),(W==="utf8"&&K<128||W==="latin1")&&(O=K))}else typeof O=="number"?O&=255:typeof O=="boolean"&&(O=Number(O));if(R<0||this.length<R||this.length<B)throw new RangeError("Out of range index");var ne;if(!(B<=R))if(R>>>=0,B=B===void 0?this.length:B>>>0,typeof(O=O||0)=="number")for(ne=R;ne<B;++ne)this[ne]=O;else{var ie=n.isBuffer(O)?O:n.from(O,W),ce=ie.length;if(ce===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(ne=0;ne<B-R;++ne)this[ne+R]=ie[ne%ce]}return this};var V=/[^+/0-9A-Za-z-_]/g;function G(O,R){R=R||1/0;for(var B,W=O.length,K=null,ne=[],ie=0;ie<W;++ie){if(55295<(B=O.charCodeAt(ie))&&B<57344){if(!K){if(56319<B){-1<(R-=3)&&ne.push(239,191,189);continue}if(ie+1===W){-1<(R-=3)&&ne.push(239,191,189);continue}K=B;continue}if(B<56320){-1<(R-=3)&&ne.push(239,191,189),K=B;continue}B=65536+(K-55296<<10|B-56320)}else K&&-1<(R-=3)&&ne.push(239,191,189);if(K=null,B<128){if(--R<0)break;ne.push(B)}else if(B<2048){if((R-=2)<0)break;ne.push(B>>6|192,63&B|128)}else if(B<65536){if((R-=3)<0)break;ne.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;ne.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return ne}function H(O){return a.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(O))}function z(O,R,B,W){for(var K=0;K<W&&!(K+B>=R.length||K>=O.length);++K)R[K+B]=O[K];return K}function X(O,R){return O instanceof R||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===R.name}function Y(O){return O!=O}var ee=function(){for(var O="0123456789abcdef",R=new Array(256),B=0;B<16;++B)for(var W=16*B,K=0;K<16;++K)R[W+K]=O[B]+O[K];return R}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(o,P,y){P.exports=function(c){if(typeof c!="function")throw TypeError(String(c)+" is not a function");return c}},{}],6:[function(o,P,y){var c=o("../internals/is-object");P.exports=function(a){if(c(a)||a===null)return a;throw TypeError("Can't set "+String(a)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,P,y){var c=s("../internals/well-known-symbol"),a=s("../internals/object-create"),s=s("../internals/object-define-property"),l=c("unscopables"),u=Array.prototype;u[l]==null&&s.f(u,l,{configurable:!0,value:a(null)}),P.exports=function(d){u[l][d]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(o,P,y){var c=o("../internals/string-multibyte").charAt;P.exports=function(a,s,l){return s+(l?c(a,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(o,P,y){P.exports=function(c,a,s){if(c instanceof a)return c;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(o,P,y){var c=o("../internals/is-object");P.exports=function(a){if(c(a))return a;throw TypeError(String(a)+" is not an object")}},{"../internals/is-object":74}],11:[function(o,P,y){P.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(k,P,y){function c(F){return d(F)&&n(D,t(F))}var a,s=k("../internals/array-buffer-native"),l=k("../internals/descriptors"),u=k("../internals/global"),d=k("../internals/is-object"),n=k("../internals/has"),t=k("../internals/classof"),r=k("../internals/create-non-enumerable-property"),i=k("../internals/redefine"),f=k("../internals/object-define-property").f,h=k("../internals/object-get-prototype-of"),g=k("../internals/object-set-prototype-of"),E=k("../internals/well-known-symbol"),k=k("../internals/uid"),v=u.Int8Array,b=v&&v.prototype,m=u.Uint8ClampedArray,m=m&&m.prototype,w=v&&h(v),j=b&&h(b),S=Object.prototype,T=S.isPrototypeOf,E=E("toStringTag"),C=k("TYPED_ARRAY_TAG"),L=s&&!!g&&t(u.opera)!=="Opera",k=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(a in D)u[a]||(L=!1);if((!L||typeof w!="function"||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},L))for(a in D)u[a]&&g(u[a],w);if((!L||!j||j===S)&&(j=w.prototype,L))for(a in D)u[a]&&g(u[a].prototype,j);if(L&&h(m)!==j&&g(m,j),l&&!n(j,E))for(a in k=!0,f(j,E,{get:function(){return d(this)?this[C]:void 0}}),D)u[a]&&r(u[a],C,a);P.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:k&&C,aTypedArray:function(F){if(c(F))return F;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(F){if(g){if(T.call(w,F))return F}else for(var V in D)if(n(D,a)&&(V=u[V],V&&(F===V||T.call(V,F))))return F;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(F,V,G){if(l){if(G)for(var H in D)H=u[H],H&&n(H.prototype,F)&&delete H.prototype[F];j[F]&&!G||i(j,F,!G&&L&&b[F]||V)}},exportTypedArrayStaticMethod:function(F,V,G){var H,z;if(l){if(g){if(G)for(H in D)(z=u[H])&&n(z,F)&&delete z[F];if(w[F]&&!G)return;try{return i(w,F,!G&&L&&v[F]||V)}catch{}}for(H in D)!(z=u[H])||z[F]&&!G||i(z,F,V)}},isView:function(F){return F=t(F),F==="DataView"||n(D,F)},isTypedArray:c,TypedArray:w,TypedArrayPrototype:j}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(B,P,y){function c(J){return[255&J]}function a(J){return[255&J,J>>8&255]}function s(J){return[255&J,J>>8&255,J>>16&255,J>>24&255]}function l(J){return J[3]<<24|J[2]<<16|J[1]<<8|J[0]}function u(J){return ne(J,23,4)}function d(J){return ne(J,52,8)}function n(J,ue){k(J[X],ue,{get:function(){return V(this)[ue]}})}function t(Te,ue,Ce,ye){if(Ce=S(Ce),Te=V(Te),Ce+ue>Te.byteLength)throw K(Y);var de=V(Te.buffer).bytes,Ce=Ce+Te.byteOffset,Te=de.slice(Ce,Ce+ue);return ye?Te:Te.reverse()}function r(J,ue,pe,ye,de,Ce){if(pe=S(pe),J=V(J),pe+ue>J.byteLength)throw K(Y);for(var Te=V(J.buffer).bytes,Ae=pe+J.byteOffset,Se=ye(+de),Ge=0;Ge<ue;Ge++)Te[Ae+Ge]=Se[Ce?Ge:ue-Ge-1]}var i=B("../internals/global"),f=B("../internals/descriptors"),h=B("../internals/array-buffer-native"),g=B("../internals/create-non-enumerable-property"),v=B("../internals/redefine-all"),b=B("../internals/fails"),m=B("../internals/an-instance"),w=B("../internals/to-integer"),j=B("../internals/to-length"),S=B("../internals/to-index"),T=B("../internals/ieee754"),E=B("../internals/object-get-prototype-of"),C=B("../internals/object-set-prototype-of"),L=B("../internals/object-get-own-property-names").f,k=B("../internals/object-define-property").f,D=B("../internals/array-fill"),F=B("../internals/set-to-string-tag"),B=B("../internals/internal-state"),V=B.get,G=B.set,H="ArrayBuffer",z="DataView",X="prototype",Y="Wrong index",ee=i[H],O=ee,R=i[z],B=R&&R[X],W=Object.prototype,K=i.RangeError,ne=T.pack,ie=T.unpack;if(h){if(!b(function(){ee(1)})||!b(function(){new ee(-1)})||b(function(){return new ee,new ee(1.5),new ee(NaN),ee.name!=H})){for(var ce,i=(O=function(pe){return m(this,O),new ee(S(pe))})[X]=ee[X],oe=L(ee),se=0;oe.length>se;)(ce=oe[se++])in O||g(O,ce,ee[ce]);i.constructor=O}C&&E(B)!==W&&C(B,W);var T=new R(new O(2)),me=B.setInt8;T.setInt8(0,2147483648),T.setInt8(1,2147483649),!T.getInt8(0)&&T.getInt8(1)||v(B,{setInt8:function(ue,pe){me.call(this,ue,pe<<24>>24)},setUint8:function(ue,pe){me.call(this,ue,pe<<24>>24)}},{unsafe:!0})}else O=function(J){m(this,O,H),J=S(J),G(this,{bytes:D.call(new Array(J),0),byteLength:J}),f||(this.byteLength=J)},R=function(J,de,pe){m(this,R,z),m(J,O,z);var ye=V(J).byteLength,de=w(de);if(de<0||ye<de)throw K("Wrong offset");if(ye<de+(pe=pe===void 0?ye-de:j(pe)))throw K("Wrong length");G(this,{buffer:J,byteLength:pe,byteOffset:de}),f||(this.buffer=J,this.byteLength=pe,this.byteOffset=de)},f&&(n(O,"byteLength"),n(R,"buffer"),n(R,"byteLength"),n(R,"byteOffset")),v(R[X],{getInt8:function(J){return t(this,1,J)[0]<<24>>24},getUint8:function(J){return t(this,1,J)[0]},getInt16:function(J){return J=t(this,2,J,1<arguments.length?arguments[1]:void 0),(J[1]<<8|J[0])<<16>>16},getUint16:function(J){return J=t(this,2,J,1<arguments.length?arguments[1]:void 0),J[1]<<8|J[0]},getInt32:function(J){return l(t(this,4,J,1<arguments.length?arguments[1]:void 0))},getUint32:function(J){return l(t(this,4,J,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(J){return ie(t(this,4,J,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(J){return ie(t(this,8,J,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(J,ue){r(this,1,J,c,ue)},setUint8:function(J,ue){r(this,1,J,c,ue)},setInt16:function(J,ue){r(this,2,J,a,ue,2<arguments.length?arguments[2]:void 0)},setUint16:function(J,ue){r(this,2,J,a,ue,2<arguments.length?arguments[2]:void 0)},setInt32:function(J,ue){r(this,4,J,s,ue,2<arguments.length?arguments[2]:void 0)},setUint32:function(J,ue){r(this,4,J,s,ue,2<arguments.length?arguments[2]:void 0)},setFloat32:function(J,ue){r(this,4,J,u,ue,2<arguments.length?arguments[2]:void 0)},setFloat64:function(J,ue){r(this,8,J,d,ue,2<arguments.length?arguments[2]:void 0)}});F(O,H),F(R,z),P.exports={ArrayBuffer:O,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(o,P,y){var c=o("../internals/to-object"),a=o("../internals/to-absolute-index"),s=o("../internals/to-length"),l=Math.min;P.exports=[].copyWithin||function(f,d){var n=c(this),t=s(n.length),r=a(f,t),i=a(d,t),f=2<arguments.length?arguments[2]:void 0,h=l((f===void 0?t:a(f,t))-i,t-r),g=1;for(i<r&&r<i+h&&(g=-1,i+=h-1,r+=h-1);0<h--;)i in n?n[r]=n[i]:delete n[r],r+=g,i+=g;return n}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(o,P,y){var c=o("../internals/to-object"),a=o("../internals/to-absolute-index"),s=o("../internals/to-length");P.exports=function(l){for(var u=c(this),d=s(u.length),t=arguments.length,n=a(1<t?arguments[1]:void 0,d),t=2<t?arguments[2]:void 0,r=t===void 0?d:a(t,d);n<r;)u[n++]=l;return u}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(s,P,y){var c=s("../internals/array-iteration").forEach,a=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),a=a("forEach"),s=s("forEach");P.exports=a&&s?[].forEach:function(l){return c(this,l,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,P,y){var c=o("../internals/function-bind-context"),a=o("../internals/to-object"),s=o("../internals/call-with-safe-iteration-closing"),l=o("../internals/is-array-iterator-method"),u=o("../internals/to-length"),d=o("../internals/create-property"),n=o("../internals/get-iterator-method");P.exports=function(m){var r,i,f,h,g,v,b=a(m),m=typeof this=="function"?this:Array,w=arguments.length,j=1<w?arguments[1]:void 0,S=j!==void 0,T=n(b),E=0;if(S&&(j=c(j,2<w?arguments[2]:void 0,2)),T==null||m==Array&&l(T))for(i=new m(r=u(b.length));E<r;E++)v=S?j(b[E],E):b[E],d(i,E,v);else for(g=(h=T.call(b)).next,i=new m;!(f=g.call(h)).done;E++)v=S?s(h,j,[f.value,E],!0):f.value,d(i,E,v);return i.length=E,i}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(o,P,y){function c(u){return function(d,n,t){var r,i=a(d),f=s(i.length),h=l(t,f);if(u&&n!=n){for(;h<f;)if((r=i[h++])!=r)return!0}else for(;h<f;h++)if((u||h in i)&&i[h]===n)return u||h||0;return!u&&-1}}var a=o("../internals/to-indexed-object"),s=o("../internals/to-length"),l=o("../internals/to-absolute-index");P.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(o,P,y){function c(t){var r=t==1,i=t==2,f=t==3,h=t==4,g=t==6,v=t==5||g;return function(b,m,w,j){for(var S,T,E=l(b),C=s(E),L=a(m,w,3),k=u(C.length),D=0,m=j||d,F=r?m(b,k):i?m(b,0):void 0;D<k;D++)if((v||D in C)&&(T=L(S=C[D],D,E),t)){if(r)F[D]=T;else if(T)switch(t){case 3:return!0;case 5:return S;case 6:return D;case 2:n.call(F,S)}else if(h)return!1}return g?-1:f||h?h:F}}var a=o("../internals/function-bind-context"),s=o("../internals/indexed-object"),l=o("../internals/to-object"),u=o("../internals/to-length"),d=o("../internals/array-species-create"),n=[].push;P.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(t,P,y){var c=t("../internals/to-indexed-object"),a=t("../internals/to-integer"),s=t("../internals/to-length"),n=t("../internals/array-method-is-strict"),t=t("../internals/array-method-uses-to-length"),l=Math.min,u=[].lastIndexOf,d=!!u&&1/[1].lastIndexOf(1,-0)<0,n=n("lastIndexOf"),t=t("indexOf",{ACCESSORS:!0,1:0});P.exports=d||!n||!t?function(r){if(d)return u.apply(this,arguments)||0;var i=c(this),f=s(i.length),h=f-1;for((h=1<arguments.length?l(h,a(arguments[1])):h)<0&&(h=f+h);0<=h;h--)if(h in i&&i[h]===r)return h||0;return-1}:u},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(o,P,y){var c=o("../internals/fails"),a=o("../internals/well-known-symbol"),s=o("../internals/engine-v8-version"),l=a("species");P.exports=function(u){return 51<=s||!c(function(){var d=[];return(d.constructor={})[l]=function(){return{foo:1}},d[u](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(o,P,y){var c=o("../internals/fails");P.exports=function(a,s){var l=[][a];return!!l&&c(function(){l.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,P,y){function c(n){throw n}var a=o("../internals/descriptors"),s=o("../internals/fails"),l=o("../internals/has"),u=Object.defineProperty,d={};P.exports=function(n,t){var r,i,f,h;return l(d,n)?d[n]:(r=[][n],i=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,f=l(t,0)?t[0]:c,h=l(t,1)?t[1]:void 0,d[n]=!!r&&!s(function(){if(i&&!a)return!0;var g={length:-1};i?u(g,1,{enumerable:!0,get:c}):g[1]=1,r.call(g,f,h)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(o,P,y){function c(d){return function(n,t,r,i){a(t);var f=s(n),h=l(f),g=u(f.length),v=d?g-1:0,b=d?-1:1;if(r<2)for(;;){if(v in h){i=h[v],v+=b;break}if(v+=b,d?v<0:g<=v)throw TypeError("Reduce of empty array with no initial value")}for(;d?0<=v:v<g;v+=b)v in h&&(i=t(i,h[v],v,f));return i}}var a=o("../internals/a-function"),s=o("../internals/to-object"),l=o("../internals/indexed-object"),u=o("../internals/to-length");P.exports={left:c(!1),right:c(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(o,P,y){var c=o("../internals/is-object"),a=o("../internals/is-array"),s=o("../internals/well-known-symbol")("species");P.exports=function(l,u){var d;return new((d=a(l)&&(typeof(d=l.constructor)=="function"&&(d===Array||a(d.prototype))||c(d)&&(d=d[s])===null)?void 0:d)===void 0?Array:d)(u===0?0:u)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(o,P,y){var c=o("../internals/an-object");P.exports=function(a,s,l,u){try{return u?s(c(l)[0],l[1]):s(l)}catch(d){throw u=a.return,u!==void 0&&c(u.call(a)),d}}},{"../internals/an-object":10}],27:[function(o,P,y){var c=o("../internals/well-known-symbol")("iterator"),a=!1;try{var s=0,l={next:function(){return{done:!!s++}},return:function(){a=!0}};l[c]=function(){return this},Array.from(l,function(){throw 2})}catch{}P.exports=function(u,d){if(!d&&!a)return!1;var n=!1;try{var t={};t[c]=function(){return{next:function(){return{done:n=!0}}}},u(t)}catch{}return n}},{"../internals/well-known-symbol":146}],28:[function(o,P,y){var c={}.toString;P.exports=function(a){return c.call(a).slice(8,-1)}},{}],29:[function(o,P,y){var c=o("../internals/to-string-tag-support"),a=o("../internals/classof-raw"),s=o("../internals/well-known-symbol")("toStringTag"),l=a(function(){return arguments}())=="Arguments";P.exports=c?a:function(u){var d;return u===void 0?"Undefined":u===null?"Null":typeof(d=function(n,t){try{return n[t]}catch{}}(u=Object(u),s))=="string"?d:l?a(u):(d=a(u))=="Object"&&typeof u.callee=="function"?"Arguments":d}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(f,P,y){var c=f("../internals/object-define-property").f,a=f("../internals/object-create"),s=f("../internals/redefine-all"),l=f("../internals/function-bind-context"),u=f("../internals/an-instance"),d=f("../internals/iterate"),n=f("../internals/define-iterator"),t=f("../internals/set-species"),r=f("../internals/descriptors"),i=f("../internals/internal-metadata").fastKey,f=f("../internals/internal-state"),h=f.set,g=f.getterFor;P.exports={getConstructor:function(v,b,m,w){function j(C,L,k){var D,F=E(C),V=S(C,L);return V?V.value=k:(F.last=V={index:D=i(L,!0),key:L,value:k,previous:L=F.last,next:void 0,removed:!1},F.first||(F.first=V),L&&(L.next=V),r?F.size++:C.size++,D!=="F"&&(F.index[D]=V)),C}function S(D,L){var k,D=E(D),F=i(L);if(F!=="F")return D.index[F];for(k=D.first;k;k=k.next)if(k.key==L)return k}var T=v(function(C,L){u(C,T,b),h(C,{type:b,index:a(null),first:void 0,last:void 0,size:0}),r||(C.size=0),L!=null&&d(L,C[w],C,m)}),E=g(b);return s(T.prototype,{clear:function(){for(var C=E(this),L=C.index,k=C.first;k;)k.removed=!0,k.previous&&(k.previous=k.previous.next=void 0),delete L[k.index],k=k.next;C.first=C.last=void 0,r?C.size=0:this.size=0},delete:function(F){var L,k,D=E(this),F=S(this,F);return F&&(L=F.next,k=F.previous,delete D.index[F.index],F.removed=!0,k&&(k.next=L),L&&(L.previous=k),D.first==F&&(D.first=L),D.last==F&&(D.last=k),r?D.size--:this.size--),!!F},forEach:function(C){for(var L,k=E(this),D=l(C,1<arguments.length?arguments[1]:void 0,3);L=L?L.next:k.first;)for(D(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(C){return!!S(this,C)}}),s(T.prototype,m?{get:function(C){return C=S(this,C),C&&C.value},set:function(C,L){return j(this,C===0?0:C,L)}}:{add:function(C){return j(this,C=C===0?0:C,C)}}),r&&c(T.prototype,"size",{get:function(){return E(this).size}}),T},setStrong:function(v,b,m){var w=b+" Iterator",j=g(b),S=g(w);n(v,b,function(T,E){h(this,{type:w,target:T,state:j(T),kind:E,last:void 0})},function(){for(var T=S(this),E=T.kind,C=T.last;C&&C.removed;)C=C.previous;return T.target&&(T.last=C=C?C.next:T.state.first)?E=="keys"?{value:C.key,done:!1}:E=="values"?{value:C.value,done:!1}:{value:[C.key,C.value],done:!1}:{value:T.target=void 0,done:!0}},m?"entries":"values",!m,!0),t(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(h,P,y){function c(j){return j.frozen||(j.frozen=new a)}function a(){this.entries=[]}function s(j,S){return b(j.entries,function(T){return T[0]===S})}var l=h("../internals/redefine-all"),u=h("../internals/internal-metadata").getWeakData,d=h("../internals/an-object"),n=h("../internals/is-object"),t=h("../internals/an-instance"),r=h("../internals/iterate"),i=h("../internals/array-iteration"),f=h("../internals/has"),h=h("../internals/internal-state"),g=h.set,v=h.getterFor,b=i.find,m=i.findIndex,w=0;a.prototype={get:function(j){if(j=s(this,j),j)return j[1]},has:function(j){return!!s(this,j)},set:function(j,S){var T=s(this,j);T?T[1]=S:this.entries.push([j,S])},delete:function(j){var S=m(this.entries,function(T){return T[0]===j});return~S&&this.entries.splice(S,1),!!~S}},P.exports={getConstructor:function(j,S,T,E){function C(D,F,V){var G=k(D),H=u(d(F),!0);return H===!0?c(G).set(F,V):H[G.id]=V,D}var L=j(function(D,F){t(D,L,S),g(D,{type:S,id:w++,frozen:void 0}),F!=null&&r(F,D[E],D,T)}),k=v(S);return l(L.prototype,{delete:function(D){var F,V=k(this);return!!n(D)&&((F=u(D))===!0?c(V).delete(D):F&&f(F,V.id)&&delete F[V.id])},has:function(D){var F,V=k(this);return!!n(D)&&((F=u(D))===!0?c(V).has(D):F&&f(F,V.id))}}),l(L.prototype,T?{get:function(D){var F,V=k(this);if(n(D))return(F=u(D))===!0?c(V).get(D):F?F[V.id]:void 0},set:function(D,F){return C(this,D,F)}}:{add:function(D){return C(this,D,!0)}}),L}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/global"),s=o("../internals/is-forced"),l=o("../internals/redefine"),u=o("../internals/internal-metadata"),d=o("../internals/iterate"),n=o("../internals/an-instance"),t=o("../internals/is-object"),r=o("../internals/fails"),i=o("../internals/check-correctness-of-iteration"),f=o("../internals/set-to-string-tag"),h=o("../internals/inherit-if-required");P.exports=function(g,v,b){function m(H){var z=F[H];l(F,H,H=="add"?function(X){return z.call(this,X===0?0:X),this}:H=="delete"?function(X){return!(L&&!t(X))&&z.call(this,X===0?0:X)}:H=="get"?function(X){return L&&!t(X)?void 0:z.call(this,X===0?0:X)}:H=="has"?function(X){return!(L&&!t(X))&&z.call(this,X===0?0:X)}:function(X,Y){return z.call(this,X===0?0:X,Y),this})}var w,j,S,T,E,C=g.indexOf("Map")!==-1,L=g.indexOf("Weak")!==-1,k=C?"set":"add",D=a[g],F=D&&D.prototype,V=D,G={};return s(g,typeof D!="function"||!(L||F.forEach&&!r(function(){new D().entries().next()})))?(V=b.getConstructor(v,g,C,k),u.REQUIRED=!0):s(g,!0)&&(j=(w=new V)[k](L?{}:-0,1)!=w,S=r(function(){w.has(1)}),T=i(function(H){new D(H)}),E=!L&&r(function(){for(var H=new D,z=5;z--;)H[k](z,z);return!H.has(-0)}),T||(((V=v(function(H,z){return n(H,V,g),H=h(new D,H,V),z!=null&&d(z,H[k],H,C),H})).prototype=F).constructor=V),(S||E)&&(m("delete"),m("has"),C&&m("get")),(E||j)&&m(k),L&&F.clear&&delete F.clear),G[g]=V,c({global:!0,forced:V!=D},G),f(V,g),L||b.setStrong(V,g,C),V}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(o,P,y){var c=o("../internals/has"),a=o("../internals/own-keys"),s=o("../internals/object-get-own-property-descriptor"),l=o("../internals/object-define-property");P.exports=function(u,d){for(var n=a(d),t=l.f,r=s.f,i=0;i<n.length;i++){var f=n[i];c(u,f)||t(u,f,r(d,f))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(o,P,y){var c=o("../internals/well-known-symbol")("match");P.exports=function(a){var s=/./;try{"/./"[a](s)}catch{try{return s[c]=!1,"/./"[a](s)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(o,P,y){o=o("../internals/fails"),P.exports=!o(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},{"../internals/fails":51}],36:[function(o,P,y){var c=o("../internals/require-object-coercible"),a=/"/g;P.exports=function(n,l,u,d){var n=String(c(n)),t="<"+l;return u!==""&&(t+=" "+u+'="'+String(d).replace(a,"&quot;")+'"'),t+">"+n+"</"+l+">"}},{"../internals/require-object-coercible":113}],37:[function(o,P,y){function c(){return this}var a=o("../internals/iterators-core").IteratorPrototype,s=o("../internals/object-create"),l=o("../internals/create-property-descriptor"),u=o("../internals/set-to-string-tag"),d=o("../internals/iterators");P.exports=function(n,t,r){return t+=" Iterator",n.prototype=s(a,{next:l(1,r)}),u(n,t,!1,!0),d[t]=c,n}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/object-define-property"),s=o("../internals/create-property-descriptor");P.exports=c?function(l,u,d){return a.f(l,u,s(1,d))}:function(l,u,d){return l[u]=d,l}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(o,P,y){P.exports=function(c,a){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:a}}},{}],40:[function(o,P,y){var c=o("../internals/to-primitive"),a=o("../internals/object-define-property"),s=o("../internals/create-property-descriptor");P.exports=function(l,u,d){u=c(u),u in l?a.f(l,u,s(0,d)):l[u]=d}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(h,P,y){function c(){return this}var a=h("../internals/export"),s=h("../internals/create-iterator-constructor"),l=h("../internals/object-get-prototype-of"),u=h("../internals/object-set-prototype-of"),d=h("../internals/set-to-string-tag"),n=h("../internals/create-non-enumerable-property"),t=h("../internals/redefine"),r=h("../internals/well-known-symbol"),i=h("../internals/is-pure"),f=h("../internals/iterators"),h=h("../internals/iterators-core"),g=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,b=r("iterator"),m="values",w="entries";P.exports=function(j,S,T,G,C,L,k){s(T,S,G);function D(O){if(O===C&&Y)return Y;if(!v&&O in z)return z[O];switch(O){case"keys":case m:case w:return function(){return new T(this,O)}}return function(){return new T(this)}}var F,V,G=S+" Iterator",H=!1,z=j.prototype,X=z[b]||z["@@iterator"]||C&&z[C],Y=!v&&X||D(C),ee=S=="Array"&&z.entries||X;if(ee&&(ee=l(ee.call(new j)),g!==Object.prototype&&ee.next&&(i||l(ee)===g||(u?u(ee,g):typeof ee[b]!="function"&&n(ee,b,c)),d(ee,G,!0,!0),i&&(f[G]=c))),C==m&&X&&X.name!==m&&(H=!0,Y=function(){return X.call(this)}),i&&!k||z[b]===Y||n(z,b,Y),f[S]=Y,C)if(F={values:D(m),keys:L?Y:D("keys"),entries:D(w)},k)for(V in F)!v&&!H&&V in z||t(z,V,F[V]);else a({target:S,proto:!0,forced:v||H},F);return F}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(o,P,y){var c=o("../internals/path"),a=o("../internals/has"),s=o("../internals/well-known-symbol-wrapped"),l=o("../internals/object-define-property").f;P.exports=function(u){var d=c.Symbol||(c.Symbol={});a(d,u)||l(d,u,{value:s.f(u)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(o,P,y){o=o("../internals/fails"),P.exports=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(a,P,y){var c=a("../internals/global"),a=a("../internals/is-object"),s=c.document,l=a(s)&&a(s.createElement);P.exports=function(u){return l?s.createElement(u):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(o,P,y){P.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,P,y){o=o("../internals/engine-user-agent"),P.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,P,y){o=o("../internals/get-built-in"),P.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,P,y){var c,a,l=s("../internals/global"),s=s("../internals/engine-user-agent"),l=l.process,l=l&&l.versions,l=l&&l.v8;l?a=(c=l.split("."))[0]+c[1]:s&&(!(c=s.match(/Edge\/(\d+)/))||74<=c[1])&&(c=s.match(/Chrome\/(\d+)/))&&(a=c[1]),P.exports=a&&+a},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(o,P,y){P.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,P,y){var c=o("../internals/global"),a=o("../internals/object-get-own-property-descriptor").f,s=o("../internals/create-non-enumerable-property"),l=o("../internals/redefine"),u=o("../internals/set-global"),d=o("../internals/copy-constructor-properties"),n=o("../internals/is-forced");P.exports=function(t,r){var i,f,h,g=t.target,v=t.global,b=t.stat,m=v?c:b?c[g]||u(g,{}):(c[g]||{}).prototype;if(m)for(i in r){if(f=r[i],h=t.noTargetGet?(h=a(m,i))&&h.value:m[i],!n(v?i:g+(b?".":"#")+i,t.forced)&&h!==void 0){if(typeof f==typeof h)continue;d(f,h)}(t.sham||h&&h.sham)&&s(f,"sham",!0),l(m,i,f,t)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(o,P,y){P.exports=function(c){try{return!!c()}catch{return!0}}},{}],52:[function(r,P,y){r("../modules/es.regexp.exec");var c=r("../internals/redefine"),a=r("../internals/fails"),s=r("../internals/well-known-symbol"),l=r("../internals/regexp-exec"),u=r("../internals/create-non-enumerable-property"),d=s("species"),n=!a(function(){var h=/./;return h.exec=function(){var g=[];return g.groups={a:"7"},g},"".replace(h,"$<a>")!=="7"}),t="a".replace(/./,"$0")==="$0",r=s("replace"),i=!!/./[r]&&/./[r]("a","$0")==="",f=!a(function(){var g=/(?:)/,h=g.exec,g=(g.exec=function(){return h.apply(this,arguments)},"ab".split(g));return g.length!==2||g[0]!=="a"||g[1]!=="b"});P.exports=function(h,g,v,b){var m,w,j=s(h),S=!a(function(){var E={};return E[j]=function(){return 7},""[h](E)!=7}),T=S&&!a(function(){var E=!1,C=/a/;return h==="split"&&((C={constructor:{}}).constructor[d]=function(){return C},C.flags="",C[j]=/./[j]),C.exec=function(){return E=!0,null},C[j](""),!E});S&&T&&(h!=="replace"||n&&t&&!i)&&(h!=="split"||f)||(m=/./[j],v=(T=v(j,""[h],function(E,C,L,k,D){return C.exec===l?S&&!D?{done:!0,value:m.call(C,L,k)}:{done:!0,value:E.call(L,C,k)}:{done:!1}},{REPLACE_KEEPS_$0:t,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}))[0],w=T[1],c(String.prototype,h,v),c(RegExp.prototype,j,g==2?function(E,C){return w.call(E,this,C)}:function(E){return w.call(E,this)})),b&&u(RegExp.prototype[j],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(o,P,y){o=o("../internals/fails"),P.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(o,P,y){var c=o("../internals/a-function");P.exports=function(a,s,l){if(c(a),s===void 0)return a;switch(l){case 0:return function(){return a.call(s)};case 1:return function(u){return a.call(s,u)};case 2:return function(u,d){return a.call(s,u,d)};case 3:return function(u,d,n){return a.call(s,u,d,n)}}return function(){return a.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(o,P,y){var c=o("../internals/a-function"),a=o("../internals/is-object"),s=[].slice,l={};P.exports=Function.bind||function(u){var d=c(this),n=s.call(arguments,1),t=function(){var r=n.concat(s.call(arguments));if(this instanceof t){var i=d,f=r.length,h=r;if(!(f in l)){for(var g=[],v=0;v<f;v++)g[v]="a["+v+"]";l[f]=Function("C,a","return new C("+g.join(",")+")")}return l[f](i,h)}return d.apply(u,r)};return a(d.prototype)&&(t.prototype=d.prototype),t}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(o,P,y){function c(l){return typeof l=="function"?l:void 0}var a=o("../internals/path"),s=o("../internals/global");P.exports=function(l,u){return arguments.length<2?c(a[l])||c(s[l]):a[l]&&a[l][u]||s[l]&&s[l][u]}},{"../internals/global":59,"../internals/path":104}],57:[function(o,P,y){var c=o("../internals/classof"),a=o("../internals/iterators"),s=o("../internals/well-known-symbol")("iterator");P.exports=function(l){if(l!=null)return l[s]||l["@@iterator"]||a[c(l)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(o,P,y){var c=o("../internals/an-object"),a=o("../internals/get-iterator-method");P.exports=function(s){var l=a(s);if(typeof l!="function")throw TypeError(String(s)+" is not iterable");return c(l.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(o,P,y){(function(c){function a(s){return s&&s.Math==Math&&s}P.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof c=="object"&&c)||Function("return this")()}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(o,P,y){var c={}.hasOwnProperty;P.exports=function(a,s){return c.call(a,s)}},{}],61:[function(o,P,y){P.exports={}},{}],62:[function(o,P,y){var c=o("../internals/global");P.exports=function(a,s){var l=c.console;l&&l.error&&(arguments.length===1?l.error(a):l.error(a,s))}},{"../internals/global":59}],63:[function(o,P,y){o=o("../internals/get-built-in"),P.exports=o("document","documentElement")},{"../internals/get-built-in":56}],64:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/fails"),s=o("../internals/document-create-element");P.exports=!c&&!a(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(o,P,y){var c=Math.abs,a=Math.pow,s=Math.floor,l=Math.log,u=Math.LN2;P.exports={pack:function(d,n,v){var r,i,f,h=new Array(v),g=8*v-n-1,v=(1<<g)-1,b=v>>1,m=n===23?a(2,-24)-a(2,-77):0,w=d<0||d===0&&1/d<0?1:0,j=0;for((d=c(d))!=d||d===1/0?(i=d!=d?1:0,r=v):(r=s(l(d)/u),d*(f=a(2,-r))<1&&(r--,f*=2),2<=(d+=1<=r+b?m/f:m*a(2,1-b))*f&&(r++,f/=2),v<=r+b?(i=0,r=v):1<=r+b?(i=(d*f-1)*a(2,n),r+=b):(i=d*a(2,b-1)*a(2,n),r=0));8<=n;h[j++]=255&i,i/=256,n-=8);for(r=r<<n|i,g+=n;0<g;h[j++]=255&r,r/=256,g-=8);return h[--j]|=128*w,h},unpack:function(d,n){var t,r=d.length,v=8*r-n-1,i=(1<<v)-1,f=i>>1,h=v-7,g=r-1,v=d[g--],b=127&v;for(v>>=7;0<h;b=256*b+d[g],g--,h-=8);for(t=b&(1<<-h)-1,b>>=-h,h+=n;0<h;t=256*t+d[g],g--,h-=8);if(b===0)b=1-f;else{if(b===i)return t?NaN:v?-1/0:1/0;t+=a(2,n),b-=f}return(v?-1:1)*t*a(2,b-n)}}},{}],66:[function(o,P,y){var c=o("../internals/fails"),a=o("../internals/classof-raw"),s="".split;P.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return a(l)=="String"?s.call(l,""):Object(l)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(o,P,y){var c=o("../internals/is-object"),a=o("../internals/object-set-prototype-of");P.exports=function(s,l,u){return a&&typeof(l=l.constructor)=="function"&&l!==u&&c(l=l.prototype)&&l!==u.prototype&&a(s,l),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(c,P,y){var c=c("../internals/shared-store"),a=Function.toString;typeof c.inspectSource!="function"&&(c.inspectSource=function(s){return a.call(s)}),P.exports=c.inspectSource},{"../internals/shared-store":119}],69:[function(o,P,y){function c(h){u(h,t,{value:{objectID:"O"+ ++r,weakData:{}}})}var a=o("../internals/hidden-keys"),s=o("../internals/is-object"),l=o("../internals/has"),u=o("../internals/object-define-property").f,d=o("../internals/uid"),n=o("../internals/freezing"),t=d("meta"),r=0,i=Object.isExtensible||function(){return!0},f=P.exports={REQUIRED:!1,fastKey:function(h,g){if(!s(h))return typeof h=="symbol"?h:(typeof h=="string"?"S":"P")+h;if(!l(h,t)){if(!i(h))return"F";if(!g)return"E";c(h)}return h[t].objectID},getWeakData:function(h,g){if(!l(h,t)){if(!i(h))return!0;if(!g)return!1;c(h)}return h[t].weakData},onFreeze:function(h){return n&&f.REQUIRED&&i(h)&&!l(h,t)&&c(h),h}};a[t]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(v,P,y){var c,a,s,l,u,d,n,t,r=v("../internals/native-weak-map"),b=v("../internals/global"),i=v("../internals/is-object"),f=v("../internals/create-non-enumerable-property"),h=v("../internals/has"),g=v("../internals/shared-key"),v=v("../internals/hidden-keys"),b=b.WeakMap;n=r?(c=new b,a=c.get,s=c.has,l=c.set,u=function(m,w){return l.call(c,m,w),w},d=function(m){return a.call(c,m)||{}},function(m){return s.call(c,m)}):(v[t=g("state")]=!0,u=function(m,w){return f(m,t,w),w},d=function(m){return h(m,t)?m[t]:{}},function(m){return h(m,t)}),P.exports={set:u,get:d,has:n,enforce:function(m){return n(m)?d(m):u(m,{})},getterFor:function(m){return function(w){if(i(w)&&(w=d(w)).type===m)return w;throw TypeError("Incompatible receiver, "+m+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(o,P,y){var c=o("../internals/well-known-symbol"),a=o("../internals/iterators"),s=c("iterator"),l=Array.prototype;P.exports=function(u){return u!==void 0&&(a.Array===u||l[s]===u)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(o,P,y){var c=o("../internals/classof-raw");P.exports=Array.isArray||function(a){return c(a)=="Array"}},{"../internals/classof-raw":28}],73:[function(o,P,y){function c(t,r){return(t=u[l(t)])==n||t!=d&&(typeof r=="function"?a(r):!!r)}var a=o("../internals/fails"),s=/#|\.prototype\./,l=c.normalize=function(t){return String(t).replace(s,".").toLowerCase()},u=c.data={},d=c.NATIVE="N",n=c.POLYFILL="P";P.exports=c},{"../internals/fails":51}],74:[function(o,P,y){P.exports=function(c){return typeof c=="object"?c!==null:typeof c=="function"}},{}],75:[function(o,P,y){P.exports=!1},{}],76:[function(o,P,y){var c=o("../internals/is-object"),a=o("../internals/classof-raw"),s=o("../internals/well-known-symbol")("match");P.exports=function(l){var u;return c(l)&&((u=l[s])!==void 0?!!u:a(l)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(o,P,y){function c(t,r){this.stopped=t,this.result=r}var a=o("../internals/an-object"),s=o("../internals/is-array-iterator-method"),l=o("../internals/to-length"),u=o("../internals/function-bind-context"),d=o("../internals/get-iterator-method"),n=o("../internals/call-with-safe-iteration-closing");(P.exports=function(t,r,i,f,h){var g,v,b,m,w,j,S=u(r,i,f?2:1);if(h)g=t;else{if(typeof(r=d(t))!="function")throw TypeError("Target is not iterable");if(s(r)){for(v=0,b=l(t.length);v<b;v++)if((m=f?S(a(j=t[v])[0],j[1]):S(t[v]))&&m instanceof c)return m;return new c(!1)}g=r.call(t)}for(w=g.next;!(j=w.call(g)).done;)if(typeof(m=n(g,S,j.value,f))=="object"&&m&&m instanceof c)return m;return new c(!1)}).stop=function(t){return new c(!0,t)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(d,P,y){var c,a,s=d("../internals/object-get-prototype-of"),l=d("../internals/create-non-enumerable-property"),u=d("../internals/has"),n=d("../internals/well-known-symbol"),d=d("../internals/is-pure"),n=n("iterator"),t=!1;[].keys&&("next"in(a=[].keys())?(s=s(s(a)))!==Object.prototype&&(c=s):t=!0),c==null&&(c={}),d||u(c,n)||l(c,n,function(){return this}),P.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:t}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(o,P,y){P.exports={}},{}],80:[function(o,P,y){P.exports=Math.sign||function(c){return(c=+c)==0||c!=c?c:c<0?-1:1}},{}],81:[function(f,P,y){var c,a,s,l,u,d,n,t,r=f("../internals/global"),w=f("../internals/object-get-own-property-descriptor").f,m=f("../internals/classof-raw"),i=f("../internals/task").set,f=f("../internals/engine-is-ios"),h=r.MutationObserver||r.WebKitMutationObserver,g=r.process,v=r.Promise,b=m(g)=="process",m=w(r,"queueMicrotask"),w=m&&m.value;w||(c=function(){var j,S;for(b&&(j=g.domain)&&j.exit();a;){S=a.fn,a=a.next;try{S()}catch(T){throw a?l():s=void 0,T}}s=void 0,j&&j.enter()},l=b?function(){g.nextTick(c)}:h&&!f?(u=!0,d=document.createTextNode(""),new h(c).observe(d,{characterData:!0}),function(){d.data=u=!u}):v&&v.resolve?(n=v.resolve(void 0),t=n.then,function(){t.call(n,c)}):function(){i.call(r,c)}),P.exports=w||function(j){j={fn:j,next:void 0},s&&(s.next=j),a||(a=j,l()),s=j}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(o,P,y){o=o("../internals/global"),P.exports=o.Promise},{"../internals/global":59}],83:[function(o,P,y){o=o("../internals/fails"),P.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(o,P,y){var c=o("../internals/fails"),a=o("../internals/well-known-symbol"),s=o("../internals/is-pure"),l=a("iterator");P.exports=!c(function(){var u=new URL("b?a=1&b=2&c=3","http://a"),d=u.searchParams,n="";return u.pathname="c%20d",d.forEach(function(t,r){d.delete("b"),n+=r+t}),s&&!u.toJSON||!d.sort||u.href!=="http://a/c%20d?a=1&c=3"||d.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!d[l]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(c,P,y){var a=c("../internals/global"),c=c("../internals/inspect-source"),a=a.WeakMap;P.exports=typeof a=="function"&&/native code/.test(c(a))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(o,P,y){function c(s){var l,u;this.promise=new s(function(d,n){if(l!==void 0||u!==void 0)throw TypeError("Bad Promise constructor");l=d,u=n}),this.resolve=a(l),this.reject=a(u)}var a=o("../internals/a-function");P.exports.f=function(s){return new c(s)}},{"../internals/a-function":5}],87:[function(o,P,y){var c=o("../internals/is-regexp");P.exports=function(a){if(c(a))throw TypeError("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":76}],88:[function(o,P,y){var c=o("../internals/global").isFinite;P.exports=Number.isFinite||function(a){return typeof a=="number"&&c(a)}},{"../internals/global":59}],89:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/fails"),s=o("../internals/object-keys"),l=o("../internals/object-get-own-property-symbols"),u=o("../internals/object-property-is-enumerable"),d=o("../internals/to-object"),n=o("../internals/indexed-object"),t=Object.assign,r=Object.defineProperty;P.exports=!t||a(function(){var i,f,h,g;return!(!c||t({b:1},t(r({},"a",{enumerable:!0,get:function(){r(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(f={},g="abcdefghijklmnopqrst",(i={})[h=Symbol()]=7,g.split("").forEach(function(v){f[v]=v}),t({},i)[h]!=7||s(t({},f)).join("")!=g)})?function(i,f){for(var h=d(i),g=arguments.length,v=1,b=l.f,m=u.f;v<g;)for(var w,j=n(arguments[v++]),S=b?s(j).concat(b(j)):s(j),T=S.length,E=0;E<T;)w=S[E++],c&&!m.call(j,w)||(h[w]=j[w]);return h}:t},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(r,P,y){function c(){}var a,s=r("../internals/an-object"),l=r("../internals/object-define-properties"),u=r("../internals/enum-bug-keys"),d=r("../internals/hidden-keys"),n=r("../internals/html"),t=r("../internals/document-create-element"),r=r("../internals/shared-key"),i="prototype",f="script",h=r("IE_PROTO"),g=function(b){return"<"+f+">"+b+"</"+f+">"},v=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch{}v=a?((b=a).write(g("")),b.close(),m=b.parentWindow.Object,b=null,m):(b=t("iframe"),m="java"+f+":",b.style.display="none",n.appendChild(b),b.src=String(m),(m=b.contentWindow.document).open(),m.write(g("document.F=Object")),m.close(),m.F);for(var b,m,w=u.length;w--;)delete v[i][u[w]];return v()};d[h]=!0,P.exports=Object.create||function(b,m){var w;return b!==null?(c[i]=s(b),w=new c,c[i]=null,w[h]=b):w=v(),m===void 0?w:l(w,m)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/object-define-property"),s=o("../internals/an-object"),l=o("../internals/object-keys");P.exports=c?Object.defineProperties:function(u,d){s(u);for(var n,t=l(d),r=t.length,i=0;i<r;)a.f(u,n=t[i++],d[n]);return u}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/ie8-dom-define"),s=o("../internals/an-object"),l=o("../internals/to-primitive"),u=Object.defineProperty;y.f=c?u:function(d,n,t){if(s(d),n=l(n,!0),s(t),a)try{return u(d,n,t)}catch{}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(d[n]=t.value),d}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/object-property-is-enumerable"),s=o("../internals/create-property-descriptor"),l=o("../internals/to-indexed-object"),u=o("../internals/to-primitive"),d=o("../internals/has"),n=o("../internals/ie8-dom-define"),t=Object.getOwnPropertyDescriptor;y.f=c?t:function(r,i){if(r=l(r),i=u(i,!0),n)try{return t(r,i)}catch{}if(d(r,i))return s(!a.f.call(r,i),r[i])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(o,P,y){var c=o("../internals/to-indexed-object"),a=o("../internals/object-get-own-property-names").f,s={}.toString,l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];P.exports.f=function(u){if(!l||s.call(u)!="[object Window]")return a(c(u));try{return a(u)}catch{return l.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(o,P,y){var c=o("../internals/object-keys-internal"),a=o("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(s){return c(s,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(o,P,y){y.f=Object.getOwnPropertySymbols},{}],97:[function(l,P,y){var c=l("../internals/has"),a=l("../internals/to-object"),s=l("../internals/shared-key"),l=l("../internals/correct-prototype-getter"),u=s("IE_PROTO"),d=Object.prototype;P.exports=l?Object.getPrototypeOf:function(n){return n=a(n),c(n,u)?n[u]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?d:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(o,P,y){var c=o("../internals/has"),a=o("../internals/to-indexed-object"),s=o("../internals/array-includes").indexOf,l=o("../internals/hidden-keys");P.exports=function(u,d){var n,t=a(u),r=0,i=[];for(n in t)!c(l,n)&&c(t,n)&&i.push(n);for(;d.length>r;)!c(t,n=d[r++])||~s(i,n)||i.push(n);return i}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(o,P,y){var c=o("../internals/object-keys-internal"),a=o("../internals/enum-bug-keys");P.exports=Object.keys||function(s){return c(s,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(o,P,y){var c={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s=a&&!c.call({1:2},1);y.f=s?function(l){return l=a(this,l),!!l&&l.enumerable}:c},{}],101:[function(o,P,y){var c=o("../internals/an-object"),a=o("../internals/a-possible-prototype");P.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,l=!1,u={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(u,[]),l=u instanceof Array}catch{}return function(d,n){return c(d),a(n),l?s.call(d,n):d.__proto__=n,d}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(o,P,y){var c=o("../internals/to-string-tag-support"),a=o("../internals/classof");P.exports=c?{}.toString:function(){return"[object "+a(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(o,P,y){var c=o("../internals/get-built-in"),a=o("../internals/object-get-own-property-names"),s=o("../internals/object-get-own-property-symbols"),l=o("../internals/an-object");P.exports=c("Reflect","ownKeys")||function(u){var d=a.f(l(u)),n=s.f;return n?d.concat(n(u)):d}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(o,P,y){o=o("../internals/global"),P.exports=o},{"../internals/global":59}],105:[function(o,P,y){P.exports=function(c){try{return{error:!1,value:c()}}catch(a){return{error:!0,value:a}}}},{}],106:[function(o,P,y){var c=o("../internals/an-object"),a=o("../internals/is-object"),s=o("../internals/new-promise-capability");P.exports=function(l,u){return c(l),a(u)&&u.constructor===l?u:((0,(l=s.f(l)).resolve)(u),l.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(o,P,y){var c=o("../internals/redefine");P.exports=function(a,s,l){for(var u in s)c(a,u,s[u],l);return a}},{"../internals/redefine":108}],108:[function(d,P,y){var c=d("../internals/global"),a=d("../internals/create-non-enumerable-property"),s=d("../internals/has"),l=d("../internals/set-global"),u=d("../internals/inspect-source"),d=d("../internals/internal-state"),n=d.get,t=d.enforce,r=String(String).split("String");(P.exports=function(i,f,h,m){var v=!!m&&!!m.unsafe,b=!!m&&!!m.enumerable,m=!!m&&!!m.noTargetGet;typeof h=="function"&&(typeof f!="string"||s(h,"name")||a(h,"name",f),t(h).source=r.join(typeof f=="string"?f:"")),i===c?b?i[f]=h:l(f,h):(v?!m&&i[f]&&(b=!0):delete i[f],b?i[f]=h:a(i,f,h))})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||u(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(o,P,y){var c=o("./classof-raw"),a=o("./regexp-exec");P.exports=function(s,l){var u=s.exec;if(typeof u=="function"){if(u=u.call(s,l),typeof u!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return u}if(c(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(s,l)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(l,P,y){var c,a,s=l("./regexp-flags"),l=l("./regexp-sticky-helpers"),u=RegExp.prototype.exec,d=String.prototype.replace,n=u,t=(c=/a/,a=/b*/g,u.call(c,"a"),u.call(a,"a"),c.lastIndex!==0||a.lastIndex!==0),r=l.UNSUPPORTED_Y||l.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;P.exports=n=t||i||r?function(f){var h,g,v,b,m=this,w=r&&m.sticky,j=s.call(m),S=m.source,T=0,E=f;return w&&((j=j.replace("y","")).indexOf("g")===-1&&(j+="g"),E=String(f).slice(m.lastIndex),0<m.lastIndex&&(!m.multiline||m.multiline&&f[m.lastIndex-1]!==`
`)&&(S="(?: "+S+")",E=" "+E,T++),g=new RegExp("^(?:"+S+")",j)),i&&(g=new RegExp("^"+S+"$(?!\\s)",j)),t&&(h=m.lastIndex),v=u.call(w?g:m,E),w?v?(v.input=v.input.slice(T),v[0]=v[0].slice(T),v.index=m.lastIndex,m.lastIndex+=v[0].length):m.lastIndex=0:t&&v&&(m.lastIndex=m.global?v.index+v[0].length:h),i&&v&&1<v.length&&d.call(v[0],g,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(v[b]=void 0)}),v}:n},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(o,P,y){var c=o("../internals/an-object");P.exports=function(){var a=c(this),s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(o,P,y){o=o("./fails");function c(a,s){return RegExp(a,s)}y.UNSUPPORTED_Y=o(function(){var a=c("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),y.BROKEN_CARET=o(function(){var a=c("^r","gy");return a.lastIndex=2,a.exec("str")!=null})},{"./fails":51}],113:[function(o,P,y){P.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},{}],114:[function(o,P,y){P.exports=Object.is||function(c,a){return c===a?c!==0||1/c==1/a:c!=c&&a!=a}},{}],115:[function(o,P,y){var c=o("../internals/global"),a=o("../internals/create-non-enumerable-property");P.exports=function(s,l){try{a(c,s,l)}catch{c[s]=l}return l}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(o,P,y){var c=o("../internals/get-built-in"),a=o("../internals/object-define-property"),s=o("../internals/well-known-symbol"),l=o("../internals/descriptors"),u=s("species");P.exports=function(n){var n=c(n),t=a.f;l&&n&&!n[u]&&t(n,u,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(o,P,y){var c=o("../internals/object-define-property").f,a=o("../internals/has"),s=o("../internals/well-known-symbol")("toStringTag");P.exports=function(l,u,d){l&&!a(l=d?l:l.prototype,s)&&c(l,s,{configurable:!0,value:u})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(o,P,y){var c=o("../internals/shared"),a=o("../internals/uid"),s=c("keys");P.exports=function(l){return s[l]||(s[l]=a(l))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(c,P,y){var s=c("../internals/global"),c=c("../internals/set-global"),a="__core-js_shared__",s=s[a]||c(a,{});P.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(o,P,y){var c=o("../internals/is-pure"),a=o("../internals/shared-store");(P.exports=function(s,l){return a[s]||(a[s]=l!==void 0?l:{})})("versions",[]).push({version:"3.6.5",mode:c?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(o,P,y){var c=o("../internals/an-object"),a=o("../internals/a-function"),s=o("../internals/well-known-symbol")("species");P.exports=function(d,u){var d=c(d).constructor;return d===void 0||(d=c(d)[s])==null?u:a(d)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(o,P,y){var c=o("../internals/fails");P.exports=function(a){return c(function(){var s=""[a]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(o,P,y){function c(l){return function(t,r){var n,t=String(s(t)),r=a(r),i=t.length;return r<0||i<=r?l?"":void 0:(n=t.charCodeAt(r))<55296||56319<n||r+1===i||(i=t.charCodeAt(r+1))<56320||57343<i?l?t.charAt(r):n:l?t.slice(r,r+2):i-56320+(n-55296<<10)+65536}}var a=o("../internals/to-integer"),s=o("../internals/require-object-coercible");P.exports={codeAt:c(!1),charAt:c(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(o,P,y){function c(v){return v+22+75*(v<26)}function a(v){var b,m=[],w=(v=function(X){for(var Y=[],ee=0,O=X.length;ee<O;){var R,B=X.charCodeAt(ee++);55296<=B&&B<=56319&&ee<O?(64512&(R=X.charCodeAt(ee++)))==56320?Y.push(((1023&B)<<10)+(1023&R)+65536):(Y.push(B),ee--):Y.push(B)}return Y}(v)).length,j=128,S=0,T=72;for(k=0;k<v.length;k++)(b=v[k])<128&&m.push(g(b));var E=m.length,C=E;for(E&&m.push("-");C<w;){for(var L=s,k=0;k<v.length;k++)j<=(b=v[k])&&b<L&&(L=b);var D=C+1;if(L-j>h((s-S)/D))throw RangeError(i);for(S+=(L-j)*D,j=L,k=0;k<v.length;k++){if((b=v[k])<j&&++S>s)throw RangeError(i);if(b==j){for(var F=S,V=l;;V+=l){var G=V<=T?1:T+u<=V?u:V-T;if(F<G)break;var H=F-G,z=l-G;m.push(g(c(G+H%z))),F=h(H/z)}m.push(g(c(F))),T=function(X,Y,ee){var O=0;for(X=ee?h(X/n):X>>1,X+=h(X/Y);f*u>>1<X;O+=l)X=h(X/f);return h(O+(f+1)*X/(X+d))}(S,D,C==E),S=0,++C}}++S,++j}return m.join("")}var s=2147483647,l=36,u=26,d=38,n=700,t=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",f=l-1,h=Math.floor,g=String.fromCharCode;P.exports=function(v){for(var b,m=[],w=v.toLowerCase().replace(r,".").split("."),j=0;j<w.length;j++)b=w[j],m.push(t.test(b)?"xn--"+a(b):b);return m.join(".")}},{}],125:[function(o,P,y){var c=o("../internals/to-integer"),a=o("../internals/require-object-coercible");P.exports="".repeat||function(s){var l=String(a(this)),u="",d=c(s);if(d<0||d==1/0)throw RangeError("Wrong number of repetitions");for(;0<d;(d>>>=1)&&(l+=l))1&d&&(u+=l);return u}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(o,P,y){var c=o("../internals/fails"),a=o("../internals/whitespaces");P.exports=function(s){return c(function(){return!!a[s]()||""[s]()!=""||a[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(s,P,y){function c(d){return function(n){return n=String(a(n)),1&d&&(n=n.replace(l,"")),n=2&d?n.replace(u,""):n}}var a=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$");P.exports={start:c(1),end:c(2),trim:c(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(f,P,y){function c(C){return function(){E(C)}}function a(C){E(C.data)}function s(C){u.postMessage(C+"",h.protocol+"//"+h.host)}var l,u=f("../internals/global"),d=f("../internals/fails"),n=f("../internals/classof-raw"),t=f("../internals/function-bind-context"),r=f("../internals/html"),i=f("../internals/document-create-element"),f=f("../internals/engine-is-ios"),h=u.location,g=u.setImmediate,v=u.clearImmediate,b=u.process,m=u.MessageChannel,w=u.Dispatch,j=0,S={},T="onreadystatechange",E=function(C){var L;S.hasOwnProperty(C)&&(L=S[C],delete S[C],L())};g&&v||(g=function(C){for(var L=[],k=1;k<arguments.length;)L.push(arguments[k++]);return S[++j]=function(){(typeof C=="function"?C:Function(C)).apply(void 0,L)},l(j),j},v=function(C){delete S[C]},n(b)=="process"?l=function(C){b.nextTick(c(C))}:w&&w.now?l=function(C){w.now(c(C))}:m&&!f?(f=(n=new m).port2,n.port1.onmessage=a,l=t(f.postMessage,f,1)):!u.addEventListener||typeof postMessage!="function"||u.importScripts||d(s)||h.protocol==="file:"?l=T in i("script")?function(C){r.appendChild(i("script"))[T]=function(){r.removeChild(this),E(C)}}:function(C){setTimeout(c(C),0)}:(l=s,u.addEventListener("message",a,!1))),P.exports={set:g,clear:v}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(o,P,y){var c=o("../internals/classof-raw");P.exports=function(a){if(typeof a!="number"&&c(a)!="Number")throw TypeError("Incorrect invocation");return+a}},{"../internals/classof-raw":28}],130:[function(o,P,y){var c=o("../internals/to-integer"),a=Math.max,s=Math.min;P.exports=function(l,u){return l=c(l),l<0?a(l+u,0):s(l,u)}},{"../internals/to-integer":133}],131:[function(o,P,y){var c=o("../internals/to-integer"),a=o("../internals/to-length");P.exports=function(l){if(l===void 0)return 0;var l=c(l),u=a(l);if(l!==u)throw RangeError("Wrong length or index");return u}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(o,P,y){var c=o("../internals/indexed-object"),a=o("../internals/require-object-coercible");P.exports=function(s){return c(a(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(o,P,y){var c=Math.ceil,a=Math.floor;P.exports=function(s){return isNaN(s=+s)?0:(0<s?a:c)(s)}},{}],134:[function(o,P,y){var c=o("../internals/to-integer"),a=Math.min;P.exports=function(s){return 0<s?a(c(s),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(o,P,y){var c=o("../internals/require-object-coercible");P.exports=function(a){return Object(c(a))}},{"../internals/require-object-coercible":113}],136:[function(o,P,y){var c=o("../internals/to-positive-integer");P.exports=function(a,s){if(a=c(a),a%s)throw RangeError("Wrong offset");return a}},{"../internals/to-positive-integer":137}],137:[function(o,P,y){var c=o("../internals/to-integer");P.exports=function(a){if(a=c(a),a<0)throw RangeError("The argument can't be less than 0");return a}},{"../internals/to-integer":133}],138:[function(o,P,y){var c=o("../internals/is-object");P.exports=function(a,s){if(!c(a))return a;var l,u;if(s&&typeof(l=a.toString)=="function"&&!c(u=l.call(a))||typeof(l=a.valueOf)=="function"&&!c(u=l.call(a))||!s&&typeof(l=a.toString)=="function"&&!c(u=l.call(a)))return u;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(o,P,y){var c={};c[o("../internals/well-known-symbol")("toStringTag")]="z",P.exports=String(c)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(o,P,y){function c(de,Ce){for(var Te=0,Ae=Ce.length,Se=new(J(de))(Ae);Te<Ae;)Se[Te]=Ce[Te++];return Se}function a(de,Ce){R(de,Ce,{get:function(){return ee(this)[Ce]}})}function s(de){return de instanceof ne||(de=E(de))=="ArrayBuffer"||de=="SharedArrayBuffer"}function l(de,Ce){return ue(de)&&typeof Ce!="symbol"&&Ce in de&&String(+Ce)==String(Ce)}function u(de,Ce){return l(de,Ce=S(Ce,!0))?v(2,de[Ce]):B(de,Ce)}function d(de,Ce,Te){return!(l(de,Ce=S(Ce,!0))&&C(Te)&&T(Te,"value"))||T(Te,"get")||T(Te,"set")||Te.configurable||T(Te,"writable")&&!Te.writable||T(Te,"enumerable")&&!Te.enumerable?R(de,Ce,Te):(de[Ce]=Te.value,de)}var n=o("../internals/export"),t=o("../internals/global"),r=o("../internals/descriptors"),i=o("../internals/typed-array-constructors-require-wrappers"),f=o("../internals/array-buffer-view-core"),h=o("../internals/array-buffer"),g=o("../internals/an-instance"),v=o("../internals/create-property-descriptor"),b=o("../internals/create-non-enumerable-property"),m=o("../internals/to-length"),w=o("../internals/to-index"),j=o("../internals/to-offset"),S=o("../internals/to-primitive"),T=o("../internals/has"),E=o("../internals/classof"),C=o("../internals/is-object"),L=o("../internals/object-create"),k=o("../internals/object-set-prototype-of"),D=o("../internals/object-get-own-property-names").f,F=o("../internals/typed-array-from"),V=o("../internals/array-iteration").forEach,G=o("../internals/set-species"),H=o("../internals/object-define-property"),z=o("../internals/object-get-own-property-descriptor"),X=o("../internals/internal-state"),Y=o("../internals/inherit-if-required"),ee=X.get,O=X.set,R=H.f,B=z.f,W=Math.round,K=t.RangeError,ne=h.ArrayBuffer,ie=h.DataView,ce=f.NATIVE_ARRAY_BUFFER_VIEWS,oe=f.TYPED_ARRAY_TAG,se=f.TypedArray,me=f.TypedArrayPrototype,J=f.aTypedArrayConstructor,ue=f.isTypedArray,pe="BYTES_PER_ELEMENT",ye="Wrong length";r?(ce||(z.f=u,H.f=d,a(me,"buffer"),a(me,"byteOffset"),a(me,"byteLength"),a(me,"length")),n({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:u,defineProperty:d}),P.exports=function(ge,Ce,Te){function Ae(be,q){R(be,q,{get:function(){var Q=this,N=q;return(Q=ee(Q)).view[qe](N*Se+Q.byteOffset,!0)},set:function(Q){var N=this,$=q;N=ee(N),Te&&(Q=(Q=W(Q))<0?0:255<Q?255:255&Q),N.view[ze]($*Se+N.byteOffset,Q,!0)},enumerable:!0})}var Se=ge.match(/\d+$/)[0]/8,Ge=ge+(Te?"Clamped":"")+"Array",qe="get"+ge,ze="set"+ge,Qe=t[Ge],Ze=Qe,ge=Ze&&Ze.prototype,ke={};ce?i&&(Ze=Ce(function(be,q,Q,N){return g(be,Ze,Ge),Y(C(q)?s(q)?N!==void 0?new Qe(q,j(Q,Se),N):Q!==void 0?new Qe(q,j(Q,Se)):new Qe(q):ue(q)?c(Ze,q):F.call(Ze,q):new Qe(w(q)),be,Ze)}),k&&k(Ze,se),V(D(Qe),function(be){be in Ze||b(Ze,be,Qe[be])}),Ze.prototype=ge):(Ze=Ce(function(be,q,Q,N){g(be,Ze,Ge);var $,he,xe=0,Ee=0;if(C(q)){if(!s(q))return ue(q)?c(Ze,q):F.call(Ze,q);var Be=q,Ee=j(Q,Se),Q=q.byteLength;if(N===void 0){if(Q%Se||($=Q-Ee)<0)throw K(ye)}else if(Q<($=m(N)*Se)+Ee)throw K(ye);he=$/Se}else he=w(q),Be=new ne($=he*Se);for(O(be,{buffer:Be,byteOffset:Ee,byteLength:$,length:he,view:new ie(Be)});xe<he;)Ae(be,xe++)}),k&&k(Ze,se),ge=Ze.prototype=L(me)),ge.constructor!==Ze&&b(ge,"constructor",Ze),oe&&b(ge,oe,Ge),ke[Ge]=Ze,n({global:!0,forced:Ze!=Qe,sham:!ce},ke),pe in Ze||b(Ze,pe,Se),pe in ge||b(ge,pe,Se),G(Ge)}):P.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(l,P,y){var c=l("../internals/global"),a=l("../internals/fails"),s=l("../internals/check-correctness-of-iteration"),l=l("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,u=c.ArrayBuffer,d=c.Int8Array;P.exports=!l||!a(function(){d(1)})||!a(function(){new d(-1)})||!s(function(n){new d,new d(null),new d(1.5),new d(n)},!0)||a(function(){return new d(new u(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(o,P,y){var c=o("../internals/to-object"),a=o("../internals/to-length"),s=o("../internals/get-iterator-method"),l=o("../internals/is-array-iterator-method"),u=o("../internals/function-bind-context"),d=o("../internals/array-buffer-view-core").aTypedArrayConstructor;P.exports=function(n){var t,r,i,f,h,g,v=c(n),b=arguments.length,m=1<b?arguments[1]:void 0,w=m!==void 0,j=s(v);if(j!=null&&!l(j))for(g=(h=j.call(v)).next,v=[];!(f=g.call(h)).done;)v.push(f.value);for(w&&2<b&&(m=u(m,arguments[2],2)),r=a(v.length),i=new(d(this))(r),t=0;t<r;t++)i[t]=w?m(v[t],t):v[t];return i}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(o,P,y){var c=0,a=Math.random();P.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++c+a).toString(36)}},{}],144:[function(o,P,y){o=o("../internals/native-symbol"),P.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(o,P,y){o=o("../internals/well-known-symbol"),y.f=o},{"../internals/well-known-symbol":146}],146:[function(d,P,y){var c=d("../internals/global"),a=d("../internals/shared"),s=d("../internals/has"),l=d("../internals/uid"),u=d("../internals/native-symbol"),d=d("../internals/use-symbol-as-uid"),n=a("wks"),t=c.Symbol,r=d?t:t&&t.withoutSetter||l;P.exports=function(i){return s(n,i)||(u&&s(t,i)?n[i]=t[i]:n[i]=r("Symbol."+i)),n[i]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(o,P,y){P.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],148:[function(s,P,y){var c=s("../internals/export"),a=s("../internals/global"),u=s("../internals/array-buffer"),s=s("../internals/set-species"),l="ArrayBuffer",u=u[l];c({global:!0,forced:a[l]!==u},{ArrayBuffer:u}),s(l)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(v,P,y){var c=v("../internals/export"),a=v("../internals/fails"),s=v("../internals/is-array"),l=v("../internals/is-object"),u=v("../internals/to-object"),d=v("../internals/to-length"),n=v("../internals/create-property"),t=v("../internals/array-species-create"),r=v("../internals/array-method-has-species-support"),g=v("../internals/well-known-symbol"),v=v("../internals/engine-v8-version"),i=g("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",g=51<=v||!a(function(){var b=[];return b[i]=!1,b.concat()[0]!==b}),v=r("concat");c({target:"Array",proto:!0,forced:!g||!v},{concat:function(b){for(var m,w,j,S,T,E=u(this),C=t(E,0),L=0,k=-1,D=arguments.length;k<D;k++)if(T=void 0,!l(S=j=k===-1?E:arguments[k])||((T=S[i])!==void 0?!T:!s(S))){if(f<=L)throw TypeError(h);n(C,L++,j)}else{if(w=d(j.length),f<L+w)throw TypeError(h);for(m=0;m<w;m++,L++)m in j&&n(C,L,j[m])}return C.length=L,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(s,P,y){var c=s("../internals/export"),a=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");c({target:"Array",proto:!0},{copyWithin:a}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(l,P,y){var c=l("../internals/export"),a=l("../internals/array-iteration").every,s=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),s=s("every"),l=l("every");c({target:"Array",proto:!0,forced:!s||!l},{every:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(s,P,y){var c=s("../internals/export"),a=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");c({target:"Array",proto:!0},{fill:a}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(l,P,y){var c=l("../internals/export"),a=l("../internals/array-iteration").filter,s=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),s=s("filter"),l=l("filter");c({target:"Array",proto:!0,forced:!s||!l},{filter:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(a,P,y){var c=a("../internals/export"),a=a("../internals/array-for-each");c({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/array-from");c({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:a})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/array-includes").includes,s=o("../internals/add-to-unscopables");c({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(l){return a(this,l,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(d,P,y){var c=d("../internals/export"),a=d("../internals/array-includes").indexOf,u=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=u("indexOf"),d=d("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:l||!u||!d},{indexOf:function(n){return l?s.apply(this,arguments)||0:a(this,n,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(u,P,y){var c=u("../internals/to-indexed-object"),a=u("../internals/add-to-unscopables"),s=u("../internals/iterators"),l=u("../internals/internal-state"),u=u("../internals/define-iterator"),d="Array Iterator",n=l.set,t=l.getterFor(d);P.exports=u(Array,"Array",function(r,i){n(this,{type:d,target:c(r),index:0,kind:i})},function(){var r=t(this),i=r.target,f=r.kind,h=r.index++;return!i||h>=i.length?{value:r.target=void 0,done:!0}:f=="keys"?{value:h,done:!1}:f=="values"?{value:i[h],done:!1}:{value:[h,i[h]],done:!1}},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(u,P,y){var c=u("../internals/export"),l=u("../internals/indexed-object"),a=u("../internals/to-indexed-object"),u=u("../internals/array-method-is-strict"),s=[].join,l=l!=Object,u=u("join",",");c({target:"Array",proto:!0,forced:l||!u},{join:function(d){return s.call(a(this),d===void 0?",":d)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(a,P,y){var c=a("../internals/export"),a=a("../internals/array-last-index-of");c({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(l,P,y){var c=l("../internals/export"),a=l("../internals/array-iteration").map,s=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),s=s("map"),l=l("map");c({target:"Array",proto:!0,forced:!s||!l},{map:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(i,P,y){var c=i("../internals/export"),a=i("../internals/is-object"),s=i("../internals/is-array"),l=i("../internals/to-absolute-index"),u=i("../internals/to-length"),d=i("../internals/to-indexed-object"),n=i("../internals/create-property"),t=i("../internals/well-known-symbol"),r=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),r=r("slice"),i=i("slice",{ACCESSORS:!0,0:0,1:2}),f=t("species"),h=[].slice,g=Math.max;c({target:"Array",proto:!0,forced:!r||!i},{slice:function(v,b){var m,w,j,S=d(this),T=u(S.length),E=l(v,T),C=l(b===void 0?T:b,T);if(s(S)&&((m=typeof(m=S.constructor)=="function"&&(m===Array||s(m.prototype))||a(m)&&(m=m[f])===null?void 0:m)===Array||m===void 0))return h.call(S,E,C);for(w=new(m===void 0?Array:m)(g(C-E,0)),j=0;E<C;E++,j++)E in S&&n(w,j,S[E]);return w.length=j,w}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(l,P,y){var c=l("../internals/export"),a=l("../internals/array-iteration").some,s=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),s=s("some"),l=l("some");c({target:"Array",proto:!0,forced:!s||!l},{some:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(r,P,y){var c=r("../internals/export"),a=r("../internals/to-absolute-index"),s=r("../internals/to-integer"),l=r("../internals/to-length"),u=r("../internals/to-object"),d=r("../internals/array-species-create"),n=r("../internals/create-property"),t=r("../internals/array-method-has-species-support"),r=r("../internals/array-method-uses-to-length"),t=t("splice"),r=r("splice",{ACCESSORS:!0,0:0,1:2}),i=Math.max,f=Math.min;c({target:"Array",proto:!0,forced:!t||!r},{splice:function(L,g){var v,b,m,w,j,S,T=u(this),E=l(T.length),C=a(L,E),L=arguments.length;if(L===0?v=b=0:b=L===1?(v=0,E-C):(v=L-2,f(i(s(g),0),E-C)),9007199254740991<E+v-b)throw TypeError("Maximum allowed length exceeded");for(m=d(T,b),w=0;w<b;w++)(j=C+w)in T&&n(m,w,T[j]);if(v<(m.length=b)){for(w=C;w<E-b;w++)S=w+v,(j=w+b)in T?T[S]=T[j]:delete T[S];for(w=E;E-b+v<w;w--)delete T[w-1]}else if(b<v)for(w=E-b;C<w;w--)S=w+v-1,(j=w+b-1)in T?T[S]=T[j]:delete T[S];for(w=0;w<v;w++)T[w+C]=arguments[w+2];return T.length=E-b+v,m}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(a,P,y){var c=a("../internals/descriptors"),a=a("../internals/object-define-property").f,s=Function.prototype,l=s.toString,u=/^\s*function ([^ (]*)/;!c||"name"in s||a(s,"name",{configurable:!0,get:function(){try{return l.call(this).match(u)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(a,P,y){var c=a("../internals/collection"),a=a("../internals/collection-strong");P.exports=c("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(c,P,y){var c=c("../internals/export"),a=Math.hypot,s=Math.abs,l=Math.sqrt;c({target:"Math",stat:!0,forced:!!a&&a(1/0,NaN)!==1/0},{hypot:function(u,d){for(var n,t,r=0,i=0,f=arguments.length,h=0;i<f;)h<(n=s(arguments[i++]))?(r=r*(t=h/n)*t+1,h=n):r+=0<n?(t=n/h)*t:n;return h===1/0?1/0:h*l(r)}})},{"../internals/export":50}],168:[function(o,P,y){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(o,P,y){function c(k){var D,F,V,G,H,z,X,Y=r(k,!1);if(typeof Y=="string"&&2<Y.length){if((k=(Y=b(Y)).charCodeAt(0))===43||k===45){if((D=Y.charCodeAt(2))===88||D===120)return NaN}else if(k===48){switch(Y.charCodeAt(1)){case 66:case 98:F=2,V=49;break;case 79:case 111:F=8,V=55;break;default:return+Y}for(H=(G=Y.slice(2)).length,z=0;z<H;z++)if((X=G.charCodeAt(z))<48||V<X)return NaN;return parseInt(G,F)}}return+Y}var a=o("../internals/descriptors"),s=o("../internals/global"),l=o("../internals/is-forced"),u=o("../internals/redefine"),d=o("../internals/has"),n=o("../internals/classof-raw"),t=o("../internals/inherit-if-required"),r=o("../internals/to-primitive"),i=o("../internals/fails"),f=o("../internals/object-create"),h=o("../internals/object-get-own-property-names").f,g=o("../internals/object-get-own-property-descriptor").f,v=o("../internals/object-define-property").f,b=o("../internals/string-trim").trim,m="Number",w=s[m],j=w.prototype,S=n(f(j))==m;if(l(m,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var T,E=function(D){var D=arguments.length<1?0:D,F=this;return F instanceof E&&(S?i(function(){j.valueOf.call(F)}):n(F)!=m)?t(new w(c(D)),F,E):c(D)},C=a?h(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;C.length>L;L++)d(w,T=C[L])&&!d(E,T)&&v(E,T,g(w,T));(E.prototype=j).constructor=E,u(s,m,E)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(o,P,y){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(d,P,y){function c(r,i,f){return i===0?f:i%2==1?c(r,i-1,f*r):c(r*r,i/2,f)}var a=d("../internals/export"),s=d("../internals/to-integer"),l=d("../internals/this-number-value"),u=d("../internals/string-repeat"),d=d("../internals/fails"),n=1 .toFixed,t=Math.floor;a({target:"Number",proto:!0,forced:n&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!d(function(){n.call({})})},{toFixed:function(m){function i(T,E){for(var C=-1,L=E;++C<6;)L+=T*w[C],w[C]=L%1e7,L=t(L/1e7)}function f(T){for(var E=6,C=0;0<=--E;)C+=w[E],w[E]=t(C/T),C=C%T*1e7}function h(){for(var T,E=6,C="";0<=--E;)C===""&&E!==0&&w[E]===0||(T=String(w[E]),C=C===""?T:C+u.call("0",7-T.length)+T);return C}var g,v,b=l(this),m=s(m),w=[0,0,0,0,0,0],j="",S="0";if(m<0||20<m)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(j="-",b=-b),1e-21<b)if(b=(g=function(T){for(var E=0,C=T;4096<=C;)E+=12,C/=4096;for(;2<=C;)E+=1,C/=2;return E}(b*c(2,69,1))-69)<0?b*c(2,-g,1):b/c(2,g,1),b*=4503599627370496,0<(g=52-g)){for(i(0,b),v=m;7<=v;)i(1e7,0),v-=7;for(i(c(10,v,1),0),v=g-1;23<=v;)f(1<<23),v-=23;f(1<<v),i(1,1),f(2),S=h()}else i(0,b),i(1<<-g,0),S=h()+u.call("0",m);return S=0<m?j+((b=S.length)<=m?"0."+u.call("0",m-b)+S:S.slice(0,b-m)+"."+S.slice(b-m)):j+S}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(a,P,y){var c=a("../internals/export"),a=a("../internals/object-assign");c({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(l,P,y){var c=l("../internals/export"),u=l("../internals/fails"),a=l("../internals/to-indexed-object"),s=l("../internals/object-get-own-property-descriptor").f,l=l("../internals/descriptors"),u=u(function(){s(1)});c({target:"Object",stat:!0,forced:!l||u,sham:!l},{getOwnPropertyDescriptor:function(d,n){return s(a(d),n)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(s,P,y){var c=s("../internals/export"),a=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;c({target:"Object",stat:!0,forced:a(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(u,P,y){var c=u("../internals/export"),a=u("../internals/fails"),s=u("../internals/to-object"),l=u("../internals/object-get-prototype-of"),u=u("../internals/correct-prototype-getter");c({target:"Object",stat:!0,forced:a(function(){l(1)}),sham:!u},{getPrototypeOf:function(d){return l(s(d))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/to-object"),s=o("../internals/object-keys");c({target:"Object",stat:!0,forced:o("../internals/fails")(function(){s(1)})},{keys:function(l){return s(a(l))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(s,P,y){var c=s("../internals/to-string-tag-support"),a=s("../internals/redefine"),s=s("../internals/object-to-string");c||a(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(Te,P,y){var c,a,s,l,u=Te("../internals/export"),d=Te("../internals/is-pure"),n=Te("../internals/global"),t=Te("../internals/get-built-in"),r=Te("../internals/native-promise-constructor"),i=Te("../internals/redefine"),f=Te("../internals/redefine-all"),h=Te("../internals/set-to-string-tag"),g=Te("../internals/set-species"),v=Te("../internals/is-object"),b=Te("../internals/a-function"),m=Te("../internals/an-instance"),w=Te("../internals/classof-raw"),j=Te("../internals/inspect-source"),S=Te("../internals/iterate"),T=Te("../internals/check-correctness-of-iteration"),E=Te("../internals/species-constructor"),C=Te("../internals/task").set,L=Te("../internals/microtask"),k=Te("../internals/promise-resolve"),D=Te("../internals/host-report-errors"),F=Te("../internals/new-promise-capability"),V=Te("../internals/perform"),G=Te("../internals/internal-state"),H=Te("../internals/is-forced"),Ae=Te("../internals/well-known-symbol"),z=Te("../internals/engine-v8-version"),X=Ae("species"),Y="Promise",ee=G.get,O=G.set,R=G.getterFor(Y),B=r,W=n.TypeError,K=n.document,ne=n.process,ie=t("fetch"),ce=F.f,oe=ce,se=w(ne)=="process",me=!!(K&&K.createEvent&&n.dispatchEvent),J="unhandledrejection",ue="rejectionhandled",pe=1,ye=2,de=1,Ce=2,Te=H(Y,function(){var ke,be;return j(B)===String(B)&&(z===66||!se&&typeof PromiseRejectionEvent!="function")?!0:!(!d||B.prototype.finally)||!(51<=z&&/native code/.test(B))&&(be=function(q){q(function(){},function(){})},((ke=B.resolve(1)).constructor={})[X]=be,!(ke.then(function(){})instanceof be))}),Ae=Te||!T(function(ke){B.all(ke).catch(function(){})}),Se=function(ke){var be;return!(!v(ke)||typeof(be=ke.then)!="function")&&be},Ge=function(ke,be,q){var Q;be.notified||(be.notified=!0,Q=be.reactions,L(function(){for(var N,$,he=be.value,xe=be.state==pe,Ee=0;Q.length>Ee;){var Be,Ne,Ve,Xe=Q[Ee++],it=xe?Xe.ok:Xe.fail,ot=Xe.resolve,Ke=Xe.reject,nt=Xe.domain;try{it?(xe||(be.rejection===Ce&&function(rt,gt){C.call(n,function(){se?ne.emit("rejectionHandled",rt):qe(ue,rt,gt.value)})}(ke,be),be.rejection=de),it===!0?Be=he:(nt&&nt.enter(),Be=it(he),nt&&(nt.exit(),Ve=!0)),Be===Xe.promise?Ke(W("Promise-chain cycle")):(Ne=Se(Be))?Ne.call(Be,ot,Ke):ot(Be)):Ke(he)}catch(rt){nt&&!Ve&&nt.exit(),Ke(rt)}}be.reactions=[],be.notified=!1,q&&!be.rejection&&(N=ke,$=be,C.call(n,function(){var rt=$.value,gt=ze($);if(gt&&(gt=V(function(){se?ne.emit("unhandledRejection",rt,N):qe(J,N,rt)}),$.rejection=se||ze($)?Ce:de,gt.error))throw gt.value}))}))},qe=function(ke,be,q){var Q;me?((Q=K.createEvent("Event")).promise=be,Q.reason=q,Q.initEvent(ke,!1,!0),n.dispatchEvent(Q)):Q={promise:be,reason:q},(be=n["on"+ke])?be(Q):ke===J&&D("Unhandled promise rejection",q)},ze=function(ke){return ke.rejection!==de&&!ke.parent},Qe=function(ke,be,q,Q){return function(N){ke(be,q,N,Q)}},Ze=function(ke,be,q,Q){be.done||(be.done=!0,(be=Q||be).value=q,be.state=ye,Ge(ke,be,!0))},ge=function(ke,be,q,Q){if(!be.done){be.done=!0,Q&&(be=Q);try{if(ke===q)throw W("Promise can't be resolved itself");var N=Se(q);N?L(function(){var $={done:!1};try{N.call(q,Qe(ge,ke,$,be),Qe(Ze,ke,$,be))}catch(he){Ze(ke,$,he,be)}}):(be.value=q,be.state=pe,Ge(ke,be,!1))}catch($){Ze(ke,{done:!1},$,be)}}};Te&&(B=function(ke){m(this,B,Y),b(ke),c.call(this);var be=ee(this);try{ke(Qe(ge,this,be),Qe(Ze,this,be))}catch(q){Ze(this,be,q)}},(c=function(ke){O(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(B.prototype,{then:function(ke,be){var q=R(this),Q=ce(E(this,B));return Q.ok=typeof ke!="function"||ke,Q.fail=typeof be=="function"&&be,Q.domain=se?ne.domain:void 0,q.parent=!0,q.reactions.push(Q),q.state!=0&&Ge(this,q,!1),Q.promise},catch:function(ke){return this.then(void 0,ke)}}),a=function(){var ke=new c,be=ee(ke);this.promise=ke,this.resolve=Qe(ge,ke,be),this.reject=Qe(Ze,ke,be)},F.f=ce=function(ke){return ke===B||ke===s?new a:oe(ke)},d||typeof r!="function"||(l=r.prototype.then,i(r.prototype,"then",function(ke,be){var q=this;return new B(function(Q,N){l.call(q,Q,N)}).then(ke,be)},{unsafe:!0}),typeof ie=="function"&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(ke){return k(B,ie.apply(n,arguments))}}))),u({global:!0,wrap:!0,forced:Te},{Promise:B}),h(B,Y,!1,!0),g(Y),s=t(Y),u({target:Y,stat:!0,forced:Te},{reject:function(ke){var be=ce(this);return be.reject.call(void 0,ke),be.promise}}),u({target:Y,stat:!0,forced:d||Te},{resolve:function(ke){return k(d&&this===s?B:this,ke)}}),u({target:Y,stat:!0,forced:Ae},{all:function(ke){var be=this,q=ce(be),Q=q.resolve,N=q.reject,$=V(function(){var he=b(be.resolve),xe=[],Ee=0,Be=1;S(ke,function(Ne){var Ve=Ee++,Xe=!1;xe.push(void 0),Be++,he.call(be,Ne).then(function(it){Xe||(Xe=!0,xe[Ve]=it,--Be||Q(xe))},N)}),--Be||Q(xe)});return $.error&&N($.value),q.promise},race:function(ke){var be=this,q=ce(be),Q=q.reject,N=V(function(){var $=b(be.resolve);S(ke,function(he){$.call(be,he).then(q.resolve,Q)})});return N.error&&Q(N.value),q.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(n,P,y){var c=n("../internals/export"),f=n("../internals/get-built-in"),a=n("../internals/a-function"),s=n("../internals/an-object"),l=n("../internals/is-object"),u=n("../internals/object-create"),d=n("../internals/function-bind"),n=n("../internals/fails"),t=f("Reflect","construct"),r=n(function(){function h(){}return!(t(function(){},[],h)instanceof h)}),i=!n(function(){t(function(){})}),f=r||i;c({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(h,g){a(h),s(g);var v=arguments.length<3?h:a(arguments[2]);if(i&&!r)return t(h,g,v);if(h==v){switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3])}var b=[null];return b.push.apply(b,g),new(d.apply(h,b))}return b=v.prototype,v=u(l(b)?b:Object.prototype),b=Function.apply.call(h,v,g),l(b)?b:v}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(o,P,y){var c=o("../internals/descriptors"),a=o("../internals/global"),s=o("../internals/is-forced"),l=o("../internals/inherit-if-required"),u=o("../internals/object-define-property").f,d=o("../internals/object-get-own-property-names").f,n=o("../internals/is-regexp"),t=o("../internals/regexp-flags"),r=o("../internals/regexp-sticky-helpers"),i=o("../internals/redefine"),f=o("../internals/fails"),h=o("../internals/internal-state").set,g=o("../internals/set-species"),v=o("../internals/well-known-symbol")("match"),b=a.RegExp,m=b.prototype,w=/a/g,j=/a/g,S=new b(w)!==w,T=r.UNSUPPORTED_Y;if(c&&s("RegExp",!S||T||f(function(){return j[v]=!1,b(w)!=w||b(j)==j||b(w,"i")!="/a/i"}))){for(var E=function(k,D){var F,V=this instanceof E,G=n(k),H=D===void 0;return!V&&G&&k.constructor===E&&H?k:(S?G&&!H&&(k=k.source):k instanceof E&&(H&&(D=t.call(k)),k=k.source),T&&(F=!!D&&-1<D.indexOf("y"))&&(D=D.replace(/y/g,"")),G=l(S?new b(k,D):b(k,D),V?this:m,E),T&&F&&h(G,{sticky:F}),G)},C=d(b),L=0;C.length>L;)(function(k){k in E||u(E,k,{configurable:!0,get:function(){return b[k]},set:function(D){b[k]=D}})})(C[L++]);(m.constructor=E).prototype=m,i(a,"RegExp",E)}g("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(a,P,y){var c=a("../internals/export"),a=a("../internals/regexp-exec");c({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(l,P,y){var c=l("../internals/redefine"),a=l("../internals/an-object"),n=l("../internals/fails"),s=l("../internals/regexp-flags"),l="toString",u=RegExp.prototype,d=u[l],n=n(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),t=d.name!=l;(n||t)&&c(RegExp.prototype,l,function(){var r=a(this),i=String(r.source),f=r.flags;return"/"+i+"/"+String(f===void 0&&r instanceof RegExp&&!("flags"in u)?s.call(r):f)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(a,P,y){var c=a("../internals/collection"),a=a("../internals/collection-strong");P.exports=c("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(d,P,y){var c=d("../internals/export"),a=d("../internals/object-get-own-property-descriptor").f,s=d("../internals/to-length"),l=d("../internals/not-a-regexp"),u=d("../internals/require-object-coercible"),r=d("../internals/correct-is-regexp-logic"),d=d("../internals/is-pure"),n="".endsWith,t=Math.min,r=r("endsWith");c({target:"String",proto:!0,forced:!!(d||r||!(c=a(String.prototype,"endsWith"))||c.writable)&&!r},{endsWith:function(i){var f=String(u(this)),h=(l(i),1<arguments.length?arguments[1]:void 0),g=s(f.length),h=h===void 0?g:t(s(h),g),g=String(i);return n?n.call(f,g,h):f.slice(h-g.length,h)===g}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/not-a-regexp"),s=o("../internals/require-object-coercible");c({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(l){return!!~String(s(this)).indexOf(a(l),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(s,P,y){var c=s("../internals/string-multibyte").charAt,a=s("../internals/internal-state"),s=s("../internals/define-iterator"),l="String Iterator",u=a.set,d=a.getterFor(l);s(String,"String",function(n){u(this,{type:l,string:String(n),index:0})},function(){var n=d(this),t=n.string,r=n.index;return r>=t.length?{value:void 0,done:!0}:(t=c(t,r),n.index+=t.length,{value:t,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(o,P,y){var c=o("../internals/fix-regexp-well-known-symbol-logic"),a=o("../internals/an-object"),s=o("../internals/to-length"),l=o("../internals/require-object-coercible"),u=o("../internals/advance-string-index"),d=o("../internals/regexp-exec-abstract");c("match",1,function(n,t,r){return[function(i){var f=l(this),h=i?.[n];return h!==void 0?h.call(i,f):new RegExp(i)[n](String(f))},function(i){var f=r(t,i,this);if(f.done)return f.value;var h=a(i),g=String(this);if(!h.global)return d(h,g);for(var v=h.unicode,b=[],m=h.lastIndex=0;(w=d(h,g))!==null;){var w=String(w[0]);(b[m]=w)===""&&(h.lastIndex=u(g,s(h.lastIndex),v)),m++}return m===0?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(o,P,y){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(o,P,y){var c=o("../internals/fix-regexp-well-known-symbol-logic"),a=o("../internals/an-object"),s=o("../internals/to-object"),l=o("../internals/to-length"),u=o("../internals/to-integer"),d=o("../internals/require-object-coercible"),n=o("../internals/advance-string-index"),t=o("../internals/regexp-exec-abstract"),r=Math.max,i=Math.min,f=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;c("replace",2,function(v,b,m,w){var j=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=w.REPLACE_KEEPS_$0,T=j?"$":"$0";return[function(E,C){var L=d(this),k=E?.[v];return k!==void 0?k.call(E,L,C):b.call(String(L),E,C)},function(E,C){if(!j&&S||typeof C=="string"&&C.indexOf(T)===-1){var L=m(b,E,this,C);if(L.done)return L.value}for(var k,D=a(E),F=String(this),V=typeof C=="function",G=(V||(C=String(C)),D.global),H=(G&&(k=D.unicode,D.lastIndex=0),[]);(O=t(D,F))!==null&&(H.push(O),G);)String(O[0])===""&&(D.lastIndex=n(F,l(D.lastIndex),k));for(var z,X="",Y=0,ee=0;ee<H.length;ee++){for(var O=H[ee],R=String(O[0]),B=r(i(u(O.index),F.length),0),W=[],K=1;K<O.length;K++)W.push((z=O[K])===void 0?z:String(z));var ne=O.groups,ie=V?(ie=[R].concat(W,B,F),ne!==void 0&&ie.push(ne),String(C.apply(void 0,ie))):function(ce,oe,se,me,J,ue){var pe=se+ce.length,ye=me.length,de=g;return J!==void 0&&(J=s(J),de=h),b.call(ue,de,function(Ce,Te){var Ae;switch(Te.charAt(0)){case"$":return"$";case"&":return ce;case"`":return oe.slice(0,se);case"'":return oe.slice(pe);case"<":Ae=J[Te.slice(1,-1)];break;default:var Se,Ge=+Te;if(Ge==0)return Ce;if(ye<Ge)return(Se=f(Ge/10))!==0&&Se<=ye?me[Se-1]===void 0?Te.charAt(1):me[Se-1]+Te.charAt(1):Ce;Ae=me[Ge-1]}return Ae===void 0?"":Ae})}(R,F,B,W,ne,C);Y<=B&&(X+=F.slice(Y,B)+ie,Y=B+R.length)}return X+F.slice(Y)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(o,P,y){var c=o("../internals/fix-regexp-well-known-symbol-logic"),a=o("../internals/an-object"),s=o("../internals/require-object-coercible"),l=o("../internals/same-value"),u=o("../internals/regexp-exec-abstract");c("search",1,function(d,n,t){return[function(r){var i=s(this),f=r?.[d];return f!==void 0?f.call(r,i):new RegExp(r)[d](String(i))},function(r){var i,f=t(n,r,this);return f.done?f.value:(f=a(r),r=String(this),i=f.lastIndex,l(i,0)||(f.lastIndex=0),r=u(f,r),l(f.lastIndex,i)||(f.lastIndex=i),r===null?-1:r.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(i,P,y){var c=i("../internals/fix-regexp-well-known-symbol-logic"),a=i("../internals/is-regexp"),s=i("../internals/an-object"),l=i("../internals/require-object-coercible"),u=i("../internals/species-constructor"),d=i("../internals/advance-string-index"),n=i("../internals/to-length"),t=i("../internals/regexp-exec-abstract"),r=i("../internals/regexp-exec"),i=i("../internals/fails"),f=[].push,h=Math.min,g=4294967295,v=!i(function(){return!RegExp(g,"y")});c("split",2,function(b,m,w){var j="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(S,T){var E=String(l(this)),C=T===void 0?g:T>>>0;if(C==0)return[];if(S===void 0)return[E];if(!a(S))return m.call(E,S,C);for(var L,k,D,F=[],T=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(S.sticky?"y":""),V=0,G=new RegExp(S.source,T+"g");(L=r.call(G,E))&&!(V<(k=G.lastIndex)&&(F.push(E.slice(V,L.index)),1<L.length&&L.index<E.length&&f.apply(F,L.slice(1)),D=L[0].length,V=k,F.length>=C));)G.lastIndex===L.index&&G.lastIndex++;return V===E.length?!D&&G.test("")||F.push(""):F.push(E.slice(V)),F.length>C?F.slice(0,C):F}:"0".split(void 0,0).length?function(S,T){return S===void 0&&T===0?[]:m.call(this,S,T)}:m;return[function(S,T){var E=l(this),C=S?.[b];return C!==void 0?C.call(S,E,T):j.call(String(E),S,T)},function(L,T){var E=w(j,L,this,T,j!==m);if(E.done)return E.value;var E=s(L),C=String(this),L=u(E,RegExp),k=E.unicode,D=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(v?"y":"g"),F=new L(v?E:"^(?:"+E.source+")",D),V=T===void 0?g:T>>>0;if(V==0)return[];if(C.length===0)return t(F,C)===null?[C]:[];for(var G=0,H=0,z=[];H<C.length;){F.lastIndex=v?H:0;var X,Y=t(F,v?C:C.slice(H));if(Y===null||(X=h(n(F.lastIndex+(v?0:H)),C.length))===G)H=d(C,H,k);else{if(z.push(C.slice(G,H)),z.length===V)return z;for(var ee=1;ee<=Y.length-1;ee++)if(z.push(Y[ee]),z.length===V)return z;H=G=X}}return z.push(C.slice(G)),z}]},!v)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/create-html");c({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return a(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(o,P,y){var c=o("../internals/export"),a=o("../internals/string-trim").trim;c({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return a(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(h,P,y){var c,a,s,l,u,d=h("../internals/export"),n=h("../internals/descriptors"),t=h("../internals/global"),r=h("../internals/has"),i=h("../internals/is-object"),f=h("../internals/object-define-property").f,h=h("../internals/copy-constructor-properties"),g=t.Symbol;!n||typeof g!="function"||"description"in g.prototype&&g().description===void 0||(c={},h(a=function(){var v=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),b=this instanceof a?new g(v):v===void 0?g():g(v);return v===""&&(c[b]=!0),b},g),(t=a.prototype=g.prototype).constructor=a,s=t.toString,l=String(g("test"))=="Symbol(test)",u=/^Symbol\((.*)\)[^)]+$/,f(t,"description",{configurable:!0,get:function(){var v=i(this)?this.valueOf():this,b=s.call(v);return r(c,v)?"":(v=l?b.slice(7,-1):b.replace(u,"$1"))===""?void 0:v}}),d({global:!0,forced:!0},{Symbol:a}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(o,P,y){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(oe,P,y){function c(N,$){var he=Ae[N]=E(ue[ce]);return se(he,{type:ie,tag:N,description:$}),r||(he.description=$),he}function a(N,xe){m(N);var he=j(xe),xe=C(he).concat(Q(he));return K(xe,function(Ee){r&&!q.call(he,Ee)||be(N,Ee,he[Ee])}),N}function s(xe,Ee){var he,xe=j(xe),Ee=S(Ee,!0);if(xe!==J||!g(Ae,Ee)||g(Se,Ee))return!(he=ye(xe,Ee))||!g(Ae,Ee)||g(xe,ne)&&xe[ne][Ee]||(he.enumerable=!0),he}function l($){var $=Ce(j($)),he=[];return K($,function(xe){g(Ae,xe)||g(Y,xe)||he.push(xe)}),he}var u=oe("../internals/export"),d=oe("../internals/global"),n=oe("../internals/get-built-in"),t=oe("../internals/is-pure"),r=oe("../internals/descriptors"),i=oe("../internals/native-symbol"),f=oe("../internals/use-symbol-as-uid"),h=oe("../internals/fails"),g=oe("../internals/has"),v=oe("../internals/is-array"),b=oe("../internals/is-object"),m=oe("../internals/an-object"),w=oe("../internals/to-object"),j=oe("../internals/to-indexed-object"),S=oe("../internals/to-primitive"),T=oe("../internals/create-property-descriptor"),E=oe("../internals/object-create"),C=oe("../internals/object-keys"),L=oe("../internals/object-get-own-property-names"),k=oe("../internals/object-get-own-property-names-external"),D=oe("../internals/object-get-own-property-symbols"),F=oe("../internals/object-get-own-property-descriptor"),V=oe("../internals/object-define-property"),G=oe("../internals/object-property-is-enumerable"),H=oe("../internals/create-non-enumerable-property"),z=oe("../internals/redefine"),X=oe("../internals/shared"),ze=oe("../internals/shared-key"),Y=oe("../internals/hidden-keys"),ee=oe("../internals/uid"),O=oe("../internals/well-known-symbol"),R=oe("../internals/well-known-symbol-wrapped"),B=oe("../internals/define-well-known-symbol"),W=oe("../internals/set-to-string-tag"),Qe=oe("../internals/internal-state"),K=oe("../internals/array-iteration").forEach,ne=ze("hidden"),ie="Symbol",ce="prototype",oe=O("toPrimitive"),se=Qe.set,me=Qe.getterFor(ie),J=Object[ce],ue=d.Symbol,pe=n("JSON","stringify"),ye=F.f,de=V.f,Ce=k.f,Te=G.f,Ae=X("symbols"),Se=X("op-symbols"),Ge=X("string-to-symbol-registry"),qe=X("symbol-to-string-registry"),ze=X("wks"),Qe=d.QObject,Ze=!Qe||!Qe[ce]||!Qe[ce].findChild,ge=r&&h(function(){return E(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!=7})?function(N,$,he){var xe=ye(J,$);xe&&delete J[$],de(N,$,he),xe&&N!==J&&de(J,$,xe)}:de,ke=f?function(N){return typeof N=="symbol"}:function(N){return Object(N)instanceof ue},be=function(N,$,he){return N===J&&be(Se,$,he),m(N),$=S($,!0),m(he),(g(Ae,$)?(he.enumerable?(g(N,ne)&&N[ne][$]&&(N[ne][$]=!1),he=E(he,{enumerable:T(0,!1)})):(g(N,ne)||de(N,ne,T(1,{})),N[ne][$]=!0),ge):de)(N,$,he)},q=function($){var $=S($,!0),he=Te.call(this,$);return!(this===J&&g(Ae,$)&&!g(Se,$))&&(!(he||!g(this,$)||!g(Ae,$)||g(this,ne)&&this[ne][$])||he)},Q=function(he){var $=he===J,he=Ce($?Se:j(he)),xe=[];return K(he,function(Ee){!g(Ae,Ee)||$&&!g(J,Ee)||xe.push(Ae[Ee])}),xe};i||(z((ue=function(){if(this instanceof ue)throw TypeError("Symbol is not a constructor");var N=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,$=ee(N),he=function(xe){this===J&&he.call(Se,xe),g(this,ne)&&g(this[ne],$)&&(this[ne][$]=!1),ge(this,$,T(1,xe))};return r&&Ze&&ge(J,$,{configurable:!0,set:he}),c($,N)})[ce],"toString",function(){return me(this).tag}),z(ue,"withoutSetter",function(N){return c(ee(N),N)}),G.f=q,V.f=be,F.f=s,L.f=k.f=l,D.f=Q,R.f=function(N){return c(O(N),N)},r&&(de(ue[ce],"description",{configurable:!0,get:function(){return me(this).description}}),t||z(J,"propertyIsEnumerable",q,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:ue}),K(C(ze),function(N){B(N)}),u({target:ie,stat:!0,forced:!i},{for:function(he){var $,he=String(he);return g(Ge,he)?Ge[he]:($=ue(he),Ge[he]=$,qe[$]=he,$)},keyFor:function(N){if(!ke(N))throw TypeError(N+" is not a symbol");if(g(qe,N))return qe[N]},useSetter:function(){Ze=!0},useSimple:function(){Ze=!1}}),u({target:"Object",stat:!0,forced:!i,sham:!r},{create:function(N,$){return $===void 0?E(N):a(E(N),$)},defineProperty:be,defineProperties:a,getOwnPropertyDescriptor:s}),u({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:l,getOwnPropertySymbols:Q}),u({target:"Object",stat:!0,forced:h(function(){D.f(1)})},{getOwnPropertySymbols:function(N){return D.f(w(N))}}),pe&&u({target:"JSON",stat:!0,forced:!i||h(function(){var N=ue();return pe([N])!="[null]"||pe({a:N})!="{}"||pe(Object(N))!="{}"})},{stringify:function(N,$,he){for(var xe,Ee=[N],Be=1;Be<arguments.length;)Ee.push(arguments[Be++]);if((b(xe=$)||N!==void 0)&&!ke(N))return v($)||($=function(Ne,Ve){if(typeof xe=="function"&&(Ve=xe.call(this,Ne,Ve)),!ke(Ve))return Ve}),Ee[1]=$,pe.apply(null,Ee)}}),ue[ce][oe]||H(ue[ce],oe,ue[ce].valueOf),W(ue,ie),Y[ne]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-copy-within"),s=c.aTypedArray;(0,c.exportTypedArrayMethod)("copyWithin",function(l,u){return a.call(s(this),l,u,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").every,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("every",function(l){return a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-fill"),s=c.aTypedArray;(0,c.exportTypedArrayMethod)("fill",function(l){return a.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").filter,s=o("../internals/species-constructor"),l=c.aTypedArray,u=c.aTypedArrayConstructor;(0,c.exportTypedArrayMethod)("filter",function(d){for(var n=a(l(this),d,1<arguments.length?arguments[1]:void 0),d=s(this,this.constructor),t=0,r=n.length,i=new(u(d))(r);t<r;)i[t]=n[t++];return i})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").findIndex,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("findIndex",function(l){return a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").find,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("find",function(l){return a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(o,P,y){o("../internals/typed-array-constructor")("Float32",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],204:[function(o,P,y){o("../internals/typed-array-constructor")("Float64",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],205:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").forEach,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("forEach",function(l){a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-includes").includes,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("includes",function(l){return a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-includes").indexOf,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("indexOf",function(l){return a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(o,P,y){o("../internals/typed-array-constructor")("Int16",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],209:[function(o,P,y){o("../internals/typed-array-constructor")("Int32",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],210:[function(a,P,y){function c(){return s.call(d(this))}var r=a("../internals/global"),t=a("../internals/array-buffer-view-core"),n=a("../modules/es.array.iterator"),a=a("../internals/well-known-symbol")("iterator"),r=r.Uint8Array,s=n.values,l=n.keys,u=n.entries,d=t.aTypedArray,n=t.exportTypedArrayMethod,t=r&&r.prototype[a],r=!!t&&(t.name=="values"||t.name==null);n("entries",function(){return u.call(d(this))}),n("keys",function(){return l.call(d(this))}),n("values",c,!r),n(a,c,!r)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(a,P,y){var a=a("../internals/array-buffer-view-core"),c=a.aTypedArray,a=a.exportTypedArrayMethod,s=[].join;a("join",function(l){return s.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-last-index-of"),s=c.aTypedArray;(0,c.exportTypedArrayMethod)("lastIndexOf",function(l){return a.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").map,s=o("../internals/species-constructor"),l=c.aTypedArray,u=c.aTypedArrayConstructor;(0,c.exportTypedArrayMethod)("map",function(d){return a(l(this),d,1<arguments.length?arguments[1]:void 0,function(n,t){return new(u(s(n,n.constructor)))(t)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-reduce").right,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduceRight",function(l){return a(s(this),l,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-reduce").left,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduce",function(l){return a(s(this),l,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(a,P,y){var a=a("../internals/array-buffer-view-core"),c=a.aTypedArray,a=a.exportTypedArrayMethod,s=Math.floor;a("reverse",function(){for(var l,u=c(this).length,d=s(u/2),n=0;n<d;)l=this[n],this[n++]=this[--u],this[u]=l;return this})},{"../internals/array-buffer-view-core":12}],217:[function(u,P,y){var c=u("../internals/array-buffer-view-core"),a=u("../internals/to-length"),s=u("../internals/to-offset"),l=u("../internals/to-object"),u=u("../internals/fails"),d=c.aTypedArray;(0,c.exportTypedArrayMethod)("set",function(n){d(this);var t=s(1<arguments.length?arguments[1]:void 0,1),r=this.length,i=l(n),f=a(i.length),h=0;if(r<f+t)throw RangeError("Wrong length");for(;h<f;)this[t+h]=i[h++]},u(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(a,P,y){var u=a("../internals/array-buffer-view-core"),c=a("../internals/species-constructor"),a=a("../internals/fails"),s=u.aTypedArray,l=u.aTypedArrayConstructor,u=u.exportTypedArrayMethod,d=[].slice;u("slice",function(n,t){for(var r=d.call(s(this),n,t),n=c(this,this.constructor),i=0,f=r.length,h=new(l(n))(f);i<f;)h[i]=r[i++];return h},a(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/array-iteration").some,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("some",function(l){return a(s(this),l,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(a,P,y){var a=a("../internals/array-buffer-view-core"),c=a.aTypedArray,a=a.exportTypedArrayMethod,s=[].sort;a("sort",function(l){return s.call(c(this),l)})},{"../internals/array-buffer-view-core":12}],221:[function(o,P,y){var c=o("../internals/array-buffer-view-core"),a=o("../internals/to-length"),s=o("../internals/to-absolute-index"),l=o("../internals/species-constructor"),u=c.aTypedArray;(0,c.exportTypedArrayMethod)("subarray",function(i,n){var t=u(this),r=t.length,i=s(i,r);return new(l(t,t.constructor))(t.buffer,t.byteOffset+i*t.BYTES_PER_ELEMENT,a((n===void 0?r:s(n,r))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(a,P,y){var u=a("../internals/global"),c=a("../internals/array-buffer-view-core"),a=a("../internals/fails"),s=u.Int8Array,l=c.aTypedArray,u=c.exportTypedArrayMethod,d=[].toLocaleString,n=[].slice,t=!!s&&a(function(){d.call(new s(1))});u("toLocaleString",function(){return d.apply(t?n.call(l(this)):l(this),arguments)},a(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!a(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(a,P,y){var c=a("../internals/array-buffer-view-core").exportTypedArrayMethod,u=a("../internals/fails"),a=a("../internals/global").Uint8Array,a=a&&a.prototype||{},s=[].toString,l=[].join,u=(u(function(){s.call({})})&&(s=function(){return l.call(this)}),a.toString!=s);c("toString",s,u)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(o,P,y){o("../internals/typed-array-constructor")("Uint16",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],225:[function(o,P,y){o("../internals/typed-array-constructor")("Uint32",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],226:[function(o,P,y){o("../internals/typed-array-constructor")("Uint8",function(c){return function(a,s,l){return c(this,a,s,l)}})},{"../internals/typed-array-constructor":140}],227:[function(o,P,y){o("../internals/typed-array-constructor")("Uint8",function(c){return function(a,s,l){return c(this,a,s,l)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(g,m,y){function c(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}}var a,s,l,u,d,v=g("../internals/global"),n=g("../internals/redefine-all"),t=g("../internals/internal-metadata"),r=g("../internals/collection"),i=g("../internals/collection-weak"),f=g("../internals/is-object"),h=g("../internals/internal-state").enforce,g=g("../internals/native-weak-map"),v=!v.ActiveXObject&&"ActiveXObject"in v,b=Object.isExtensible,m=m.exports=r("WeakMap",c,i);g&&v&&(a=i.getConstructor(c,"WeakMap",!0),t.REQUIRED=!0,r=m.prototype,s=r.delete,l=r.has,u=r.get,d=r.set,n(r,{delete:function(w){var j;return f(w)&&!b(w)?((j=h(this)).frozen||(j.frozen=new a),s.call(this,w)||j.frozen.delete(w)):s.call(this,w)},has:function(w){var j;return f(w)&&!b(w)?((j=h(this)).frozen||(j.frozen=new a),l.call(this,w)||j.frozen.has(w)):l.call(this,w)},get:function(w){var j;return!f(w)||b(w)||((j=h(this)).frozen||(j.frozen=new a),l.call(this,w))?u.call(this,w):j.frozen.get(w)},set:function(w,j){var S;return!f(w)||b(w)||((S=h(this)).frozen||(S.frozen=new a),l.call(this,w))?d.call(this,w,j):S.frozen.set(w,j),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(o,P,y){var c,a=o("../internals/global"),s=o("../internals/dom-iterables"),l=o("../internals/array-for-each"),u=o("../internals/create-non-enumerable-property");for(c in s){var d=a[c],d=d&&d.prototype;if(d&&d.forEach!==l)try{u(d,"forEach",l)}catch{d.forEach=l}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(d,P,y){var c,a=d("../internals/global"),s=d("../internals/dom-iterables"),l=d("../modules/es.array.iterator"),u=d("../internals/create-non-enumerable-property"),d=d("../internals/well-known-symbol"),n=d("iterator"),t=d("toStringTag"),r=l.values;for(c in s){var i=a[c],f=i&&i.prototype;if(f){if(f[n]!==r)try{u(f,n,r)}catch{f[n]=r}if(f[t]||u(f,t,c),s[c]){for(var h in l)if(f[h]!==l[h])try{u(f,h,l[h])}catch{f[h]=l[h]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(ne,P,y){ne("../modules/es.array.iterator");function c(ie){try{return decodeURIComponent(ie)}catch{return ie}}function a(ie){return B[ie]}function s(ie){return encodeURIComponent(ie).replace(R,a)}function l(ie){this.entries.length=0,W(this.entries,ie)}function u(ie,ce){if(ie<ce)throw TypeError("Not enough arguments")}function d(){v(this,d,V);var ie,ce,oe,se,me,J,ue,pe,ye=0<arguments.length?arguments[0]:void 0,de=[];if(H(this,{type:V,entries:de,updateURL:function(){},updateSearchParams:l}),ye!==void 0)if(S(ye))if(typeof(ie=L(ye))=="function")for(oe=(ce=ie.call(ye)).next;!(se=oe.call(ce)).done;){if((J=(me=(se=C(j(se.value))).next).call(se)).done||(ue=me.call(se)).done||!me.call(se).done)throw TypeError("Expected sequence with length 2");de.push({key:J.value+"",value:ue.value+""})}else for(pe in ye)b(ye,pe)&&de.push({key:pe,value:ye[pe]+""});else W(de,typeof ye=="string"?ye.charAt(0)==="?"?ye.slice(1):ye:ye+"")}var n=ne("../internals/export"),F=ne("../internals/get-built-in"),t=ne("../internals/native-url"),r=ne("../internals/redefine"),i=ne("../internals/redefine-all"),f=ne("../internals/set-to-string-tag"),h=ne("../internals/create-iterator-constructor"),g=ne("../internals/internal-state"),v=ne("../internals/an-instance"),b=ne("../internals/has"),m=ne("../internals/function-bind-context"),w=ne("../internals/classof"),j=ne("../internals/an-object"),S=ne("../internals/is-object"),T=ne("../internals/object-create"),E=ne("../internals/create-property-descriptor"),C=ne("../internals/get-iterator"),L=ne("../internals/get-iterator-method"),ne=ne("../internals/well-known-symbol"),k=F("fetch"),D=F("Headers"),F=ne("iterator"),V="URLSearchParams",G=V+"Iterator",H=g.set,z=g.getterFor(V),X=g.getterFor(G),Y=/\+/g,ee=Array(4),O=function(ie){var ce,oe=ie.replace(Y," "),se=4;try{return decodeURIComponent(oe)}catch{for(;se;)oe=oe.replace((ce=se--,ee[ce-1]||(ee[ce-1]=RegExp("((?:%[\\da-f]{2}){"+ce+"})","gi"))),c);return oe}},R=/[!'()~]|%20/g,B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},W=function(ie,ce){if(ce)for(var oe,se=ce.split("&"),me=0;me<se.length;)(oe=se[me++]).length&&(oe=oe.split("="),ie.push({key:O(oe.shift()),value:O(oe.join("="))}))},K=h(function(ie,ce){H(this,{type:G,iterator:C(z(ie).entries),kind:ce})},"Iterator",function(){var ce=X(this),ie=ce.kind,ce=ce.iterator.next(),oe=ce.value;return ce.done||(ce.value=ie==="keys"?oe.key:ie==="values"?oe.value:[oe.key,oe.value]),ce}),ne=d.prototype;i(ne,{append:function(ie,ce){u(arguments.length,2);var oe=z(this);oe.entries.push({key:ie+"",value:ce+""}),oe.updateURL()},delete:function(ie){u(arguments.length,1);for(var ce=z(this),oe=ce.entries,se=ie+"",me=0;me<oe.length;)oe[me].key===se?oe.splice(me,1):me++;ce.updateURL()},get:function(ie){u(arguments.length,1);for(var ce=z(this).entries,oe=ie+"",se=0;se<ce.length;se++)if(ce[se].key===oe)return ce[se].value;return null},getAll:function(ie){u(arguments.length,1);for(var ce=z(this).entries,oe=ie+"",se=[],me=0;me<ce.length;me++)ce[me].key===oe&&se.push(ce[me].value);return se},has:function(ie){u(arguments.length,1);for(var ce=z(this).entries,oe=ie+"",se=0;se<ce.length;)if(ce[se++].key===oe)return!0;return!1},set:function(ie,ce){u(arguments.length,1);for(var oe,se=z(this),me=se.entries,J=!1,ue=ie+"",pe=ce+"",ye=0;ye<me.length;ye++)(oe=me[ye]).key===ue&&(J?me.splice(ye--,1):(J=!0,oe.value=pe));J||me.push({key:ue,value:pe}),se.updateURL()},sort:function(){for(var ie,ce,oe=z(this),se=oe.entries,me=se.slice(),J=se.length=0;J<me.length;J++){for(ie=me[J],ce=0;ce<J;ce++)if(se[ce].key>ie.key){se.splice(ce,0,ie);break}ce===J&&se.push(ie)}oe.updateURL()},forEach:function(ie){for(var ce,oe=z(this).entries,se=m(ie,1<arguments.length?arguments[1]:void 0,3),me=0;me<oe.length;)se((ce=oe[me++]).value,ce.key,this)},keys:function(){return new K(this,"keys")},values:function(){return new K(this,"values")},entries:function(){return new K(this,"entries")}},{enumerable:!0}),r(ne,F,ne.entries),r(ne,"toString",function(){for(var ie,ce=z(this).entries,oe=[],se=0;se<ce.length;)ie=ce[se++],oe.push(s(ie.key)+"="+s(ie.value));return oe.join("&")},{enumerable:!0}),f(d,V),n({global:!0,forced:!t},{URLSearchParams:d}),t||typeof k!="function"||typeof D!="function"||n({global:!0,enumerable:!0,forced:!0},{fetch:function(me){var ce,oe,se,me=[me];return 1<arguments.length&&(S(ce=arguments[1])&&(oe=ce.body,w(oe)===V&&((se=ce.headers?new D(ce.headers):new D).has("content-type")||se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ce=T(ce,{body:E(0,String(oe)),headers:E(0,se)}))),me.push(ce)),k.apply(this,me)}}),P.exports={URLSearchParams:d,getState:z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(C,P,y){C("../modules/es.string.iterator");function c(le){var Fe,Ye,De,lt;if(typeof le=="number"){for(Fe=[],Ye=0;Ye<4;Ye++)Fe.unshift(le%256),le=G(le/256);return Fe.join(".")}if(typeof le!="object")return le;for(Fe="",De=ue(le),Ye=0;Ye<8;Ye++)lt&&le[Ye]===0||(lt=lt&&!1,De===Ye?(Fe+=Ye?":":"::",lt=!0):(Fe+=le[Ye].toString(16),Ye<7&&(Fe+=":")));return"["+Fe+"]"}function a(le){return!le.host||le.cannotBeABaseURL||le.scheme=="file"}function s(le,Fe,Ye,De){var lt,Ie,dt,He=Ye||ke,ut=0,We="",Tt=!1,Lt=!1,St=!1;for(Ye||(le.scheme="",le.username="",le.password="",le.host=null,le.port=null,le.path=[],le.query=null,le.fragment=null,le.cannotBeABaseURL=!1,Fe=Fe.replace(se,"")),Fe=Fe.replace(me,""),lt=w(Fe);ut<=lt.length;){switch(Ie=lt[ut],He){case ke:if(!Ie||!O.test(Ie)){if(Ye)return X;He=q;continue}We+=Ie.toLowerCase(),He=be;break;case be:if(Ie&&(R.test(Ie)||Ie=="+"||Ie=="-"||Ie=="."))We+=Ie.toLowerCase();else{if(Ie!=":"){if(Ye)return X;We="",He=q,ut=0;continue}if(Ye&&(Se(le)!=b(Ae,We)||We=="file"&&(Ge(le)||le.port!==null)||le.scheme=="file"&&!le.host))return;if(le.scheme=We,Ye)return void(Se(le)&&Ae[le.scheme]==le.port&&(le.port=null));We="",le.scheme=="file"?He=it:Se(le)&&De&&De.scheme==le.scheme?He=Q:Se(le)?He=xe:lt[ut+1]=="/"?(He=N,ut++):(le.cannotBeABaseURL=!0,le.path.push(""),He=gt)}break;case q:if(!De||De.cannotBeABaseURL&&Ie!="#")return X;if(De.cannotBeABaseURL&&Ie=="#"){le.scheme=De.scheme,le.path=De.path.slice(),le.query=De.query,le.fragment="",le.cannotBeABaseURL=!0,He=Et;break}He=De.scheme=="file"?it:$;continue;case Q:if(Ie!="/"||lt[ut+1]!="/"){He=$;continue}He=Ee,ut++;break;case N:if(Ie=="/"){He=Be;break}He=rt;continue;case $:if(le.scheme=De.scheme,Ie==d)le.username=De.username,le.password=De.password,le.host=De.host,le.port=De.port,le.path=De.path.slice(),le.query=De.query;else if(Ie=="/"||Ie=="\\"&&Se(le))He=he;else if(Ie=="?")le.username=De.username,le.password=De.password,le.host=De.host,le.port=De.port,le.path=De.path.slice(),le.query="",He=Nt;else{if(Ie!="#"){le.username=De.username,le.password=De.password,le.host=De.host,le.port=De.port,le.path=De.path.slice(),le.path.pop(),He=rt;continue}le.username=De.username,le.password=De.password,le.host=De.host,le.port=De.port,le.path=De.path.slice(),le.query=De.query,le.fragment="",He=Et}break;case he:if(!Se(le)||Ie!="/"&&Ie!="\\"){if(Ie!="/"){le.username=De.username,le.password=De.password,le.host=De.host,le.port=De.port,He=rt;continue}He=Be}else He=Ee;break;case xe:if(He=Ee,Ie!="/"||We.charAt(ut+1)!="/")continue;ut++;break;case Ee:if(Ie=="/"||Ie=="\\")break;He=Be;continue;case Be:if(Ie=="@"){Tt&&(We="%40"+We);for(var Tt=!0,kt=w(We),Qt=0;Qt<kt.length;Qt++){var Ht=kt[Qt];Ht!=":"||St?(Ht=Te(Ht,Ce),St?le.password+=Ht:le.username+=Ht):St=!0}We=""}else if(Ie==d||Ie=="/"||Ie=="?"||Ie=="#"||Ie=="\\"&&Se(le)){if(Tt&&We=="")return z;ut-=w(We).length+1,We="",He=Ne}else We+=Ie;break;case Ne:case Ve:if(Ye&&le.scheme=="file"){He=Ke;continue}if(Ie!=":"||Lt){if(Ie==d||Ie=="/"||Ie=="?"||Ie=="#"||Ie=="\\"&&Se(le)){if(Se(le)&&We=="")return Y;if(Ye&&We==""&&(Ge(le)||le.port!==null))return;if(dt=J(le,We))return dt;if(We="",He=nt,Ye)return;continue}Ie=="["?Lt=!0:Ie=="]"&&(Lt=!1),We+=Ie}else{if(We=="")return Y;if(dt=J(le,We))return dt;if(We="",He=Xe,Ye==Ve)return}break;case Xe:if(!B.test(Ie)){if(Ie==d||Ie=="/"||Ie=="?"||Ie=="#"||Ie=="\\"&&Se(le)||Ye){if(We!=""){var Jt=parseInt(We,10);if(65535<Jt)return ee;le.port=Se(le)&&Jt===Ae[le.scheme]?null:Jt,We=""}if(Ye)return;He=nt;continue}return ee}We+=Ie;break;case it:if(le.scheme="file",Ie=="/"||Ie=="\\")He=ot;else{if(!De||De.scheme!="file"){He=rt;continue}if(Ie==d)le.host=De.host,le.path=De.path.slice(),le.query=De.query;else if(Ie=="?")le.host=De.host,le.path=De.path.slice(),le.query="",He=Nt;else{if(Ie!="#"){ze(lt.slice(ut).join(""))||(le.host=De.host,le.path=De.path.slice(),Qe(le)),He=rt;continue}le.host=De.host,le.path=De.path.slice(),le.query=De.query,le.fragment="",He=Et}}break;case ot:if(Ie=="/"||Ie=="\\"){He=Ke;break}De&&De.scheme=="file"&&!ze(lt.slice(ut).join(""))&&(qe(De.path[0],!0)?le.path.push(De.path[0]):le.host=De.host),He=rt;continue;case Ke:if(Ie==d||Ie=="/"||Ie=="\\"||Ie=="?"||Ie=="#"){if(!Ye&&qe(We))He=rt;else{if(We==""){if(le.host="",Ye)return}else{if(dt=J(le,We))return dt;if(le.host=="localhost"&&(le.host=""),Ye)return;We=""}He=nt}continue}We+=Ie;break;case nt:if(Se(le)){if(He=rt,Ie!="/"&&Ie!="\\")continue}else if(Ye||Ie!="?")if(Ye||Ie!="#"){if(Ie!=d&&(He=rt,Ie!="/"))continue}else le.fragment="",He=Et;else le.query="",He=Nt;break;case rt:if(Ie==d||Ie=="/"||Ie=="\\"&&Se(le)||!Ye&&(Ie=="?"||Ie=="#")){if(ge(We)?(Qe(le),Ie=="/"||Ie=="\\"&&Se(le)||le.path.push("")):Ze(We)?Ie=="/"||Ie=="\\"&&Se(le)||le.path.push(""):(le.scheme=="file"&&!le.path.length&&qe(We)&&(le.host&&(le.host=""),We=We.charAt(0)+":"),le.path.push(We)),We="",le.scheme=="file"&&(Ie==d||Ie=="?"||Ie=="#"))for(;1<le.path.length&&le.path[0]==="";)le.path.shift();Ie=="?"?(le.query="",He=Nt):Ie=="#"&&(le.fragment="",He=Et)}else We+=Te(Ie,de);break;case gt:Ie=="?"?(le.query="",He=Nt):Ie=="#"?(le.fragment="",He=Et):Ie!=d&&(le.path[0]+=Te(Ie,pe));break;case Nt:Ye||Ie!="#"?Ie!=d&&(Ie=="'"&&Se(le)?le.query+="%27":le.query+=Ie=="#"?"%23":Te(Ie,pe)):(le.fragment="",He=Et);break;case Et:Ie!=d&&(le.fragment+=Te(Ie,ye))}ut++}}function l(Ie){var Fe,Ye,De=v(this,l,"URL"),lt=1<arguments.length?arguments[1]:void 0,Ie=String(Ie),dt=F(De,{type:"URL"});if(lt!==void 0){if(lt instanceof l)Fe=V(lt);else if(Ye=s(Fe={},String(lt)))throw TypeError(Ye)}if(Ye=s(dt,Ie,null,Fe))throw TypeError(Ye);var He=dt.searchParams=new k;(lt=D(He)).updateSearchParams(dt.query),lt.updateURL=function(){dt.query=String(He)||null},i||(De.href=bt.call(De),De.origin=ct.call(De),De.protocol=Dt.call(De),De.username=At.call(De),De.password=pt.call(De),De.host=Ut.call(De),De.hostname=dr.call(De),De.port=fr.call(De),De.pathname=hr.call(De),De.search=jr.call(De),De.searchParams=pr.call(De),De.hash=mr.call(De))}function u(le,Fe){return{get:le,set:Fe,configurable:!0,enumerable:!0}}var d,n,t,r=C("../internals/export"),i=C("../internals/descriptors"),f=C("../internals/native-url"),ft=C("../internals/global"),h=C("../internals/object-define-properties"),g=C("../internals/redefine"),v=C("../internals/an-instance"),b=C("../internals/has"),m=C("../internals/object-assign"),w=C("../internals/array-from"),j=C("../internals/string-multibyte").codeAt,S=C("../internals/string-punycode-to-ascii"),T=C("../internals/set-to-string-tag"),E=C("../modules/web.url-search-params"),C=C("../internals/internal-state"),L=ft.URL,k=E.URLSearchParams,D=E.getState,F=C.set,V=C.getterFor("URL"),G=Math.floor,H=Math.pow,z="Invalid authority",X="Invalid scheme",Y="Invalid host",ee="Invalid port",O=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,B=/\d/,W=/^(0x|0X)/,K=/^[0-7]+$/,ne=/^\d+$/,ie=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,se=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,me=/[\u0009\u000A\u000D]/g,J=function(le,Fe){var Ye,De,lt;if(Fe.charAt(0)=="[")return Fe.charAt(Fe.length-1)=="]"&&(Ye=function(Ie){var dt=[0,0,0,0,0,0,0,0],He=0,ut=null,We=0,Tt,Lt,St,kt,Qt,Ht,Jt,Rt=function(){return Ie.charAt(We)};if(Rt()==":"){if(Ie.charAt(1)!=":")return;We+=2,He++,ut=He}for(;Rt();){if(He==8)return;if(Rt()==":"){if(ut!==null)return;We++,He++,ut=He;continue}for(Tt=Lt=0;Lt<4&&ie.test(Rt());)Tt=Tt*16+parseInt(Rt(),16),We++,Lt++;if(Rt()=="."){if(Lt==0||(We-=Lt,He>6))return;for(St=0;Rt();){if(kt=null,St>0)if(Rt()=="."&&St<4)We++;else return;if(!B.test(Rt()))return;for(;B.test(Rt());){if(Qt=parseInt(Rt(),10),kt===null)kt=Qt;else{if(kt==0)return;kt=kt*10+Qt}if(kt>255)return;We++}dt[He]=dt[He]*256+kt,St++,(St==2||St==4)&&He++}if(St!=4)return;break}else if(Rt()==":"){if(We++,!Rt())return}else if(Rt())return;dt[He++]=Tt}if(ut!==null)for(Ht=He-ut,He=7;He!=0&&Ht>0;)Jt=dt[He],dt[He--]=dt[ut+Ht-1],dt[ut+--Ht]=Jt;else if(He!=8)return;return dt}(Fe.slice(1,-1)))?void(le.host=Ye):Y;if(Se(le))return Fe=S(Fe),ce.test(Fe)||(Ye=function(Ie){var dt=Ie.split("."),He,ut,We,Tt,Lt,St,kt;if(dt.length&&dt[dt.length-1]==""&&dt.pop(),(He=dt.length)>4)return Ie;for(ut=[],We=0;We<He;We++){if(Tt=dt[We],Tt=="")return Ie;if(Lt=10,Tt.length>1&&Tt.charAt(0)=="0"&&(Lt=W.test(Tt)?16:8,Tt=Tt.slice(Lt==8?1:2)),Tt==="")St=0;else{if(!(Lt==10?ne:Lt==8?K:ie).test(Tt))return Ie;St=parseInt(Tt,Lt)}ut.push(St)}for(We=0;We<He;We++)if(St=ut[We],We==He-1){if(St>=H(256,5-He))return null}else if(St>255)return null;for(kt=ut.pop(),We=0;We<ut.length;We++)kt+=ut[We]*H(256,3-We);return kt}(Fe))===null?Y:void(le.host=Ye);if(oe.test(Fe))return Y;for(Ye="",De=w(Fe),lt=0;lt<De.length;lt++)Ye+=Te(De[lt],pe);le.host=Ye},ue=function(le){for(var Fe=null,Ye=1,De=null,lt=0,Ie=0;Ie<8;Ie++)le[Ie]!==0?(Ye<lt&&(Fe=De,Ye=lt),De=null,lt=0):(De===null&&(De=Ie),++lt);return Ye<lt&&(Fe=De,Ye=lt),Fe},pe={},ye=m({},pe,{" ":1,'"':1,"<":1,">":1,"`":1}),de=m({},ye,{"#":1,"?":1,"{":1,"}":1}),Ce=m({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Te=function(le,Fe){var Ye=j(le,0);return 32<Ye&&Ye<127&&!b(Fe,le)?le:encodeURIComponent(le)},Ae={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Se=function(le){return b(Ae,le.scheme)},Ge=function(le){return le.username!=""||le.password!=""},qe=function(le,Fe){return le.length==2&&O.test(le.charAt(0))&&((le=le.charAt(1))==":"||!Fe&&le=="|")},ze=function(le){return 1<le.length&&qe(le.slice(0,2))&&(le.length==2||(le=le.charAt(2))==="/"||le==="\\"||le==="?"||le==="#")},Qe=function(le){var Fe=le.path,Ye=Fe.length;!Ye||le.scheme=="file"&&Ye==1&&qe(Fe[0],!0)||Fe.pop()},Ze=function(le){return le==="."||le.toLowerCase()==="%2e"},ge=function(le){return(le=le.toLowerCase())===".."||le==="%2e."||le===".%2e"||le==="%2e%2e"},ke={},be={},q={},Q={},N={},$={},he={},xe={},Ee={},Be={},Ne={},Ve={},Xe={},it={},ot={},Ke={},nt={},rt={},gt={},Nt={},Et={},ft=l.prototype,bt=function(){var le=V(this),Fe=le.scheme,Ye=le.username,De=le.password,lt=le.host,Ie=le.port,dt=le.path,He=le.query,ut=le.fragment,We=Fe+":";return lt!==null?(We+="//",Ge(le)&&(We+=Ye+(De?":"+De:"")+"@"),We+=c(lt),Ie!==null&&(We+=":"+Ie)):Fe=="file"&&(We+="//"),We+=le.cannotBeABaseURL?dt[0]:dt.length?"/"+dt.join("/"):"",He!==null&&(We+="?"+He),ut!==null&&(We+="#"+ut),We},ct=function(){var le=V(this),Fe=le.scheme,Ye=le.port;if(Fe=="blob")try{return new URL(Fe.path[0]).origin}catch{return"null"}return Fe!="file"&&Se(le)?Fe+"://"+c(le.host)+(Ye!==null?":"+Ye:""):"null"},Dt=function(){return V(this).scheme+":"},At=function(){return V(this).username},pt=function(){return V(this).password},Ut=function(){var Fe=V(this),le=Fe.host,Fe=Fe.port;return le===null?"":Fe===null?c(le):c(le)+":"+Fe},dr=function(){var le=V(this).host;return le===null?"":c(le)},fr=function(){var le=V(this).port;return le===null?"":String(le)},hr=function(){var le=V(this),Fe=le.path;return le.cannotBeABaseURL?Fe[0]:Fe.length?"/"+Fe.join("/"):""},jr=function(){var le=V(this).query;return le?"?"+le:""},pr=function(){return V(this).searchParams},mr=function(){var le=V(this).fragment;return le?"#"+le:""};i&&h(ft,{href:u(bt,function(Ye){var Fe=V(this),Ye=String(Ye),Ye=s(Fe,Ye);if(Ye)throw TypeError(Ye);D(Fe.searchParams).updateSearchParams(Fe.query)}),origin:u(ct),protocol:u(Dt,function(le){var Fe=V(this);s(Fe,String(le)+":",ke)}),username:u(At,function(le){var Fe=V(this),Ye=w(String(le));if(!a(Fe)){Fe.username="";for(var De=0;De<Ye.length;De++)Fe.username+=Te(Ye[De],Ce)}}),password:u(pt,function(le){var Fe=V(this),Ye=w(String(le));if(!a(Fe)){Fe.password="";for(var De=0;De<Ye.length;De++)Fe.password+=Te(Ye[De],Ce)}}),host:u(Ut,function(le){var Fe=V(this);Fe.cannotBeABaseURL||s(Fe,String(le),Ne)}),hostname:u(dr,function(le){var Fe=V(this);Fe.cannotBeABaseURL||s(Fe,String(le),Ve)}),port:u(fr,function(le){var Fe=V(this);a(Fe)||((le=String(le))==""?Fe.port=null:s(Fe,le,Xe))}),pathname:u(hr,function(le){var Fe=V(this);Fe.cannotBeABaseURL||(Fe.path=[],s(Fe,le+"",nt))}),search:u(jr,function(le){var Fe=V(this);(le=String(le))==""?Fe.query=null:(le.charAt(0)=="?"&&(le=le.slice(1)),Fe.query="",s(Fe,le,Nt)),D(Fe.searchParams).updateSearchParams(Fe.query)}),searchParams:u(pr),hash:u(mr,function(le){var Fe=V(this);(le=String(le))==""?Fe.fragment=null:(le.charAt(0)=="#"&&(le=le.slice(1)),Fe.fragment="",s(Fe,le,Et))})}),g(ft,"toJSON",function(){return bt.call(this)},{enumerable:!0}),g(ft,"toString",function(){return bt.call(this)},{enumerable:!0}),L&&(n=L.createObjectURL,t=L.revokeObjectURL,n&&g(l,"createObjectURL",function(le){return n.apply(L,arguments)}),t&&g(l,"revokeObjectURL",function(le){return t.apply(L,arguments)})),T(l,"URL"),r({global:!0,forced:!f,sham:!i},{URL:l})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(o,P,y){P.exports=o("./").polyfill()},{"./":234}],234:[function(o,P,y){(function(c,a){var s,l;s=this,l=function(){function u(J){return typeof J=="function"}var d=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"},n=0,t=void 0,r=void 0,i=function(J,ue){m[n]=J,m[n+1]=ue,(n+=2)===2&&(r?r(w):k())},f=typeof window<"u"?window:void 0,h=f||{},h=h.MutationObserver||h.WebKitMutationObserver,g=typeof self>"u"&&c!==void 0&&{}.toString.call(c)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var J=setTimeout;return function(){return J(w,1)}}var m=new Array(1e3);function w(){for(var J=0;J<n;J+=2)(0,m[J])(m[J+1]),m[J]=void 0,m[J+1]=void 0;n=0}function j(){try{var J=Function("return this")().require("vertx");return(t=J.runOnLoop||J.runOnContext)!==void 0?function(){t(w)}:b()}catch{return b()}}var S,T,E,k=void 0;function C(J,ue){var pe,ye=this,de=new this.constructor(F),Ce=(de[D]===void 0&&ie(de),ye._state);return Ce?(pe=arguments[Ce-1],i(function(){return K(Ce,de,pe,ye._result)})):B(ye,de,J,ue),de}function L(J){var ue;return J&&typeof J=="object"&&J.constructor===this?J:(Y(ue=new this(F),J),ue)}var k=g?function(){return c.nextTick(w)}:h?(T=0,g=new h(w),E=document.createTextNode(""),g.observe(E,{characterData:!0}),function(){E.data=T=++T%2}):v?((S=new MessageChannel).port1.onmessage=w,function(){return S.port2.postMessage(0)}):(f===void 0&&typeof o=="function"?j:b)(),D=Math.random().toString(36).substring(2);function F(){}var V=void 0,G=1,H=2;function z(J,ue,pe){i(function(ye){var de=!1,Ce=function(Te,Ae,Se,Ge){try{Te.call(Ae,Se,Ge)}catch(qe){return qe}}(pe,ue,function(Te){de||(de=!0,(ue!==Te?Y:O)(ye,Te))},function(Te){de||(de=!0,R(ye,Te))},ye._label);!de&&Ce&&(de=!0,R(ye,Ce))},J)}function X(J,ue,pe){var ye,de;ue.constructor===J.constructor&&pe===C&&ue.constructor.resolve===L?(ye=J,(de=ue)._state===G?O(ye,de._result):de._state===H?R(ye,de._result):B(de,void 0,function(Ce){return Y(ye,Ce)},function(Ce){return R(ye,Ce)})):pe!==void 0&&u(pe)?z(J,ue,pe):O(J,ue)}function Y(J,ue){if(J===ue)R(J,new TypeError("You cannot resolve a promise with itself"));else if(pe=typeof ue,ue===null||pe!="object"&&pe!="function")O(J,ue);else{pe=void 0;try{pe=ue.then}catch(ye){return void R(J,ye)}X(J,ue,pe)}var pe}function ee(J){J._onerror&&J._onerror(J._result),W(J)}function O(J,ue){J._state===V&&(J._result=ue,J._state=G,J._subscribers.length!==0&&i(W,J))}function R(J,ue){J._state===V&&(J._state=H,J._result=ue,i(ee,J))}function B(J,ue,pe,ye){var de=J._subscribers,Ce=de.length;J._onerror=null,de[Ce]=ue,de[Ce+G]=pe,de[Ce+H]=ye,Ce===0&&J._state&&i(W,J)}function W(J){var ue=J._subscribers,pe=J._state;if(ue.length!==0){for(var ye,de=void 0,Ce=J._result,Te=0;Te<ue.length;Te+=3)ye=ue[Te],de=ue[Te+pe],ye?K(pe,ye,de,Ce):de(Ce);J._subscribers.length=0}}function K(J,ue,pe,ye){var de=u(pe),Ce=void 0,Te=void 0,Ae=!0;if(de){try{Ce=pe(ye)}catch(Se){Ae=!1,Te=Se}if(ue===Ce)return void R(ue,new TypeError("A promises callback cannot return that same promise."))}else Ce=ye;ue._state===V&&(de&&Ae?Y(ue,Ce):Ae===!1?R(ue,Te):J===G?O(ue,Ce):J===H&&R(ue,Ce))}var ne=0;function ie(J){J[D]=ne++,J._state=void 0,J._result=void 0,J._subscribers=[]}oe.prototype._enumerate=function(J){for(var ue=0;this._state===V&&ue<J.length;ue++)this._eachEntry(J[ue],ue)},oe.prototype._eachEntry=function(J,ue){var pe=this._instanceConstructor,ye=pe.resolve;if(ye===L){var de,Ce=void 0,Te=void 0,Ae=!1;try{Ce=J.then}catch(Se){Ae=!0,Te=Se}Ce===C&&J._state!==V?this._settledAt(J._state,ue,J._result):typeof Ce!="function"?(this._remaining--,this._result[ue]=J):pe===se?(de=new pe(F),Ae?R(de,Te):X(de,J,Ce),this._willSettleAt(de,ue)):this._willSettleAt(new pe(function(Se){return Se(J)}),ue)}else this._willSettleAt(ye(J),ue)},oe.prototype._settledAt=function(J,ue,pe){var ye=this.promise;ye._state===V&&(this._remaining--,J===H?R(ye,pe):this._result[ue]=pe),this._remaining===0&&O(ye,this._result)},oe.prototype._willSettleAt=function(J,ue){var pe=this;B(J,void 0,function(ye){return pe._settledAt(G,ue,ye)},function(ye){return pe._settledAt(H,ue,ye)})};var ce=oe;function oe(J,ue){this._instanceConstructor=J,this.promise=new J(F),this.promise[D]||ie(this.promise),d(ue)?(this.length=ue.length,this._remaining=ue.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ue),this._remaining!==0)||O(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}me.prototype.catch=function(J){return this.then(null,J)},me.prototype.finally=function(J){var ue=this.constructor;return u(J)?this.then(function(pe){return ue.resolve(J()).then(function(){return pe})},function(pe){return ue.resolve(J()).then(function(){throw pe})}):this.then(J,J)};var se=me;function me(J){if(this[D]=ne++,this._result=this._state=void 0,this._subscribers=[],F!==J){if(typeof J!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof me))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ue=this;try{J(function(pe){Y(ue,pe)},function(pe){R(ue,pe)})}catch(pe){R(ue,pe)}}}return se.prototype.then=C,se.all=function(J){return new ce(this,J).promise},se.race=function(J){var ue=this;return d(J)?new ue(function(pe,ye){for(var de=J.length,Ce=0;Ce<de;Ce++)ue.resolve(J[Ce]).then(pe,ye)}):new ue(function(pe,ye){return ye(new TypeError("You must pass an array to race."))})},se.resolve=L,se.reject=function(J){var ue=new this(F);return R(ue,J),ue},se._setScheduler=function(J){r=J},se._setAsap=function(J){i=J},se._asap=i,se.polyfill=function(){var J=void 0;if(a!==void 0)J=a;else if(typeof self<"u")J=self;else try{J=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ue=J.Promise;if(ue){var pe=null;try{pe=Object.prototype.toString.call(ue.resolve())}catch{}if(pe==="[object Promise]"&&!ue.cast)return}J.Promise=se},se.Promise=se},typeof y=="object"&&P!==void 0?P.exports=l():s.ES6Promise=l()}).call(this,o("_process"),typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(o,P,y){var c,a;c=this,a=function(s,l){var u=5e3,d="callback";function n(r){try{delete window[r]}catch{window[r]=void 0}}function t(r){r=document.getElementById(r),r&&document.getElementsByTagName("head")[0].removeChild(r)}l.exports=function(r){var i=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],f=r,h=i.timeout||u,g=i.jsonpCallback||d,v=void 0;return new Promise(function(b,m){var w=i.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),j=g+"_"+w,S=(window[w]=function(T){b({ok:!0,json:function(){return Promise.resolve(T)}}),v&&clearTimeout(v),t(j),n(w)},f+=f.indexOf("?")===-1?"?":"&",document.createElement("script"));S.setAttribute("src",""+f+g+"="+w),i.charset&&S.setAttribute("charset",i.charset),S.id=j,document.getElementsByTagName("head")[0].appendChild(S),v=setTimeout(function(){m(new Error("JSONP request to "+r+" timed out")),n(w),t(j),window[w]=function(){n(w)}},h),S.onerror=function(){m(new Error("JSONP request to "+r+" failed")),n(w),t(j),v&&clearTimeout(v)}})}},y!==void 0&&P!==void 0?a(0,P):(a(a={exports:{}},a),c.fetchJsonp=a.exports)},{}],236:[function(o,P,y){var c=function(a){var s,l,u,d,n,t,r,i,f,h,g;if(!(a===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return g=a.document,s=function(){return a.URL||a.webkitURL||a},l=g.createElementNS("http://www.w3.org/1999/xhtml","a"),u="download"in l,d=/constructor/i.test(a.HTMLElement)||a.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent),t=function(v){(a.setImmediate||a.setTimeout)(function(){throw v},0)},r=4e4,i=function(v){setTimeout(function(){typeof v=="string"?s().revokeObjectURL(v):v.remove()},r)},f=function(v){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob([String.fromCharCode(65279),v],{type:v.type}):v},g=(h=function(v,b,T){T||(v=f(v));var w,j,S=this,T=v.type==="application/octet-stream",E=function(){for(var C=S,L="writestart progress write writeend".split(" "),k=void 0,D=(L=[].concat(L)).length;D--;){var F=C["on"+L[D]];if(typeof F=="function")try{F.call(C,k||C)}catch(V){t(V)}}};S.readyState=S.INIT,u?(w=s().createObjectURL(v),setTimeout(function(){var C,L;l.href=w,l.download=b,C=l,L=new MouseEvent("click"),C.dispatchEvent(L),E(),i(w),S.readyState=S.DONE})):(n||T&&d)&&a.FileReader?((j=new FileReader).onloadend=function(){var C=n?j.result:j.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(C,"_blank")||(a.location.href=C),C=void 0,S.readyState=S.DONE,E()},j.readAsDataURL(v),S.readyState=S.INIT):(w=w||s().createObjectURL(v),!T&&a.open(w,"_blank")||(a.location.href=w),S.readyState=S.DONE,E(),i(w))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(v,b,m){return b=b||v.name||"download",m||(v=f(v)),navigator.msSaveOrOpenBlob(v,b)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,function(v,b,m){return new h(v,b||v.name||"download",m)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);P!==void 0&&P.exports?P.exports.saveAs=c:Le!=null},{}],237:[function(o,P,y){var c,a=Object.defineProperty,s=(a(y,"__esModule",{value:!0}),y),l={GIFEncoder:()=>E,applyPalette:()=>function(V,G,H="rgb565"){if(!V||!V.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(V instanceof Uint8Array||V instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<G.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(V.buffer),X=z.length,Y=H==="rgb444"?4096:65536,ee=new Uint8Array(X),O=new Array(Y);if(H==="rgba4444")for(let me=0;me<X;me++){var K=z[me],R=K>>24&255,B=K>>16&255,W=K>>8&255,K=255&K,ne=i(K,W,B,R),ne=ne in O?O[ne]:O[ne]=function(J,ue,pe,ye,de){let Ce=0,Te=1e100;for(let qe=0;qe<de.length;qe++){var Ae,Se=de[qe],Ge=j(Se[3]-ye);Ge>Te||(Ae=Se[0],(Ge+=j(Ae-J))>Te||(Ae=Se[1],(Ge+=j(Ae-ue))>Te||(Ae=Se[2],(Ge+=j(Ae-pe))>Te||(Te=Ge,Ce=qe))))}return Ce}(K,W,B,R,G);ee[me]=ne}else{const me=H==="rgb444"?f:r;for(let J=0;J<X;J++){var oe=z[J],ie=oe>>16&255,ce=oe>>8&255,oe=255&oe,se=me(oe,ce,ie),se=se in O?O[se]:O[se]=function(ue,pe,ye,de){let Ce=0,Te=1e100;for(let qe=0;qe<de.length;qe++){var Ae,Se=de[qe],Ge=j(Se[0]-ue);Ge>Te||(Ae=Se[1],(Ge+=j(Ae-pe))>Te||(Ae=Se[2],(Ge+=j(Ae-ye))>Te||(Te=Ge,Ce=qe)))}return Ce}(oe,ce,ie,G);ee[J]=se}}return ee},default:()=>F,nearestColor:()=>function(V,G,H=m){return V[S(V,G,H)]},nearestColorIndex:()=>S,nearestColorIndexWithDistance:()=>T,prequantize:()=>function(V,{roundRGB:G=5,roundAlpha:H=10,oneBitAlpha:z=null}={}){const X=new Uint32Array(V.buffer);for(let B=0;B<X.length;B++){var R=X[B];let W=R>>24&255;var Y,ee=R>>16&255,O=R>>8&255,R=255&R;W=w(W,H),z&&(Y=typeof z=="number"?z:127,W=W<=Y?0:255),R=w(R,G),O=w(O,G),ee=w(ee,G),X[B]=W<<24|ee<<16|O<<8|R<<0}},quantize:()=>function(V,G,H={}){var{format:z="rgb565",clearAlpha:X=!0,clearAlphaColor:Y=0,clearAlphaThreshold:ee=0,oneBitAlpha:O=!1}=H;if(!V||!V.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(V instanceof Uint8Array||V instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");V=new Uint32Array(V.buffer);let R=H.useSqrt!==!1;const B=z==="rgba4444",W=function(ze,Qe){const Ze=Qe==="rgb444"?4096:65536,ge=new Array(Ze),ke=ze.length;if(Qe==="rgba4444")for(let ot=0;ot<ke;++ot){var N=ze[ot],be=N>>24&255,q=N>>16&255,Q=N>>8&255,N=255&N,$=i(N,Q,q,be);let Ke=$ in ge?ge[$]:ge[$]=b();Ke.rc+=N,Ke.gc+=Q,Ke.bc+=q,Ke.ac+=be,Ke.cnt++}else if(Qe==="rgb444")for(let ot=0;ot<ke;++ot){var Ee=ze[ot],he=Ee>>16&255,xe=Ee>>8&255,Ee=255&Ee,Be=f(Ee,xe,he);let Ke=Be in ge?ge[Be]:ge[Be]=b();Ke.rc+=Ee,Ke.gc+=xe,Ke.bc+=he,Ke.cnt++}else for(let ot=0;ot<ke;++ot){var Xe=ze[ot],Ne=Xe>>16&255,Ve=Xe>>8&255,Xe=255&Xe,it=r(Xe,Ve,Ne);let Ke=it in ge?ge[it]:ge[it]=b();Ke.rc+=Xe,Ke.gc+=Ve,Ke.bc+=Ne,Ke.cnt++}return ge}(V,z),K=W.length,ne=K-1,ie=new Uint32Array(K+1);for(var ce=0,oe=0;oe<K;++oe){const ze=W[oe];ze!=null&&(Se=1/ze.cnt,B&&(ze.ac*=Se),ze.rc*=Se,ze.gc*=Se,ze.bc*=Se,W[ce++]=ze)}g(G)/ce<.022&&(R=!1);for(var se,me,J,oe=0;oe<ce-1;++oe)W[oe].fw=oe+1,W[oe+1].bk=oe,R&&(W[oe].cnt=Math.sqrt(W[oe].cnt));for(R&&(W[oe].cnt=Math.sqrt(W[oe].cnt)),oe=0;oe<ce;++oe){v(W,oe,!1);var ue=W[oe].err;for(me=++ie[0];1<me&&(J=me>>1,!(W[se=ie[J]].err<=ue));me=J)ie[me]=se;ie[me]=oe}var pe,ye=ce-G;for(oe=0;oe<ye;){for(;;){var de=ie[1];if((pe=W[de]).tm>=pe.mtm&&W[pe.nn].mtm<=pe.tm)break;for(pe.mtm==ne?de=ie[1]=ie[ie[0]--]:(v(W,de,!1),pe.tm=oe),ue=W[de].err,me=1;(J=me+me)<=ie[0]&&(J<ie[0]&&W[ie[J]].err>W[ie[J+1]].err&&J++,!(ue<=W[se=ie[J]].err));me=J)ie[me]=se;ie[me]=de}var Ce=W[pe.nn],Te=pe.cnt,Ae=Ce.cnt,Se=1/(Te+Ae);B&&(pe.ac=Se*(Te*pe.ac+Ae*Ce.ac)),pe.rc=Se*(Te*pe.rc+Ae*Ce.rc),pe.gc=Se*(Te*pe.gc+Ae*Ce.gc),pe.bc=Se*(Te*pe.bc+Ae*Ce.bc),pe.cnt+=Ce.cnt,pe.mtm=++oe,W[Ce.bk].fw=Ce.fw,W[Ce.fw].bk=Ce.bk,Ce.mtm=ne}let Ge=[];for(oe=0;;0){let ze=h(Math.round(W[oe].rc),0,255),Qe=h(Math.round(W[oe].gc),0,255),Ze=h(Math.round(W[oe].bc),0,255),ge=255;B&&(ge=h(Math.round(W[oe].ac),0,255),O&&(qe=typeof O=="number"?O:127,ge=ge<=qe?0:255),X&&ge<=ee&&(ze=Qe=Ze=Y,ge=0));var qe=B?[ze,Qe,Ze,ge]:[ze,Qe,Ze];if(function(ke,be){for(let N=0;N<ke.length;N++){var Q=ke[N],q=Q[0]===be[0]&&Q[1]===be[1]&&Q[2]===be[2],Q=!(4<=Q.length&&4<=be.length)||Q[3]===be[3];if(q&&Q)return!0}return!1}(Ge,qe)||Ge.push(qe),(oe=W[oe].fw)==0)break}return Ge},snapColorsToPalette:()=>function(V,G,H=5){if(V.length&&G.length){var z=V.map(R=>R.slice(0,3)),X=H*H,Y=V[0].length;for(let R=0;R<G.length;R++){let B=G[R];B=B.length<Y?[B[0],B[1],B[2],255]:B.length>Y?B.slice(0,3):B.slice();var O=T(z,B.slice(0,3),m),ee=O[0],O=O[1];0<O&&O<=X&&(V[ee]=B)}}}};for(c in l)a(s,c,{get:l[c],enumerable:!0});var u={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function d(V=256){let G=0,H=new Uint8Array(V);return{get buffer(){return H.buffer},reset(){G=0},bytesView(){return H.subarray(0,G)},bytes(){return H.slice(0,G)},writeByte(X){z(G+1),H[G]=X,G++},writeBytes(X,Y=0,ee=X.length){z(G+ee);for(let O=0;O<ee;O++)H[G++]=X[O+Y]},writeBytesView(X,Y=0,ee=X.byteLength){z(G+ee),H.set(X.subarray(Y,Y+ee),G),G+=ee}};function z(X){var Y=H.length;if(!(X<=Y)){X=Math.max(X,Y*(Y<1048576?2:1.125)>>>0),Y!=0&&(X=Math.max(X,256));const ee=H;H=new Uint8Array(X),0<G&&H.set(ee.subarray(0,G),0)}}}var n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],t=function(V,G,H,B,X=d(512),Y=new Uint8Array(256),ee=new Int32Array(5003),O=new Int32Array(5003)){var R=ee.length,B=Math.max(2,B);Y.fill(0),O.fill(0),ee.fill(-1);let W=0,K=0;var ne=B+1;const ie=ne;let ce=!1,oe=ie,se=(1<<oe)-1;var me=1<<ne-1;const J=1+me;let ue=2+me,pe=0,ye=H[0],de=0;for(let qe=R;qe<65536;qe*=2)++de;de=8-de,X.writeByte(B),Ge(me);var Ce=H.length;for(let qe=1;qe<Ce;qe++)e:{var Te=H[qe],Ae=(Te<<12)+ye;let ze=Te<<de^ye;if(ee[ze]===Ae)ye=O[ze];else{for(var Se=ze===0?1:R-ze;0<=ee[ze];)if((ze-=Se)<0&&(ze+=R),ee[ze]===Ae){ye=O[ze];break e}Ge(ye),ye=Te,ue<4096?(O[ze]=ue++,ee[ze]=Ae):(ee.fill(-1),ue=2+me,ce=!0,Ge(me))}}return Ge(ye),Ge(J),X.writeByte(0),X.bytesView();function Ge(qe){for(W&=n[K],0<K?W|=qe<<K:W=qe,K+=oe;8<=K;)Y[pe++]=255&W,254<=pe&&(X.writeByte(pe),X.writeBytesView(Y,0,pe),pe=0),W>>=8,K-=8;if((ue>se||ce)&&(ce?(oe=ie,se=(1<<oe)-1,ce=!1):(++oe,se=oe===12?1<<oe:(1<<oe)-1)),qe==J){for(;0<K;)Y[pe++]=255&W,254<=pe&&(X.writeByte(pe),X.writeBytesView(Y,0,pe),pe=0),W>>=8,K-=8;0<pe&&(X.writeByte(pe),X.writeBytesView(Y,0,pe),pe=0)}}};function r(V,G,H){return V<<8&63488|G<<2&992|H>>3}function i(V,G,H,z){return V>>4|240&G|(240&H)<<4|(240&z)<<8}function f(V,G,H){return V>>4<<8|240&G|H>>4}function h(V,G,H){return V<G?G:H<V?H:V}function g(V){return V*V}function v(V,G,H){var z=0,X=1e100;const Y=V[G];for(var ee=Y.cnt,O=Y.ac,R=Y.rc,B=Y.gc,W=Y.bc,K=Y.fw;K!=0;K=V[K].fw){var ne,ie=V[K],ce=ie.cnt,ce=ee*ce/(ee+ce);X<=ce||(ne=0,H&&X<=(ne+=ce*g(ie.ac-O))||X<=(ne+=ce*g(ie.rc-R))||X<=(ne+=ce*g(ie.gc-B))||X<=(ne+=ce*g(ie.bc-W))||(X=ne,z=K))}Y.err=X,Y.nn=z}function b(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function m(V,G){for(var H=0,z=0;z<V.length;z++){var X=V[z]-G[z];H+=X*X}return H}function w(V,G){return 1<G?Math.round(V/G)*G:V}function j(V){return V*V}function S(V,G,H=m){let z=1/0,X=-1;for(let ee=0;ee<V.length;ee++){var Y=H(G,V[ee]);Y<z&&(z=Y,X=ee)}return X}function T(V,G,H=m){let z=1/0,X=-1;for(let ee=0;ee<V.length;ee++){var Y=H(G,V[ee]);Y<z&&(z=Y,X=ee)}return[X,z]}function E(V={}){const{initialCapacity:G=4096,auto:H=!0}=V,z=d(G),X=new Uint8Array(256),Y=new Int32Array(5003),ee=new Int32Array(5003);let O=!1;return{reset(){z.reset(),O=!1},finish(){z.writeByte(u.trailer)},bytes(){return z.bytes()},bytesView(){return z.bytesView()},get buffer(){return z.buffer},get stream(){return z},writeHeader:R,writeFrame(B,W,K,ye={}){var{transparent:ie=!1,transparentIndex:ce=0,delay:Se=0,palette:oe=null,repeat:Ce=0,colorDepth:se=8,dispose:me=-1}=ye;let J=!1;if(H?O||(J=!0,R(),O=!0):J=!!ye.first,W=Math.max(0,Math.floor(W)),K=Math.max(0,Math.floor(K)),J){if(!oe)throw new Error("First frame must include a { palette } option");var[ye,Te,pe,Ae,de=8]=[z,W,K,oe,se];Ae=D(Ae.length)-1,de=128|de-1<<4|Ae,L(ye,Te),L(ye,pe),ye.writeBytes([de,0,0]),C(z,oe),0<=Ce&&(Ae=z,Te=Ce,Ae.writeByte(33),Ae.writeByte(255),Ae.writeByte(11),k(Ae,"NETSCAPE2.0"),Ae.writeByte(3),Ae.writeByte(1),L(Ae,Te),Ae.writeByte(0))}var ue,pe=Math.round(Se/10),ye=z,de=me,Ce=pe,Te=ie,Ae=ce,Se=(ye.writeByte(33),ye.writeByte(249),ye.writeByte(4),Ae<0&&(Ae=0,Te=!1),Te=Te?(ue=1,2):ue=0,0<=de&&(Te=7&de),Te<<=2,ye.writeByte(0|Te|ue),L(ye,Ce),ye.writeByte(Ae||0),ye.writeByte(0),!!oe&&!J);me=z,ie=W,ce=K,ue=Se?oe:null,me.writeByte(44),L(me,0),L(me,0),L(me,ie),L(me,ce),ue?(ie=D(ue.length)-1,me.writeByte(128|ie)):me.writeByte(0),Se&&C(z,oe),[Ce,ye,ce,ie,me=8,Se,oe,B]=[z,B,W,K,se,X,Y,ee],t(ce,ie,ye,me,Ce,Se,oe,B)}};function R(){k(z,"GIF89a")}}function C(V,G){var H=1<<D(G.length);for(let z=0;z<H;z++){let X=[0,0,0];z<G.length&&(X=G[z]),V.writeByte(X[0]),V.writeByte(X[1]),V.writeByte(X[2])}}function L(V,G){V.writeByte(255&G),V.writeByte(G>>8&255)}function k(V,G){for(var H=0;H<G.length;H++)V.writeByte(G.charCodeAt(H))}function D(V){return Math.max(Math.ceil(Math.log2(V)),1)}var F=E},{}],238:[function(o,P,y){y.read=function(c,a,s,l,v){var d,n,t=8*v-l-1,r=(1<<t)-1,i=r>>1,f=-7,h=s?v-1:0,g=s?-1:1,v=c[a+h];for(h+=g,d=v&(1<<-f)-1,v>>=-f,f+=t;0<f;d=256*d+c[a+h],h+=g,f-=8);for(n=d&(1<<-f)-1,d>>=-f,f+=l;0<f;n=256*n+c[a+h],h+=g,f-=8);if(d===0)d=1-i;else{if(d===r)return n?NaN:1/0*(v?-1:1);n+=Math.pow(2,l),d-=i}return(v?-1:1)*n*Math.pow(2,d-l)},y.write=function(c,a,s,l,u,b){var n,t,r=8*b-u-1,i=(1<<r)-1,f=i>>1,h=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:b-1,v=l?1:-1,b=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(t=isNaN(a)?1:0,n=i):(n=Math.floor(Math.log(a)/Math.LN2),a*(l=Math.pow(2,-n))<1&&(n--,l*=2),2<=(a+=1<=n+f?h/l:h*Math.pow(2,1-f))*l&&(n++,l/=2),i<=n+f?(t=0,n=i):1<=n+f?(t=(a*l-1)*Math.pow(2,u),n+=f):(t=a*Math.pow(2,f-1)*Math.pow(2,u),n=0));8<=u;c[s+g]=255&t,g+=v,t/=256,u-=8);for(n=n<<u|t,r+=u;0<r;c[s+g]=255&n,g+=v,n/=256,r-=8);c[s+g-v]|=128*b}},{}],239:[function(o,P,y){var c;function a(q,Q){return q.b===Q.b&&q.a===Q.a}function s(q,Q){return q.b<Q.b||q.b===Q.b&&q.a<=Q.a}function l(q,Q,N){var $=Q.b-q.b,he=N.b-Q.b;return 0<$+he?$<he?Q.a-q.a+$/($+he)*(q.a-N.a):Q.a-N.a+he/($+he)*(N.a-q.a):0}function u(q,Q,N){var $=Q.b-q.b,he=N.b-Q.b;return 0<$+he?(Q.a-N.a)*$+(Q.a-q.a)*he:0}function d(q,Q){return q.a<Q.a||q.a===Q.a&&q.b<=Q.b}function n(q,Q,N){var $=Q.a-q.a,he=N.a-Q.a;return 0<$+he?$<he?Q.b-q.b+$/($+he)*(q.b-N.b):Q.b-N.b+he/($+he)*(N.b-q.b):0}function t(q,Q,N){var $=Q.a-q.a,he=N.a-Q.a;return 0<$+he?(Q.b-N.b)*$+(Q.b-q.b)*he:0}function r(q,Q,N,$){return(q=q<0?0:q)<=(N=N<0?0:N)?N===0?(Q+$)/2:Q+q/(q+N)*($-Q):$+N/(q+N)*(Q-$)}function i(q){var Q=b(q.b);return w(Q,q.c),w(Q.b,q.c),j(Q,q.a),Q}function f(q,Q){var N=!1,$=!1;q!==Q&&(Q.a!==q.a&&($=!0,T(Q.a,q.a)),Q.d!==q.d&&(N=!0,E(Q.d,q.d)),m(Q,q),$||(w(Q,q.a),q.a.c=q),N||(j(Q,q.d),q.d.a=q))}function h(q){var Q=q.b,N=!1;q.d!==q.b.d&&(N=!0,E(q.d,q.b.d)),q.c===q?T(q.a,null):(q.b.d.a=q.b.e,q.a.c=q.c,m(q,q.b.e),N||j(q,q.d)),Q.c===Q?(T(Q.a,null),E(Q.d,null)):(q.d.a=Q.b.e,Q.a.c=Q.c,m(Q,Q.b.e)),S(q)}function g(q){var Q=b(q),N=Q.b;return m(Q,q.e),Q.a=q.b.a,w(N,Q.a),Q.d=N.d=q.d,Q=Q.b,m(q.b,q.b.b.e),m(q.b,Q),q.b.a=Q.a,Q.b.a.c=Q.b,Q.b.d=q.b.d,Q.f=q.f,Q.b.f=q.b.f,Q}function v(q,Q){var N=!1,$=b(q),he=$.b;return Q.d!==q.d&&(N=!0,E(Q.d,q.d)),m($,q.e),m(he,Q),$.a=q.b.a,he.a=Q.a,$.d=he.d=q.d,q.d.a=he,N||j($,q.d),$}function b(q){var Q=new pe,N=new pe,$=q.b.h;return(((N.h=$).b.h=Q).h=q).b.h=N,Q.b=N,((Q.c=Q).e=N).b=Q,(N.c=N).e=Q}function m(q,Q){var N=q.c,$=Q.c;N.b.e=Q,($.b.e=q).c=$,Q.c=N}function w(q,Q){var N=Q.f,$=new de(Q,N);for(N.e=$,N=(Q.f=$).c=q;N.a=$,(N=N.c)!==q;);}function j(q,Q){var N=Q.d,$=new ue(Q,N);for(N.b=$,(Q.d=$).a=q,$.c=Q.c,N=q;N.d=$,(N=N.e)!==q;);}function S(q){var Q=q.h;q=q.b.h,(Q.b.h=q).b.h=Q}function T(q,Q){for(var N=q.c,$=N;$.a=Q,($=$.c)!==N;);N=q.f,(($=q.e).f=N).e=$}function E(q,Q){for(var N=q.a,$=N;$.d=Q,($=$.e)!==N;);N=q.d,(($=q.b).d=N).b=$}function C(q){var Q=0;return Math.abs(q[1])>Math.abs(q[0])&&(Q=1),Q=Math.abs(q[2])>Math.abs(q[Q])?2:Q}function L(q,Q){q.f+=Q.f,q.b.f+=Q.b.f}function k(q,Q,N){return q=q.a,Q=Q.a,N=N.a,Q.b.a===q?N.b.a===q?s(Q.a,N.a)?u(N.b.a,Q.a,N.a)<=0:0<=u(Q.b.a,N.a,Q.a):u(N.b.a,q,N.a)<=0:N.b.a===q?0<=u(Q.b.a,q,Q.a):(Q=l(Q.b.a,q,Q.a),(q=l(N.b.a,q,N.a))<=Q)}function D(q){q.a.i=null;var Q=q.e;Q.a.c=Q.c,Q.c.a=Q.a,q.e=null}function F(q,Q){h(q.a),q.c=!1,(q.a=Q).i=q}function V(q){for(var Q=q.a.a;(q=be(q)).a.a===Q;);return q.c&&(F(q,Q=v(ke(q).a.b,q.a.e)),q=be(q)),q}function G(q,Q,N){var $=new ge;return $.a=N,$.e=ce(q.f,Q.e,$),N.i=$}function H(q,Q){switch(q.s){case 100130:return(1&Q)!=0;case 100131:return Q!==0;case 100132:return 0<Q;case 100133:return Q<0;case 100134:return 2<=Q||Q<=-2}return!1}function z(q){var Q=q.a,N=Q.d;N.c=q.d,N.a=Q,D(q)}function X(q,Q,N){for(Q=(q=Q).a;q!==N;){q.c=!1;var $=ke(q),he=$.a;if(he.a!==Q.a){if(!$.c){z(q);break}F($,he=v(Q.c.b,he.b))}Q.c!==he&&(f(he.b.e,he),f(Q,he)),z(q),Q=$.a,q=$}return Q}function Y(q,Q,N,$,he,xe){for(var Ee=!0;G(q,Q,N.b),(N=N.c)!==$;);for(he===null&&(he=ke(Q).a.b.c);(N=($=ke(Q)).a.b).a===he.a;)N.c!==he&&(f(N.b.e,N),f(he.b.e,N)),$.f=Q.f-N.f,$.d=H(q,$.f),Q.b=!0,!Ee&&B(q,Q)&&(L(N,he),D(Q),h(he)),Ee=!1,Q=$,he=N;Q.b=!0,xe&&K(q,Q)}function ee(q,Q,N,$,he){var xe=[Q.g[0],Q.g[1],Q.g[2]];Q.d=null,Q.d=q.o&&q.o(xe,N,$,q.c)||null,Q.d===null&&(he?q.n||(J(q,100156),q.n=!0):Q.d=N[0])}function O(q,Q,N){var $=[null,null,null,null];$[0]=Q.a.d,$[1]=N.a.d,ee(q,Q.a,$,[.5,.5,0,0],!1),f(Q,N)}function R(q,Q,N,$,he){var xe=Math.abs(Q.b-q.b)+Math.abs(Q.a-q.a),Ee=Math.abs(N.b-q.b)+Math.abs(N.a-q.a),Be=he+1;$[he]=.5*Ee/(xe+Ee),$[Be]=.5*xe/(xe+Ee),q.g[0]+=$[he]*Q.g[0]+$[Be]*N.g[0],q.g[1]+=$[he]*Q.g[1]+$[Be]*N.g[1],q.g[2]+=$[he]*Q.g[2]+$[Be]*N.g[2]}function B(q,Q){var N=ke(Q),$=Q.a,he=N.a;if(s($.a,he.a)){if(0<u(he.b.a,$.a,he.a))return;if(a($.a,he.a)){if($.a!==he.a){var N=q.e,xe=$.a.h;if(0<=xe){var Ee=(N=N.b).d,Be=N.e,Ne=N.c,Ve=Ne[xe];Ee[Ve]=Ee[N.a],(Ne[Ee[Ve]]=Ve)<=--N.a&&(Ve<=1||s(Be[Ee[Ve>>1]],Be[Ee[Ve]])?Qe:Ze)(N,Ve),Be[xe]=null,Ne[xe]=N.b,N.b=xe}else for(N.c[-(xe+1)]=null;0<N.a&&N.c[N.d[N.a-1]]===null;)--N.a;O(q,he.b.e,$)}}else g(he.b),f($,he.b.e),Q.b=N.b=!0}else{if(u($.b.a,he.a,$.a)<0)return;be(Q).b=Q.b=!0,g($.b),f(he.b.e,$)}return 1}function W(q,Q){var N=ke(Q),$=Q.a,he=N.a,xe=$.a,Ee=he.a,Be=$.b.a,Ne=he.b.a,Ve=new de;if(u(Be,q.a,xe),u(Ne,q.a,Ee),!(xe===Ee||Math.min(xe.a,Be.a)>Math.max(Ee.a,Ne.a))){if(s(xe,Ee)){if(0<u(Ne,xe,Ee))return}else if(u(Be,Ee,xe)<0)return;var Xe,it,ot=Be,Ke=xe,nt=Ne,rt=Ee;if(s(ot,Ke)||(Xe=ot,ot=Ke,Ke=Xe),s(nt,rt)||(Xe=nt,nt=rt,rt=Xe),s(ot,nt)||(Xe=ot,ot=nt,nt=Xe,Xe=Ke,Ke=rt,rt=Xe),s(nt,Ke)?s(Ke,rt)?((Xe=l(ot,nt,Ke))+(it=l(nt,Ke,rt))<0&&(Xe=-Xe,it=-it),Ve.b=r(Xe,nt.b,it,Ke.b)):((Xe=u(ot,nt,Ke))+(it=-u(ot,rt,Ke))<0&&(Xe=-Xe,it=-it),Ve.b=r(Xe,nt.b,it,rt.b)):Ve.b=(nt.b+Ke.b)/2,d(ot,Ke)||(Xe=ot,ot=Ke,Ke=Xe),d(nt,rt)||(Xe=nt,nt=rt,rt=Xe),d(ot,nt)||(Xe=ot,ot=nt,nt=Xe,Xe=Ke,Ke=rt,rt=Xe),d(nt,Ke)?d(Ke,rt)?((Xe=n(ot,nt,Ke))+(it=n(nt,Ke,rt))<0&&(Xe=-Xe,it=-it),Ve.a=r(Xe,nt.a,it,Ke.a)):((Xe=t(ot,nt,Ke))+(it=-t(ot,rt,Ke))<0&&(Xe=-Xe,it=-it),Ve.a=r(Xe,nt.a,it,rt.a)):Ve.a=(nt.a+Ke.a)/2,s(Ve,q.a)&&(Ve.b=q.a.b,Ve.a=q.a.a),ot=s(xe,Ee)?xe:Ee,s(ot,Ve)&&(Ve.b=ot.b,Ve.a=ot.a),a(Ve,xe)||a(Ve,Ee))return B(q,Q),0;if(!a(Be,q.a)&&0<=u(Be,q.a,Ve)||!a(Ne,q.a)&&u(Ne,q.a,Ve)<=0){if(Ne===q.a)g($.b),f(he.b,$),$=ke(Q=V(Q)).a,X(q,ke(Q),N),Y(q,Q,$.b.e,$,$,!0);else{if(Be!==q.a)return 0<=u(Be,q.a,Ve)&&(be(Q).b=Q.b=!0,g($.b),$.a.b=q.a.b,$.a.a=q.a.a),void(u(Ne,q.a,Ve)<=0&&(Q.b=N.b=!0,g(he.b),he.a.b=q.a.b,he.a.a=q.a.a));for(g(he.b),f($.e,he.b.e),Ee=(xe=N=Q).a.b.a;(xe=be(xe)).a.b.a===Ee;);xe=ke(Q=xe).a.b.c,N.a=he.b.e,Y(q,Q,(he=X(q,N,null)).c,$.b.c,xe,!0)}return 1}g($.b),g(he.b),f(he.b.e,$),$.a.b=Ve.b,$.a.a=Ve.a,$.a.h=Te(q.e,$.a),$=$.a,he=[0,0,0,0],Ve=[xe.d,Be.d,Ee.d,Ne.d],$.g[0]=$.g[1]=$.g[2]=0,R($,xe,Be,he,0),R($,Ee,Ne,he,2),ee(q,$,Ve,he,!0),be(Q).b=Q.b=N.b=!0}}function K(q,Q){for(var N=ke(Q);;){for(;N.b;)N=ke(Q=N);if(!Q.b&&((Q=be(N=Q))===null||!Q.b))break;Q.b=!1;var $=Q.a,he=N.a;if(xe=$.b.a!==he.b.a)e:{var xe,Ee=ke(xe=Q),Be=xe.a,Ne=Ee.a,Ve=void 0;if(s(Be.b.a,Ne.b.a)){if(u(Be.b.a,Ne.b.a,Be.a)<0){xe=!1;break e}be(xe).b=xe.b=!0,Ve=g(Be),f(Ne.b,Ve),Ve.d.c=xe.d}else{if(0<u(Ne.b.a,Be.b.a,Ne.a)){xe=!1;break e}xe.b=Ee.b=!0,Ve=g(Ne),f(Be.e,Ne.b),Ve.b.d.c=xe.d}xe=!0}if(xe&&(N.c?(D(N),h(he),he=(N=ke(Q)).a):Q.c&&(D(Q),h($),$=(Q=be(N)).a)),$.a!==he.a){if($.b.a===he.b.a||Q.c||N.c||$.b.a!==q.a&&he.b.a!==q.a)B(q,Q);else if(W(q,Q))break}$.a===he.a&&$.b.a===he.b.a&&(L(he,$),D(Q),h($),Q=be(N))}}function ne(q,Q){var N=new ge,$=i(q.b);$.a.b=4e150,$.a.a=Q,$.b.a.b=-4e150,$.b.a.a=Q,q.a=$.b.a,N.a=$,N.f=0,N.d=!1,N.c=!1,N.h=!0,N.b=!1,$=ce($=q.f,$.a,N),N.e=$}function ie(q){this.a=new oe,this.b=q,this.c=k}function ce(q,Q,N){for(;(Q=Q.c).b!==null&&!q.c(q.b,Q.b,N););return q=new oe(N,Q.a,Q),Q.a.c=q,Q.a=q}function oe(q,Q,N){this.b=q||null,this.a=Q||this,this.c=N||this}function se(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function me(q,Q){if(q.d!==Q)for(;q.d!==Q;)if(q.d<Q)switch(q.d){case 0:J(q,100151),q.u(null);break;case 1:J(q,100152),q.t()}else switch(q.d){case 2:J(q,100154),q.v();break;case 1:J(q,100153),q.w()}}function J(q,Q){q.p&&q.p(Q,q.c)}function ue(q,Q){this.b=q||this,this.d=Q||this,this.a=null,this.c=!1}function pe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ye(){this.c=new de,this.a=new ue,this.b=new pe,this.d=new pe,this.b.b=this.d,this.d.b=this.b}function de(q,Q){this.e=q||this,this.f=Q||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Ce(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Se}function Te(q,Q){var N,$,he;return q.e?(2*($=++(N=q.b).a)>N.f&&(N.f*=2,N.c=Ge(N.c,N.f+1)),N.b===0?he=$:(he=N.b,N.b=N.c[N.b]),N.e[he]=Q,N.c[he]=$,N.d[$]=he,N.h&&Ze(N,$),he):(N=q.a++,q.c[N]=Q,-(N+1))}function Ae(q){if(q.a===0)return ze(q.b);var Q=q.c[q.d[q.a-1]];if(q.b.a!==0&&s(qe(q.b),Q))return ze(q.b);for(;--q.a,0<q.a&&q.c[q.d[q.a-1]]===null;);return Q}function Se(){this.d=Ge([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ge(q,Q){for(var N=Array(Q),$=0;$<q.length;$++)N[$]=q[$];for(;$<Q;$++)N[$]=0;return N}function qe(q){return q.e[q.d[1]]}function ze(q){var Q=q.d,N=q.e,$=q.c,he=Q[1],xe=N[he];return 0<q.a&&(Q[1]=Q[q.a],$[Q[1]]=1,N[he]=null,$[he]=q.b,q.b=he,0<--q.a&&Qe(q,1)),xe}function Qe(q,Q){for(var N=q.d,$=q.e,he=q.c,xe=Q,Ee=N[xe];;){var Be=xe<<1,Ne=(Be<q.a&&s($[N[Be+1]],$[N[Be]])&&(Be+=1),N[Be]);if(Be>q.a||s($[Ee],$[Ne])){he[N[xe]=Ee]=xe;break}he[N[xe]=Ne]=xe,xe=Be}}function Ze(q,Q){for(var N=q.d,$=q.e,he=q.c,xe=Q,Ee=N[xe];;){var Be=xe>>1,Ne=N[Be];if(Be==0||s($[Ne],$[Ee])){he[N[xe]=Ee]=xe;break}he[N[xe]=Ne]=xe,xe=Be}}function ge(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ke(q){return q.e.c.b}function be(q){return q.e.a.b}(c=se.prototype).x=function(){me(this,0)},c.B=function(q,Q){switch(q){case 100142:return;case 100140:switch(Q){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Q)}break;case 100141:return void(this.m=!!Q);default:return void J(this,100900)}J(this,100901)},c.y=function(q){switch(q){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:J(this,100900)}return!1},c.A=function(q,Q,N){this.j[0]=q,this.j[1]=Q,this.j[2]=N},c.z=function(q,Q){var N=Q||null;switch(q){case 100100:case 100106:this.h=N;break;case 100104:case 100110:this.l=N;break;case 100101:case 100107:this.k=N;break;case 100102:case 100108:this.i=N;break;case 100103:case 100109:this.p=N;break;case 100105:case 100111:this.o=N;break;case 100112:this.r=N;break;default:J(this,100900)}},c.C=function(q,Q){var N=!1,$=[0,0,0];me(this,2);for(var he=0;he<3;++he){var xe=q[he];xe<-1e150&&(xe=-1e150,N=!0),1e150<xe&&(xe=1e150,N=!0),$[he]=xe}N&&J(this,100155),(N=this.q)===null?f(N=i(this.b),N.b):(g(N),N=N.e),N.a.d=Q,N.a.g[0]=$[0],N.a.g[1]=$[1],N.a.g[2]=$[2],N.f=1,N.b.f=-1,this.q=N},c.u=function(q){me(this,0),this.d=1,this.b=new ye,this.c=q},c.t=function(){me(this,1),this.d=2,this.q=null},c.v=function(){me(this,2),this.d=1},c.w=function(){me(this,1),this.d=0;var q,Q,N=this.j[0],$=this.j[1],he=this.j[2],xe=!1,Ee=[N,$,he];if(N===0&&$===0&&he===0){for(var $=[-2e150,-2e150,-2e150],Be=[2e150,2e150,2e150],he=[],Ne=[],N=(xe=this.b.c).e;N!==xe;N=N.e)for(var Ve=0;Ve<3;++Ve){var Xe=N.g[Ve];Xe<Be[Ve]&&(Be[Ve]=Xe,Ne[Ve]=N),Xe>$[Ve]&&($[Ve]=Xe,he[Ve]=N)}if($[1]-Be[1]>$[N=0]-Be[0]&&(N=1),Be[N=$[2]-Be[2]>$[N]-Be[N]?2:N]>=$[N])Ee[0]=0,Ee[1]=0,Ee[2]=1;else{for(Be=Ne[N],he=he[N],Ne=[$=0,0,0],Be=[Be.g[0]-he.g[0],Be.g[1]-he.g[1],Be.g[2]-he.g[2]],Ve=[0,0,0],N=xe.e;N!==xe;N=N.e)Ve[0]=N.g[0]-he.g[0],Ve[1]=N.g[1]-he.g[1],Ve[2]=N.g[2]-he.g[2],Ne[0]=Be[1]*Ve[2]-Be[2]*Ve[1],Ne[1]=Be[2]*Ve[0]-Be[0]*Ve[2],Ne[2]=Be[0]*Ve[1]-Be[1]*Ve[0],$<(Xe=Ne[0]*Ne[0]+Ne[1]*Ne[1]+Ne[2]*Ne[2])&&($=Xe,Ee[0]=Ne[0],Ee[1]=Ne[1],Ee[2]=Ne[2]);$<=0&&(Ee[0]=Ee[1]=Ee[2]=0,Ee[C(Be)]=1)}xe=!0}for(Ne=C(Ee),N=this.b.c,$=(Ne+1)%3,he=(Ne+2)%3,Ne=0<Ee[Ne]?1:-1,Ee=N.e;Ee!==N;Ee=Ee.e)Ee.b=Ee.g[$],Ee.a=Ne*Ee.g[he];if(xe){for(Ee=0,N=(xe=this.b.a).b;N!==xe;N=N.b)if(!(($=N.a).f<=0))for(;Ee+=($.a.b-$.b.a.b)*($.a.a+$.b.a.a),($=$.e)!==N.a;);if(Ee<0)for(xe=(Ee=this.b.c).e;xe!==Ee;xe=xe.e)xe.a=-xe.a}for(this.n=!1,Ee=this.b.b,N=Ee.h;N!==Ee;N=xe)xe=N.h,$=N.e,a(N.a,N.b.a)&&N.e.e!==N&&(O(this,$,N),h(N),$=(N=$).e),$.e===N&&($!==N&&($!==xe&&$!==xe.b||(xe=xe.h),h($)),N!==xe&&N!==xe.b||(xe=xe.h),h(N));for(this.e=Ee=new Ce,xe=this.b.c,N=xe.e;N!==xe;N=N.e)N.h=Te(Ee,N);var it=Ee;it.d=[];for(var ot=0;ot<it.a;ot++)it.d[ot]=ot;it.d.sort(function(rt){return function(gt,Nt){return s(rt[gt],rt[Nt])?1:-1}}(it.c)),it.e=!0;for(var Ke=it.b,nt=Ke.a;1<=nt;--nt)Qe(Ke,nt);for(Ke.h=!0,this.f=new ie(this),ne(this,-4e150),ne(this,4e150);(Ee=Ae(this.e))!==null;){for(;;){e:if((N=this.e).a===0)xe=qe(N.b);else if(xe=N.c[N.d[N.a-1]],N.b.a!==0&&s(N=qe(N.b),xe)){xe=N;break e}if(xe===null||!a(xe,Ee))break;xe=Ae(this.e),O(this,Ee.c,xe.c)}(function rt(gt,Nt){for(var Et,ft=(gt.a=Nt).c;ft.i===null;)if((ft=ft.c)===Nt.c){var ft=gt,bt=Nt;(pt=new ge).a=bt.c.b;for(var Ut=(ct=ft.f).a;(Ut=Ut.a).b!==null&&!ct.c(ct.b,pt,Ut.b););var ct,Dt,At=ke(ct=Ut.b),pt=ct.a,Ut=At.a;return void(u(pt.b.a,bt,pt.a)===0?a((pt=ct.a).a,bt)||a(pt.b.a,bt)||(g(pt.b),ct.c&&(h(pt.c),ct.c=!1),f(bt.c,pt),rt(ft,bt)):(Dt=s(Ut.b.a,pt.b.a)?ct:At,At=void 0,ct.d||Dt.c?(At=Dt===ct?v(bt.c.b,pt.e):v(Ut.b.c.b,bt.c).b,Dt.c?F(Dt,At):((ct=G(pt=ft,ct,At)).f=be(ct).f+ct.a.f,ct.d=H(pt,ct.f)),rt(ft,bt)):Y(ft,ct,bt.c,bt.c,null,!0)))}ct=(pt=ke(ft=V(ft.i))).a,(pt=X(gt,pt,null)).c===ct?(pt=(ct=pt).c,Ut=ke(ft),At=ft.a,Dt=Ut.a,Et=!1,At.b.a!==Dt.b.a&&W(gt,ft),a(At.a,gt.a)&&(f(pt.b.e,At),pt=ke(ft=V(ft)).a,X(gt,ke(ft),Ut),Et=!0),a(Dt.a,gt.a)&&(f(ct,Dt.b.e),ct=X(gt,Ut,null),Et=!0),Et?Y(gt,ft,ct.c,pt,pt,!0):(bt=s(Dt.a,At.a)?Dt.b.e:At,Y(gt,ft,bt=v(ct.c.b,bt),bt.c,bt.c,!1),bt.b.i.c=!0,K(gt,ft))):Y(gt,ft,pt.c,ct,ct,!0)})(this,Ee)}for(this.a=this.f.a.a.b.a.a,Ee=0;(xe=this.f.a.a.b)!==null;)xe.h||++Ee,D(xe);for(this.f=null,(Ee=this.e).b=null,Ee.d=null,this.e=Ee.c=null,Ee=this.b,N=Ee.a.b;N!==Ee.a;N=xe)xe=N.b,(N=N.a).e.e===N&&(L(N.c,N),h(N));if(!this.n){if(Ee=this.b,this.m)for(N=Ee.b.h;N!==Ee.b;N=xe)xe=N.h,N.b.d.c!==N.d.c?N.f=N.d.c?1:-1:h(N);else for(N=Ee.a.b;N!==Ee.a;N=xe)if(xe=N.b,N.c){for(N=N.a;s(N.b.a,N.a);N=N.c.b);for(;s(N.a,N.b.a);N=N.e);for($=N.c.b,he=void 0;N.e!==$;)if(s(N.b.a,$.a)){for(;$.e!==N&&(s((Q=$.e).b.a,Q.a)||u($.a,$.b.a,$.e.b.a)<=0);)$=(he=v($.e,$)).b;$=$.c.b}else{for(;$.e!==N&&(s((q=N.c.b).a,q.b.a)||0<=u(N.b.a,N.a,N.c.b.a));)N=(he=v(N,N.c.b)).b;N=N.e}for(;$.e.e!==N;)he=v($.e,$),$=he.b}if(this.h||this.i||this.k||this.l)if(this.m){for(xe=(Ee=this.b).a.b;xe!==Ee.a;xe=xe.b)if(xe.c){for(this.h&&this.h(2,this.c),N=xe.a;this.k&&this.k(N.a.d,this.c),(N=N.e)!==xe.a;);this.i&&this.i(this.c)}}else{for(Ee=this.b,xe=!!this.l,N=!1,$=-1,he=Ee.a.d;he!==Ee.a;he=he.d)if(he.c)for(N||(this.h&&this.h(4,this.c),N=!0),Ne=he.a;xe&&(Be=Ne.b.d.c?0:1,$!==Be&&($=Be,this.l&&this.l(!!$,this.c))),this.k&&this.k(Ne.a.d,this.c),(Ne=Ne.e)!==he.a;);N&&this.i&&this.i(this.c)}if(this.r){for(Ee=this.b,N=Ee.a.b;N!==Ee.a;N=xe)if(xe=N.b,!N.c){for(he=($=N.a).e,Ne=void 0;he=(Ne=he).e,(Ne.d=null)===Ne.b.d&&(Ne.c===Ne?T(Ne.a,null):(Ne.a.c=Ne.c,m(Ne,Ne.b.e)),(Be=Ne.b).c===Be?T(Be.a,null):(Be.a.c=Be.c,m(Be,Be.b.e)),S(Ne)),Ne!==$;);$=N.d,((N=N.b).d=$).b=N}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:se,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},se.prototype.gluDeleteTess=se.prototype.x,se.prototype.gluTessProperty=se.prototype.B,se.prototype.gluGetTessProperty=se.prototype.y,se.prototype.gluTessNormal=se.prototype.A,se.prototype.gluTessCallback=se.prototype.z,se.prototype.gluTessVertex=se.prototype.C,se.prototype.gluTessBeginPolygon=se.prototype.u,se.prototype.gluTessBeginContour=se.prototype.t,se.prototype.gluTessEndContour=se.prototype.v,se.prototype.gluTessEndPolygon=se.prototype.w,P!==void 0&&(P.exports=this.libtess)},{}],240:[function(o,P,y){function c(s,l,u,d){var n=0,t=(d=d===void 0?{}:d).loop===void 0?null:d.loop,r=d.palette===void 0?null:d.palette;if(l<=0||u<=0||65535<l||65535<u)throw new Error("Width/Height invalid.");function i(j){if(j=j.length,j<2||256<j||j&j-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return j}s[n++]=71,s[n++]=73,s[n++]=70,s[n++]=56,s[n++]=57,s[n++]=97;var f=0,h=0;if(r!==null){for(var g=i(r);g>>=1;)++f;if(g=1<<f,--f,d.background!==void 0){if(g<=(h=d.background))throw new Error("Background index out of range.");if(h===0)throw new Error("Background index explicitly passed as 0.")}}if(s[n++]=255&l,s[n++]=l>>8&255,s[n++]=255&u,s[n++]=u>>8&255,s[n++]=(r!==null?128:0)|f,s[n++]=h,s[n++]=0,r!==null)for(var v=0,b=r.length;v<b;++v){var m=r[v];s[n++]=m>>16&255,s[n++]=m>>8&255,s[n++]=255&m}if(t!==null){if(t<0||65535<t)throw new Error("Loop count invalid.");s[n++]=33,s[n++]=255,s[n++]=11,s[n++]=78,s[n++]=69,s[n++]=84,s[n++]=83,s[n++]=67,s[n++]=65,s[n++]=80,s[n++]=69,s[n++]=50,s[n++]=46,s[n++]=48,s[n++]=3,s[n++]=1,s[n++]=255&t,s[n++]=t>>8&255,s[n++]=0}var w=!1;this.addFrame=function(j,S,T,E,C,L){if(w===!0&&(--n,w=!1),L=L===void 0?{}:L,j<0||S<0||65535<j||65535<S)throw new Error("x/y invalid.");if(T<=0||E<=0||65535<T||65535<E)throw new Error("Width/Height invalid.");if(C.length<T*E)throw new Error("Not enough pixels for the frame size.");var k=!0,D=L.palette;if(D==null&&(k=!1,D=r),D==null)throw new Error("Must supply either a local or global palette.");for(var V=i(D),F=0;V>>=1;)++F;var V=1<<F,G=L.delay===void 0?0:L.delay,H=L.disposal===void 0?0:L.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var z=!1,X=0;if(L.transparent!==void 0&&L.transparent!==null&&(z=!0,(X=L.transparent)<0||V<=X))throw new Error("Transparent color index.");if(H===0&&!z&&G===0||(s[n++]=33,s[n++]=249,s[n++]=4,s[n++]=H<<2|(z===!0?1:0),s[n++]=255&G,s[n++]=G>>8&255,s[n++]=X,s[n++]=0),s[n++]=44,s[n++]=255&j,s[n++]=j>>8&255,s[n++]=255&S,s[n++]=S>>8&255,s[n++]=255&T,s[n++]=T>>8&255,s[n++]=255&E,s[n++]=E>>8&255,s[n++]=k===!0?128|F-1:0,k===!0)for(var Y=0,ee=D.length;Y<ee;++Y){var O=D[Y];s[n++]=O>>16&255,s[n++]=O>>8&255,s[n++]=255&O}return n=function(R,B,W,K){R[B++]=W;var ne=B++,ie=1<<W,ce=ie-1,oe=1+ie,se=1+oe,me=W+1,J=0,ue=0;function pe(ze){for(;ze<=J;)R[B++]=255&ue,ue>>=8,J-=8,B===ne+256&&(R[ne]=255,ne=B++)}function ye(ze){ue|=ze<<J,J+=me,pe(8)}var de=K[0]&ce,Ce={};ye(ie);for(var Te=1,Ae=K.length;Te<Ae;++Te){var Se=K[Te]&ce,Ge=de<<8|Se,qe=Ce[Ge];if(qe===void 0){for(ue|=de<<J,J+=me;8<=J;)R[B++]=255&ue,ue>>=8,J-=8,B===ne+256&&(R[ne]=255,ne=B++);se===4096?(ye(ie),se=1+oe,me=W+1,Ce={}):(1<<me<=se&&++me,Ce[Ge]=se++),de=Se}else de=qe}return ye(de),ye(oe),pe(1),ne+1===B?R[ne]=0:(R[ne]=B-ne-1,R[B++]=0),B}(s,n,F<2?2:F,C)},this.end=function(){return w===!1&&(s[n++]=59,w=!0),n},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(j){s=j},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(j){n=j}}function a(s,l,u,d){for(var n=s[l++],t=1<<n,r=1+t,i=1+r,f=n+1,h=(1<<f)-1,g=0,v=0,b=0,m=s[l++],w=new Int32Array(4096),j=null;;){for(;g<16&&m!==0;)v|=s[l++]<<g,g+=8,m===1?m=s[l++]:--m;if(g<f)break;var S=v&h;if(v>>=f,g-=f,S==t)i=1+r,h=(1<<(f=n+1))-1,j=null;else{if(S==r)break;for(var T=S<i?S:j,E=0,C=T;t<C;)C=w[C]>>8,++E;var L=C;if(d<b+E+(T!==S?1:0))return void console.log("Warning, gif stream longer than expected.");u[b++]=L;var k=b+=E;for(T!==S&&(u[b++]=L),C=T;E--;)C=w[C],u[--k]=255&C,C>>=8;j!==null&&i<4096&&(w[i++]=j<<8|L,h+1<=i&&f<12&&(++f,h=h<<1|1)),j=S}}b!==d&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=c,y.GifReader=function(s){var l=0;if(s[l++]!==71||s[l++]!==73||s[l++]!==70||s[l++]!==56||(s[l++]+1&253)!=56||s[l++]!==97)throw new Error("Invalid GIF 87a/89a header.");var u=s[l++]|s[l++]<<8,d=s[l++]|s[l++]<<8,n=s[l++],t=1<<1+(7&n),r=(s[l++],s[l++],null),i=null,f=(n>>7&&(r=l,l+=3*(i=t)),!0),h=[],g=0,v=null,b=0,m=null;for(this.width=u,this.height=d;f&&l<s.length;)switch(s[l++]){case 33:switch(s[l++]){case 255:if(s[l]!==11||s[l+1]==78&&s[l+2]==69&&s[l+3]==84&&s[l+4]==83&&s[l+5]==67&&s[l+6]==65&&s[l+7]==80&&s[l+8]==69&&s[l+9]==50&&s[l+10]==46&&s[l+11]==48&&s[l+12]==3&&s[l+13]==1&&s[l+16]==0)l+=14,m=s[l++]|s[l++]<<8,l++;else for(l+=12;;){if(!(0<=(j=s[l++])))throw Error("Invalid block size");if(j===0)break;l+=j}break;case 249:if(s[l++]!==4||s[l+4]!==0)throw new Error("Invalid graphics extension block.");var w=s[l++],g=s[l++]|s[l++]<<8,v=s[l++];!(1&w)&&(v=null),b=w>>2&7,l++;break;case 254:for(;;){if(!(0<=(j=s[l++])))throw Error("Invalid block size");if(j===0)break;l+=j}break;default:throw new Error("Unknown graphic control label: 0x"+s[l-1].toString(16))}break;case 44:var j,S=s[l++]|s[l++]<<8,T=s[l++]|s[l++]<<8,E=s[l++]|s[l++]<<8,C=s[l++]|s[l++]<<8,G=s[l++],L=G>>6&1,k=1<<1+(7&G),D=r,F=i,V=!1,G=(G>>7&&(V=!0,D=l,l+=3*(F=k)),l);for(l++;;){if(!(0<=(j=s[l++])))throw Error("Invalid block size");if(j===0)break;l+=j}h.push({x:S,y:T,width:E,height:C,has_local_palette:V,palette_offset:D,palette_size:F,data_offset:G,data_length:l-G,transparent_index:v,interlaced:!!L,delay:g,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+s[l-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return m},this.frameInfo=function(H){if(H<0||H>=h.length)throw new Error("Frame index out of range.");return h[H]},this.decodeAndBlitFrameBGRA=function(H,z){for(var H=this.frameInfo(H),X=H.width*H.height,Y=new Uint8Array(X),ee=(a(s,H.data_offset,Y,X),H.palette_offset),O=H.transparent_index,R=(O===null&&(O=256),H.width),B=u-R,W=R,K=4*(H.y*u+H.x),ne=4*((H.y+H.height)*u+H.x),ie=K,ce=4*B,oe=(H.interlaced===!0&&(ce+=4*u*7),8),se=0,me=Y.length;se<me;++se){var J,ue,pe=Y[se];W===0&&(W=R,ne<=(ie+=ce)&&(ce=4*B+4*u*(oe-1),ie=K+(R+B)*(oe<<1),oe>>=1)),pe===O?ie+=4:(J=s[ee+3*pe],ue=s[ee+3*pe+1],pe=s[ee+3*pe+2],z[ie++]=pe,z[ie++]=ue,z[ie++]=J,z[ie++]=255),--W}},this.decodeAndBlitFrameRGBA=function(H,z){for(var H=this.frameInfo(H),X=H.width*H.height,Y=new Uint8Array(X),ee=(a(s,H.data_offset,Y,X),H.palette_offset),O=H.transparent_index,R=(O===null&&(O=256),H.width),B=u-R,W=R,K=4*(H.y*u+H.x),ne=4*((H.y+H.height)*u+H.x),ie=K,ce=4*B,oe=(H.interlaced===!0&&(ce+=4*u*7),8),se=0,me=Y.length;se<me;++se){var J,ue,pe=Y[se];W===0&&(W=R,ne<=(ie+=ce)&&(ce=4*B+4*u*(oe-1),ie=K+(R+B)*(oe<<1),oe>>=1)),pe===O?ie+=4:(J=s[ee+3*pe],ue=s[ee+3*pe+1],pe=s[ee+3*pe+2],z[ie++]=J,z[ie++]=ue,z[ie++]=pe,z[ie++]=255),--W}}}}catch{}},{}],241:[function(o,P,y){(function(c){var a,s;a=this,s=function(l){function u(A){if(this==null)throw TypeError();var x,_=String(this),M=_.length,A=A?Number(A):0;if(!((A=A!=A?0:A)<0||M<=A))return 55296<=(x=_.charCodeAt(A))&&x<=56319&&A+1<M&&56320<=(M=_.charCodeAt(A+1))&&M<=57343?1024*(x-55296)+M-56320+65536:x}String.prototype.codePointAt||((d=function(){try{var p={},x=Object.defineProperty,_=x(p,p,p)&&x}catch{}return _}())?d(String.prototype,"codePointAt",{value:u,configurable:!0,writable:!0}):String.prototype.codePointAt=u);var d,n=0,t=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(p,x){this.source=p,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=x,this.destLen=0,this.ltree=new r,this.dtree=new r}var f=new r,h=new r,g=new Uint8Array(30),v=new Uint16Array(30),b=new Uint8Array(30),m=new Uint16Array(30),w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new r,S=new Uint8Array(320);function T(p,x,_,M){for(var A,I=0;I<_;++I)p[I]=0;for(I=0;I<30-_;++I)p[I+_]=I/_|0;for(A=M,I=0;I<30;++I)x[I]=A,A+=1<<p[I]}var E=new Uint16Array(16);function C(p,x,_,M){for(var A,I=0;I<16;++I)p.table[I]=0;for(I=0;I<M;++I)p.table[x[_+I]]++;for(I=A=p.table[0]=0;I<16;++I)E[I]=A,A+=p.table[I];for(I=0;I<M;++I)x[_+I]&&(p.trans[E[x[_+I]]++]=I)}function L(p,x,_){if(!x)return _;for(;p.bitcount<24;)p.tag|=p.source[p.sourceIndex++]<<p.bitcount,p.bitcount+=8;var M=p.tag&65535>>>16-x;return p.tag>>>=x,p.bitcount-=x,M+_}function k(p,x){for(;p.bitcount<24;)p.tag|=p.source[p.sourceIndex++]<<p.bitcount,p.bitcount+=8;for(var _=0,M=0,A=0,I=p.tag;M=2*M+(1&I),I>>>=1,_+=x.table[++A],0<=(M-=x.table[A]););return p.tag=I,p.bitcount-=A,x.trans[_+M]}function D(p,x,_){for(;;){var M=k(p,x);if(M===256)return n;if(M<256)p.dest[p.destLen++]=M;else for(var A,I=L(p,g[M-=257],v[M]),M=k(p,_),U=A=p.destLen-L(p,b[M],m[M]);U<A+I;++U)p.dest[p.destLen++]=p.dest[U]}}for(var F=f,V=h,G=0;G<7;++G)F.table[G]=0;for(F.table[7]=24,F.table[8]=152,F.table[9]=112,G=0;G<24;++G)F.trans[G]=256+G;for(G=0;G<144;++G)F.trans[24+G]=G;for(G=0;G<8;++G)F.trans[168+G]=280+G;for(G=0;G<112;++G)F.trans[176+G]=144+G;for(G=0;G<5;++G)V.table[G]=0;for(V.table[5]=32,G=0;G<32;++G)V.trans[G]=G;T(g,v,4,3),T(b,m,2,1),g[28]=0,v[28]=258;var H=function(p,x){var _,M,A,I=new i(p,x);do{switch(A=void 0,(M=I).bitcount--||(M.tag=M.source[M.sourceIndex++],M.bitcount=7),A=1&M.tag,M.tag>>>=1,M=A,L(I,2,0)){case 0:_=function(_e){for(var $e,st;8<_e.bitcount;)_e.sourceIndex--,_e.bitcount-=8;if(($e=256*_e.source[_e.sourceIndex+1]+_e.source[_e.sourceIndex])!==(65535&~(256*_e.source[_e.sourceIndex+3]+_e.source[_e.sourceIndex+2])))return t;for(_e.sourceIndex+=4,st=$e;st;--st)_e.dest[_e.destLen++]=_e.source[_e.sourceIndex++];return _e.bitcount=0,n}(I);break;case 1:_=D(I,f,h);break;case 2:Pe=Me=Re=je=U=ae=ve=we=fe=te=re=Z=void 0;for(var U,Z=I,re=I.ltree,te=I.dtree,fe=L(Z,5,257),we=L(Z,5,1),ve=L(Z,4,4),ae=0;ae<19;++ae)S[ae]=0;for(ae=0;ae<ve;++ae){var Re=L(Z,3,0);S[w[ae]]=Re}for(C(j,S,0,19),U=0;U<fe+we;){var Me=k(Z,j);switch(Me){case 16:for(var Pe=S[U-1],je=L(Z,2,3);je;--je)S[U++]=Pe;break;case 17:for(je=L(Z,3,3);je;--je)S[U++]=0;break;case 18:for(je=L(Z,7,11);je;--je)S[U++]=0;break;default:S[U++]=Me}}C(re,S,0,fe),C(te,S,fe,we),_=D(I,I.ltree,I.dtree);break;default:_=t}if(_!==n)throw new Error("Data error")}while(!M);return I.destLen<I.dest.length?typeof I.dest.slice=="function"?I.dest.slice(0,I.destLen):I.dest.subarray(0,I.destLen):I.dest};function z(p,x,_,M,A){return Math.pow(1-A,3)*p+3*Math.pow(1-A,2)*A*x+3*(1-A)*Math.pow(A,2)*_+Math.pow(A,3)*M}function X(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Y(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ee(p){throw new Error(p)}function O(p,x){p||ee(x)}X.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},X.prototype.addPoint=function(p,x){typeof p=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=p,this.x2=p),p<this.x1&&(this.x1=p),p>this.x2&&(this.x2=p)),typeof x=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=x,this.y2=x),x<this.y1&&(this.y1=x),x>this.y2&&(this.y2=x))},X.prototype.addX=function(p){this.addPoint(p,null)},X.prototype.addY=function(p){this.addPoint(null,p)},X.prototype.addBezier=function(p,x,_,M,A,I,U,Z){var re=[p,x],te=[_,M],fe=[A,I],we=[U,Z];this.addPoint(p,x),this.addPoint(U,Z);for(var ve=0;ve<=1;ve++){var ae,Re=6*re[ve]-12*te[ve]+6*fe[ve],Me=-3*re[ve]+9*te[ve]-9*fe[ve]+3*we[ve],Pe=3*te[ve]-3*re[ve];Me==0?Re==0||0<(ae=-Pe/Re)&&ae<1&&(ve===0&&this.addX(z(re[ve],te[ve],fe[ve],we[ve],ae)),ve===1&&this.addY(z(re[ve],te[ve],fe[ve],we[ve],ae))):(ae=Math.pow(Re,2)-4*Pe*Me)<0||(0<(Pe=(-Re+Math.sqrt(ae))/(2*Me))&&Pe<1&&(ve===0&&this.addX(z(re[ve],te[ve],fe[ve],we[ve],Pe)),ve===1&&this.addY(z(re[ve],te[ve],fe[ve],we[ve],Pe))),0<(Pe=(-Re-Math.sqrt(ae))/(2*Me))&&Pe<1&&(ve===0&&this.addX(z(re[ve],te[ve],fe[ve],we[ve],Pe)),ve===1&&this.addY(z(re[ve],te[ve],fe[ve],we[ve],Pe))))}},X.prototype.addQuad=function(p,x,_,M,A,I){_=p+2/3*(_-p),M=x+2/3*(M-x),this.addBezier(p,x,_,M,_+1/3*(A-p),M+1/3*(I-x),A,I)},Y.prototype.moveTo=function(p,x){this.commands.push({type:"M",x:p,y:x})},Y.prototype.lineTo=function(p,x){this.commands.push({type:"L",x:p,y:x})},Y.prototype.curveTo=Y.prototype.bezierCurveTo=function(p,x,_,M,A,I){this.commands.push({type:"C",x1:p,y1:x,x2:_,y2:M,x:A,y:I})},Y.prototype.quadTo=Y.prototype.quadraticCurveTo=function(p,x,_,M){this.commands.push({type:"Q",x1:p,y1:x,x:_,y:M})},Y.prototype.close=Y.prototype.closePath=function(){this.commands.push({type:"Z"})},Y.prototype.extend=function(p){var x;if(p.commands)p=p.commands;else if(p instanceof X)return x=p,this.moveTo(x.x1,x.y1),this.lineTo(x.x2,x.y1),this.lineTo(x.x2,x.y2),this.lineTo(x.x1,x.y2),void this.close();Array.prototype.push.apply(this.commands,p)},Y.prototype.getBoundingBox=function(){for(var p=new X,x=0,_=0,M=0,A=0,I=0;I<this.commands.length;I++){var U=this.commands[I];switch(U.type){case"M":p.addPoint(U.x,U.y),x=M=U.x,_=A=U.y;break;case"L":p.addPoint(U.x,U.y),M=U.x,A=U.y;break;case"Q":p.addQuad(M,A,U.x1,U.y1,U.x,U.y),M=U.x,A=U.y;break;case"C":p.addBezier(M,A,U.x1,U.y1,U.x2,U.y2,U.x,U.y),M=U.x,A=U.y;break;case"Z":M=x,A=_;break;default:throw new Error("Unexpected path command "+U.type)}}return p.isEmpty()&&p.addPoint(0,0),p},Y.prototype.draw=function(p){p.beginPath();for(var x=0;x<this.commands.length;x+=1){var _=this.commands[x];_.type==="M"?p.moveTo(_.x,_.y):_.type==="L"?p.lineTo(_.x,_.y):_.type==="C"?p.bezierCurveTo(_.x1,_.y1,_.x2,_.y2,_.x,_.y):_.type==="Q"?p.quadraticCurveTo(_.x1,_.y1,_.x,_.y):_.type==="Z"&&p.closePath()}this.fill&&(p.fillStyle=this.fill,p.fill()),this.stroke&&(p.strokeStyle=this.stroke,p.lineWidth=this.strokeWidth,p.stroke())},Y.prototype.toPathData=function(p){function x(){for(var I=arguments,U="",Z=0;Z<arguments.length;Z+=1){var re=I[Z];0<=re&&0<Z&&(U+=" "),U+=(re=re,Math.round(re)===re?""+Math.round(re):re.toFixed(p))}return U}p=p!==void 0?p:2;for(var _="",M=0;M<this.commands.length;M+=1){var A=this.commands[M];A.type==="M"?_+="M"+x(A.x,A.y):A.type==="L"?_+="L"+x(A.x,A.y):A.type==="C"?_+="C"+x(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?_+="Q"+x(A.x1,A.y1,A.x,A.y):A.type==="Z"&&(_+="Z")}return _},Y.prototype.toSVG=function(p){var x=(x='<path d="')+this.toPathData(p)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?x+=' fill="none"':x+=' fill="'+this.fill+'"'),this.stroke&&(x+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),x+="/>"},Y.prototype.toDOMElement=function(x){var x=this.toPathData(x),_=document.createElementNS("http://www.w3.org/2000/svg","path");return _.setAttribute("d",x),_};var R={fail:ee,argument:O,assert:O},B={},W={},K={};function ne(p){return function(){return p}}W.BYTE=function(p){return R.argument(0<=p&&p<=255,"Byte value should be between 0 and 255."),[p]},K.BYTE=ne(1),W.CHAR=function(p){return[p.charCodeAt(0)]},K.CHAR=ne(1),W.CHARARRAY=function(p){for(var x=[],_=0;_<p.length;_+=1)x[_]=p.charCodeAt(_);return x},K.CHARARRAY=function(p){return p.length},W.USHORT=function(p){return[p>>8&255,255&p]},K.USHORT=ne(2),W.SHORT=function(p){return[(p=32768<=p?-(65536-p):p)>>8&255,255&p]},K.SHORT=ne(2),W.UINT24=function(p){return[p>>16&255,p>>8&255,255&p]},K.UINT24=ne(3),W.ULONG=function(p){return[p>>24&255,p>>16&255,p>>8&255,255&p]},K.ULONG=ne(4),W.LONG=function(p){return[(p=2147483648<=p?-(4294967296-p):p)>>24&255,p>>16&255,p>>8&255,255&p]},K.LONG=ne(4),W.FIXED=W.ULONG,K.FIXED=K.ULONG,W.FWORD=W.SHORT,K.FWORD=K.SHORT,W.UFWORD=W.USHORT,K.UFWORD=K.USHORT,W.LONGDATETIME=function(p){return[0,0,0,0,p>>24&255,p>>16&255,p>>8&255,255&p]},K.LONGDATETIME=ne(8),W.TAG=function(p){return R.argument(p.length===4,"Tag should be exactly 4 ASCII characters."),[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]},K.TAG=ne(4),W.Card8=W.BYTE,K.Card8=K.BYTE,W.Card16=W.USHORT,K.Card16=K.USHORT,W.OffSize=W.BYTE,K.OffSize=K.BYTE,W.SID=W.USHORT,K.SID=K.USHORT,W.NUMBER=function(p){return-107<=p&&p<=107?[p+139]:108<=p&&p<=1131?[247+((p-=108)>>8),255&p]:-1131<=p&&p<=-108?[251+((p=-p-108)>>8),255&p]:-32768<=p&&p<=32767?W.NUMBER16(p):W.NUMBER32(p)},K.NUMBER=function(p){return W.NUMBER(p).length},W.NUMBER16=function(p){return[28,p>>8&255,255&p]},K.NUMBER16=ne(3),W.NUMBER32=function(p){return[29,p>>24&255,p>>16&255,p>>8&255,255&p]},K.NUMBER32=ne(5),W.REAL=function(p){for(var x=p.toString(),_=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(x),M=(_&&(_=parseFloat("1e"+((_[2]?+_[2]:0)+_[1].length)),x=(Math.round(p*_)/_).toString()),""),A=0,I=x.length;A<I;A+=1){var U=x[A];M+=U==="e"?x[++A]==="-"?"c":"b":U==="."?"a":U==="-"?"e":U}for(var Z=[30],re=0,te=(M+=1&M.length?"f":"ff").length;re<te;re+=2)Z.push(parseInt(M.substr(re,2),16));return Z},K.REAL=function(p){return W.REAL(p).length},W.NAME=W.CHARARRAY,K.NAME=K.CHARARRAY,W.STRING=W.CHARARRAY,K.STRING=K.CHARARRAY,B.UTF8=function(p,x,_){for(var M=[],A=_,I=0;I<A;I++,x+=1)M[I]=p.getUint8(x);return String.fromCharCode.apply(null,M)},B.UTF16=function(p,x,_){for(var M=[],A=_/2,I=0;I<A;I++,x+=2)M[I]=p.getUint16(x);return String.fromCharCode.apply(null,M)},W.UTF16=function(p){for(var x=[],_=0;_<p.length;_+=1){var M=p.charCodeAt(_);x[x.length]=M>>8&255,x[x.length]=255&M}return x},K.UTF16=function(p){return 2*p.length};var ie,ce={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},oe=(B.MACSTRING=function(p,x,_,M){var A=ce[M];if(A!==void 0){for(var I="",U=0;U<_;U++){var Z=p.getUint8(x+U);I+=Z<=127?String.fromCharCode(Z):A[127&Z]}return I}},typeof WeakMap=="function"&&new WeakMap);function se(p){return-128<=p&&p<=127}W.MACSTRING=function(p,x){var _=function(U){if(!ie)for(var Z in ie={},ce)ie[Z]=new String(Z);var re=ie[U];if(re!==void 0){if(oe){var te=oe.get(re);if(te!==void 0)return te}var fe=ce[U];if(fe!==void 0){for(var we={},ve=0;ve<fe.length;ve++)we[fe.charCodeAt(ve)]=ve+128;return oe&&oe.set(re,we),we}}}(x);if(_!==void 0){for(var M=[],A=0;A<p.length;A++){var I=p.charCodeAt(A);if(128<=I&&(I=_[I])===void 0)return;M[A]=I}return M}},K.MACSTRING=function(p,x){return p=W.MACSTRING(p,x),p!==void 0?p.length:0},W.VARDELTAS=function(p){for(var M=0,x=[];M<p.length;)var _=p[M],M=(_===0?function(A,I,U){for(var Z=0,re=A.length;I<re&&Z<64&&A[I]===0;)++I,++Z;return U.push(128|Z-1),I}:-128<=_&&_<=127?function(A,I,U){for(var Z=0,re=A.length,te=I;te<re&&Z<64;){var fe=A[te];if(!se(fe)||fe===0&&te+1<re&&A[te+1]===0)break;++te,++Z}U.push(Z-1);for(var we=I;we<te;++we)U.push(A[we]+256&255);return te}:function(A,I,U){for(var Z=0,re=A.length,te=I;te<re&&Z<64;){var fe=A[te];if(fe===0||se(fe)&&te+1<re&&se(A[te+1]))break;++te,++Z}U.push(64|Z-1);for(var we=I;we<te;++we){var ve=A[we];U.push(ve+65536>>8&255,ve+256&255)}return te})(p,M,x);return x},W.INDEX=function(p){for(var x=1,_=[x],M=[],A=0;A<p.length;A+=1){var I=W.OBJECT(p[A]);Array.prototype.push.apply(M,I),x+=I.length,_.push(x)}if(M.length===0)return[0,0];for(var U=[],Z=1+Math.floor(Math.log(x)/Math.log(2))/8|0,re=[void 0,W.BYTE,W.USHORT,W.UINT24,W.ULONG][Z],te=0;te<_.length;te+=1){var fe=re(_[te]);Array.prototype.push.apply(U,fe)}return Array.prototype.concat(W.Card16(p.length),W.OffSize(Z),U,M)},K.INDEX=function(p){return W.INDEX(p).length},W.DICT=function(p){for(var x=[],_=Object.keys(p),M=_.length,A=0;A<M;A+=1){var I=parseInt(_[A],0),U=p[I];x=(x=x.concat(W.OPERAND(U.value,U.type))).concat(W.OPERATOR(I))}return x},K.DICT=function(p){return W.DICT(p).length},W.OPERATOR=function(p){return p<1200?[p]:[12,p-1200]},W.OPERAND=function(p,x){var _=[];if(Array.isArray(x))for(var M=0;M<x.length;M+=1)R.argument(p.length===x.length,"Not enough arguments given for type"+x),_=_.concat(W.OPERAND(p[M],x[M]));else if(x==="SID")_=_.concat(W.NUMBER(p));else if(x==="offset")_=_.concat(W.NUMBER32(p));else if(x==="number")_=_.concat(W.NUMBER(p));else{if(x!=="real")throw new Error("Unknown operand type "+x);_=_.concat(W.REAL(p))}return _},W.OP=W.BYTE,K.OP=K.BYTE;var me=typeof WeakMap=="function"&&new WeakMap;function J(p,x,_){for(var M=0;M<x.length;M+=1){var A=x[M];this[A.name]=A.value}if(this.tableName=p,this.fields=x,_)for(var I=Object.keys(_),U=0;U<I.length;U+=1){var Z=I[U],re=_[Z];this[Z]!==void 0&&(this[Z]=re)}}function ue(p,x,_){_===void 0&&(_=x.length);var M=new Array(x.length+1);M[0]={name:p+"Count",type:"USHORT",value:_};for(var A=0;A<x.length;A++)M[A+1]={name:p+A,type:"USHORT",value:x[A]};return M}function pe(p,x,_){var M=x.length,A=new Array(M+1);A[0]={name:p+"Count",type:"USHORT",value:M};for(var I=0;I<M;I++)A[I+1]={name:p+I,type:"TABLE",value:_(x[I],I)};return A}function ye(p,x,_){var M=x.length,A=[];A[0]={name:p+"Count",type:"USHORT",value:M};for(var I=0;I<M;I++)A=A.concat(_(x[I],I));return A}function de(p){p.format===1?J.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ue("glyph",p.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function Ce(p){J.call(this,"scriptListTable",ye("scriptRecord",p,function(x,_){var M=x.script,A=M.defaultLangSys;return R.assert(!!A,"Unable to write GSUB: script "+x.tag+" has no default language system."),[{name:"scriptTag"+_,type:"TAG",value:x.tag},{name:"script"+_,type:"TABLE",value:new J("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new J("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:A.reqFeatureIndex}].concat(ue("featureIndex",A.featureIndexes)))}].concat(ye("langSys",M.langSysRecords,function(I,U){var Z=I.langSys;return[{name:"langSysTag"+U,type:"TAG",value:I.tag},{name:"langSys"+U,type:"TABLE",value:new J("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Z.reqFeatureIndex}].concat(ue("featureIndex",Z.featureIndexes)))}]})))}]}))}function Te(p){J.call(this,"featureListTable",ye("featureRecord",p,function(x,_){var M=x.feature;return[{name:"featureTag"+_,type:"TAG",value:x.tag},{name:"feature"+_,type:"TABLE",value:new J("featureTable",[{name:"featureParams",type:"USHORT",value:M.featureParams}].concat(ue("lookupListIndex",M.lookupListIndexes)))}]}))}function Ae(p,x){J.call(this,"lookupListTable",pe("lookup",p,function(_){var M=x[_.lookupType];return R.assert(!!M,"Unable to write GSUB lookup type "+_.lookupType+" tables."),new J("lookupTable",[{name:"lookupType",type:"USHORT",value:_.lookupType},{name:"lookupFlag",type:"USHORT",value:_.lookupFlag}].concat(pe("subtable",_.subtables,M)))}))}W.CHARSTRING=function(p){if(me){var x=me.get(p);if(x!==void 0)return x}for(var I=[],_=p.length,M=0;M<_;M+=1)var A=p[M],I=I.concat(W[A.type](A.value));return me&&me.set(p,I),I},K.CHARSTRING=function(p){return W.CHARSTRING(p).length},W.OBJECT=function(p){var x=W[p.type];return R.argument(x!==void 0,"No encoding function for type "+p.type),x(p.value)},K.OBJECT=function(p){var x=K[p.type];return R.argument(x!==void 0,"No sizeOf function for type "+p.type),x(p.value)},W.TABLE=function(p){for(var x=[],_=p.fields.length,M=[],A=[],I=0;I<_;I+=1){var U=p.fields[I],re=W[U.type],Z=(R.argument(re!==void 0,"No encoding function for field type "+U.type+" ("+U.name+")"),p[U.name]),re=re(Z=Z===void 0?U.value:Z);U.type==="TABLE"?(A.push(x.length),x=x.concat([0,0]),M.push(re)):x=x.concat(re)}for(var te=0;te<M.length;te+=1){var fe=A[te],we=x.length;R.argument(we<65536,"Table "+p.tableName+" too big."),x[fe]=we>>8,x[fe+1]=255&we,x=x.concat(M[te])}return x},K.TABLE=function(p){for(var x=0,_=p.fields.length,M=0;M<_;M+=1){var A=p.fields[M],I=K[A.type],U=(R.argument(I!==void 0,"No sizeOf function for field type "+A.type+" ("+A.name+")"),p[A.name]);x+=I(U=U===void 0?A.value:U),A.type==="TABLE"&&(x+=2)}return x},W.RECORD=W.TABLE,K.RECORD=K.TABLE,W.LITERAL=function(p){return p},K.LITERAL=function(p){return p.length},J.prototype.encode=function(){return W.TABLE(this)},J.prototype.sizeOf=function(){return K.TABLE(this)};var Se={Table:J,Record:J,Coverage:(de.prototype=Object.create(J.prototype)).constructor=de,ScriptList:(Ce.prototype=Object.create(J.prototype)).constructor=Ce,FeatureList:(Te.prototype=Object.create(J.prototype)).constructor=Te,LookupList:(Ae.prototype=Object.create(J.prototype)).constructor=Ae,ushortList:ue,tableList:pe,recordList:ye};function Ge(p,x){return p.getUint8(x)}function qe(p,x){return p.getUint16(x,!1)}function ze(p,x){return p.getUint32(x,!1)}function Qe(p,x){return p.getInt16(x,!1)+p.getUint16(x+2,!1)/65535}var Ze={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ge(p,x){this.data=p,this.offset=x,this.relativeOffset=0}ge.prototype.parseByte=function(){var p=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,p},ge.prototype.parseChar=function(){var p=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,p},ge.prototype.parseCard8=ge.prototype.parseByte,ge.prototype.parseCard16=ge.prototype.parseUShort=function(){var p=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,p},ge.prototype.parseSID=ge.prototype.parseUShort,ge.prototype.parseOffset16=ge.prototype.parseUShort,ge.prototype.parseShort=function(){var p=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,p},ge.prototype.parseF2Dot14=function(){var p=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,p},ge.prototype.parseOffset32=ge.prototype.parseULong=function(){var p=ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,p},ge.prototype.parseFixed=function(){var p=Qe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,p},ge.prototype.parseString=function(p){var x=this.data,_=this.offset+this.relativeOffset,M="";this.relativeOffset+=p;for(var A=0;A<p;A++)M+=String.fromCharCode(x.getUint8(_+A));return M},ge.prototype.parseTag=function(){return this.parseString(4)},ge.prototype.parseLongDateTime=function(){var p=ze(this.data,this.offset+this.relativeOffset+4);return p-=2082844800,this.relativeOffset+=8,p},ge.prototype.parseVersion=function(p){var x=qe(this.data,this.offset+this.relativeOffset),_=qe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,x+_/(p=p===void 0?4096:p)/10},ge.prototype.skip=function(p,x){this.relativeOffset+=Ze[p]*(x=x===void 0?1:x)},ge.prototype.parseULongList=function(p){p===void 0&&(p=this.parseULong());for(var x=new Array(p),_=this.data,M=this.offset+this.relativeOffset,A=0;A<p;A++)x[A]=_.getUint32(M),M+=4;return this.relativeOffset+=4*p,x},ge.prototype.parseOffset16List=ge.prototype.parseUShortList=function(p){p===void 0&&(p=this.parseUShort());for(var x=new Array(p),_=this.data,M=this.offset+this.relativeOffset,A=0;A<p;A++)x[A]=_.getUint16(M),M+=2;return this.relativeOffset+=2*p,x},ge.prototype.parseShortList=function(p){for(var x=new Array(p),_=this.data,M=this.offset+this.relativeOffset,A=0;A<p;A++)x[A]=_.getInt16(M),M+=2;return this.relativeOffset+=2*p,x},ge.prototype.parseByteList=function(p){for(var x=new Array(p),_=this.data,M=this.offset+this.relativeOffset,A=0;A<p;A++)x[A]=_.getUint8(M++);return this.relativeOffset+=p,x},ge.prototype.parseList=function(p,x){x||(x=p,p=this.parseUShort());for(var _=new Array(p),M=0;M<p;M++)_[M]=x.call(this);return _},ge.prototype.parseList32=function(p,x){x||(x=p,p=this.parseULong());for(var _=new Array(p),M=0;M<p;M++)_[M]=x.call(this);return _},ge.prototype.parseRecordList=function(p,x){x||(x=p,p=this.parseUShort());for(var _=new Array(p),M=Object.keys(x),A=0;A<p;A++){for(var I={},U=0;U<M.length;U++){var Z=M[U],re=x[Z];I[Z]=re.call(this)}_[A]=I}return _},ge.prototype.parseRecordList32=function(p,x){x||(x=p,p=this.parseULong());for(var _=new Array(p),M=Object.keys(x),A=0;A<p;A++){for(var I={},U=0;U<M.length;U++){var Z=M[U],re=x[Z];I[Z]=re.call(this)}_[A]=I}return _},ge.prototype.parseStruct=function(p){if(typeof p=="function")return p.call(this);for(var x=Object.keys(p),_={},M=0;M<x.length;M++){var A=x[M],I=p[A];_[A]=I.call(this)}return _},ge.prototype.parseValueRecord=function(p){var x;if((p=p===void 0?this.parseUShort():p)!==0)return x={},1&p&&(x.xPlacement=this.parseShort()),2&p&&(x.yPlacement=this.parseShort()),4&p&&(x.xAdvance=this.parseShort()),8&p&&(x.yAdvance=this.parseShort()),16&p&&(x.xPlaDevice=void 0,this.parseShort()),32&p&&(x.yPlaDevice=void 0,this.parseShort()),64&p&&(x.xAdvDevice=void 0,this.parseShort()),128&p&&(x.yAdvDevice=void 0,this.parseShort()),x},ge.prototype.parseValueRecordList=function(){for(var p=this.parseUShort(),x=this.parseUShort(),_=new Array(x),M=0;M<x;M++)_[M]=this.parseValueRecord(p);return _},ge.prototype.parsePointer=function(p){var x=this.parseOffset16();if(0<x)return new ge(this.data,this.offset+x).parseStruct(p)},ge.prototype.parsePointer32=function(p){var x=this.parseOffset32();if(0<x)return new ge(this.data,this.offset+x).parseStruct(p)},ge.prototype.parseListOfLists=function(p){for(var x=this.parseOffset16List(),_=x.length,M=this.relativeOffset,A=new Array(_),I=0;I<_;I++){var U=x[I];if(U===0)A[I]=void 0;else if(this.relativeOffset=U,p){for(var Z=this.parseOffset16List(),re=new Array(Z.length),te=0;te<Z.length;te++)this.relativeOffset=U+Z[te],re[te]=p.call(this);A[I]=re}else A[I]=this.parseUShortList()}return this.relativeOffset=M,A},ge.prototype.parseCoverage=function(){var p=this.offset+this.relativeOffset,x=this.parseUShort(),_=this.parseUShort();if(x===1)return{format:1,glyphs:this.parseUShortList(_)};if(x!==2)throw new Error("0x"+p.toString(16)+": Coverage format must be 1 or 2.");for(var M=new Array(_),A=0;A<_;A++)M[A]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:M}},ge.prototype.parseClassDef=function(){var p=this.offset+this.relativeOffset,x=this.parseUShort();if(x===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(x===2)return{format:2,ranges:this.parseRecordList({start:ge.uShort,end:ge.uShort,classId:ge.uShort})};throw new Error("0x"+p.toString(16)+": ClassDef format must be 1 or 2.")},ge.list=function(p,x){return function(){return this.parseList(p,x)}},ge.list32=function(p,x){return function(){return this.parseList32(p,x)}},ge.recordList=function(p,x){return function(){return this.parseRecordList(p,x)}},ge.recordList32=function(p,x){return function(){return this.parseRecordList32(p,x)}},ge.pointer=function(p){return function(){return this.parsePointer(p)}},ge.pointer32=function(p){return function(){return this.parsePointer32(p)}},ge.tag=ge.prototype.parseTag,ge.byte=ge.prototype.parseByte,ge.uShort=ge.offset16=ge.prototype.parseUShort,ge.uShortList=ge.prototype.parseUShortList,ge.uLong=ge.offset32=ge.prototype.parseULong,ge.uLongList=ge.prototype.parseULongList,ge.struct=ge.prototype.parseStruct,ge.coverage=ge.prototype.parseCoverage,ge.classDef=ge.prototype.parseClassDef;var ke={reserved:ge.uShort,reqFeatureIndex:ge.uShort,featureIndexes:ge.uShortList},be=(ge.prototype.parseScriptList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,script:ge.pointer({defaultLangSys:ge.pointer(ke),langSysRecords:ge.recordList({tag:ge.tag,langSys:ge.pointer(ke)})})}))||[]},ge.prototype.parseFeatureList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,feature:ge.pointer({featureParams:ge.offset16,lookupListIndexes:ge.uShortList})}))||[]},ge.prototype.parseLookupList=function(p){return this.parsePointer(ge.list(ge.pointer(function(){var x=this.parseUShort(),_=(R.argument(1<=x&&x<=9,"GPOS/GSUB lookup type "+x+" unknown."),this.parseUShort()),M=16&_;return{lookupType:x,lookupFlag:_,subtables:this.parseList(ge.pointer(p[x])),markFilteringSet:M?this.parseUShort():void 0}})))||[]},ge.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var p=this.parseUShort(),x=this.parseUShort();return R.argument(p===1&&x<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ge.offset32,featureTableSubstitutionOffset:ge.offset32})})||[]},{getByte:Ge,getCard8:Ge,getUShort:qe,getCard16:qe,getShort:function(p,x){return p.getInt16(x,!1)},getULong:ze,getFixed:Qe,getTag:function(p,x){for(var _="",M=x;M<x+4;M+=1)_+=String.fromCharCode(p.getInt8(M));return _},getOffset:function(p,x,_){for(var M=0,A=0;A<_;A+=1)M=(M<<=8)+p.getUint8(x+A);return M},getBytes:function(p,x,_){for(var M=[],A=x;A<_;A+=1)M.push(p.getUint8(A));return M},bytesToString:function(p){for(var x="",_=0;_<p.length;_+=1)x+=String.fromCharCode(p[_]);return x},Parser:ge}),q={parse:function(p,x){for(var _={},M=(_.version=be.getUShort(p,x),R.argument(_.version===0,"cmap table version should be 0."),_.numTables=be.getUShort(p,x+2),-1),A=_.numTables-1;0<=A;--A){var I=be.getUShort(p,x+4+8*A),U=be.getUShort(p,x+4+8*A+2);if(I===3&&(U===0||U===1||U===10)||I===0&&(U===0||U===1||U===2||U===3||U===4)){M=be.getULong(p,x+4+8*A+4);break}}if(M===-1)throw new Error("No valid cmap sub-tables found.");var Z=new be.Parser(p,x+M);if(_.format=Z.parseUShort(),_.format===12){var re,te=_,fe=Z;fe.parseUShort(),te.length=fe.parseULong(),te.language=fe.parseULong(),te.groupCount=re=fe.parseULong(),te.glyphIndexMap={};for(var we=0;we<re;we+=1)for(var ve=fe.parseULong(),ae=fe.parseULong(),Re=fe.parseULong(),Me=ve;Me<=ae;Me+=1)te.glyphIndexMap[Me]=Re,Re++}else{if(_.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+_.format+").");var Pe=_,je=p,_e=x,$e=M;Pe.length=Z.parseUShort(),Pe.language=Z.parseUShort(),Pe.segCount=st=Z.parseUShort()>>1,Z.skip("uShort",3),Pe.glyphIndexMap={};for(var st,et=new be.Parser(je,_e+$e+14),tt=new be.Parser(je,_e+$e+16+2*st),at=new be.Parser(je,_e+$e+16+4*st),vt=new be.Parser(je,_e+$e+16+6*st),Mt=_e+$e+16+8*st,Pt=0;Pt<st-1;Pt+=1)for(var Gt=void 0,Vt=et.parseUShort(),Zt=tt.parseUShort(),yt=at.parseShort(),xt=vt.parseUShort(),ht=Zt;ht<=Vt;ht+=1)xt!==0?(Mt=(Mt=vt.offset+vt.relativeOffset-2)+xt+2*(ht-Zt),(Gt=be.getUShort(je,Mt))!==0&&(Gt=Gt+yt&65535)):Gt=ht+yt&65535,Pe.glyphIndexMap[ht]=Gt}return _},make:function(p){for(var x=!0,_=p.length-1;0<_;--_)if(65535<p.get(_).unicode){console.log("Adding CMAP format 12 (needed!)"),x=!1;break}var M,A,I=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:x?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:x?12:20}],U=(I=(I=x?I:I.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Se.Table("cmap",I));for(U.segments=[],_=0;_<p.length;_+=1){for(var Z=p.get(_),re=0;re<Z.unicodes.length;re+=1)M=Z.unicodes[re],A=_,U.segments.push({end:M,start:M,delta:-(M-A),offset:0,glyphIndex:A});U.segments=U.segments.sort(function(_e,$e){return _e.start-$e.start})}U.segments.push({end:65535,start:65535,delta:1,offset:0});var te=U.segments.length,fe=0,we=[],ve=[],ae=[],Re=[],Me=[],Pe=[];for(_=0;_<te;_+=1){var je=U.segments[_];je.end<=65535&&je.start<=65535?(we=we.concat({name:"end_"+_,type:"USHORT",value:je.end}),ve=ve.concat({name:"start_"+_,type:"USHORT",value:je.start}),ae=ae.concat({name:"idDelta_"+_,type:"SHORT",value:je.delta}),Re=Re.concat({name:"idRangeOffset_"+_,type:"USHORT",value:je.offset}),je.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+_,type:"USHORT",value:je.glyphId}))):fe+=1,x||je.glyphIndex===void 0||(Pe=(Pe=(Pe=Pe.concat({name:"cmap12Start_"+_,type:"ULONG",value:je.start})).concat({name:"cmap12End_"+_,type:"ULONG",value:je.end})).concat({name:"cmap12Glyph_"+_,type:"ULONG",value:je.glyphIndex}))}return U.segCountX2=2*(te-fe),U.searchRange=2*Math.pow(2,Math.floor(Math.log(te-fe)/Math.log(2))),U.entrySelector=Math.log(U.searchRange/2)/Math.log(2),U.rangeShift=U.segCountX2-U.searchRange,U.fields=U.fields.concat(we),U.fields.push({name:"reservedPad",type:"USHORT",value:0}),U.fields=U.fields.concat(ve),U.fields=U.fields.concat(ae),U.fields=U.fields.concat(Re),U.fields=U.fields.concat(Me),U.cmap4Length=14+2*we.length+2+2*ve.length+2*ae.length+2*Re.length+2*Me.length,x||(I=16+4*Pe.length,U.cmap12Offset=20+U.cmap4Length,U.fields=U.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:I},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Pe.length/3}]),U.fields=U.fields.concat(Pe)),U}},Q=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],N=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],$=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],he=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function xe(p){this.font=p}function Ee(p){this.cmap=p}function Be(p,x){this.encoding=p,this.charset=x}function Ne(p){switch(p.version){case 1:this.names=he.slice();break;case 2:this.names=new Array(p.numberOfGlyphs);for(var x=0;x<p.numberOfGlyphs;x++)p.glyphNameIndex[x]<he.length?this.names[x]=he[p.glyphNameIndex[x]]:this.names[x]=p.names[p.glyphNameIndex[x]-he.length];break;case 2.5:this.names=new Array(p.numberOfGlyphs);for(var _=0;_<p.numberOfGlyphs;_++)this.names[_]=he[_+p.glyphNameIndex[_]];break;default:this.names=[]}}xe.prototype.charToGlyphIndex=function(p){var x=p.codePointAt(0),_=this.font.glyphs;if(_){for(var M=0;M<_.length;M+=1)for(var A=_.get(M),I=0;I<A.unicodes.length;I+=1)if(A.unicodes[I]===x)return M}return null},Ee.prototype.charToGlyphIndex=function(p){return this.cmap.glyphIndexMap[p.codePointAt(0)]||0},Be.prototype.charToGlyphIndex=function(p){return p=p.codePointAt(0),p=this.encoding[p],this.charset.indexOf(p)},Ne.prototype.nameToGlyphIndex=function(p){return this.names.indexOf(p)},Ne.prototype.glyphIndexToName=function(p){return this.names[p]};var Ve={line:function(p,x,_,M,A){p.beginPath(),p.moveTo(x,_),p.lineTo(M,A),p.stroke()}};function Xe(p){this.bindConstructorValues(p)}function it(p,x,_){Object.defineProperty(p,x,{get:function(){return p.path,p[_]},set:function(M){p[_]=M},enumerable:!0,configurable:!0})}function ot(p,x){if(this.font=p,this.glyphs={},Array.isArray(x))for(var _=0;_<x.length;_++)this.glyphs[_]=x[_];this.length=x&&x.length||0}Xe.prototype.bindConstructorValues=function(p){var x;this.index=p.index||0,this.name=p.name||null,this.unicode=p.unicode||void 0,this.unicodes=p.unicodes||p.unicode!==void 0?[p.unicode]:[],p.xMin&&(this.xMin=p.xMin),p.yMin&&(this.yMin=p.yMin),p.xMax&&(this.xMax=p.xMax),p.yMax&&(this.yMax=p.yMax),p.advanceWidth&&(this.advanceWidth=p.advanceWidth),Object.defineProperty(this,"path",(p=p.path,x=p||new Y,{configurable:!0,get:function(){return x=typeof x=="function"?x():x},set:function(_){x=_}}))},Xe.prototype.addUnicode=function(p){this.unicodes.length===0&&(this.unicode=p),this.unicodes.push(p)},Xe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Xe.prototype.getPath=function(p,x,_,M,A){p=p!==void 0?p:0,x=x!==void 0?x:0,_=_!==void 0?_:72;for(var I,U,Z=(M=M||{}).xScale,re=M.yScale,te=((I=M.hinting&&A&&A.hinting?this.path&&A.hinting.exec(this,_):I)?(U=A.hinting.getCommands(I),p=Math.round(p),x=Math.round(x),Z=re=1):(U=this.path.commands,M=1/this.path.unitsPerEm*_,Z===void 0&&(Z=M),re===void 0&&(re=M)),new Y),fe=0;fe<U.length;fe+=1){var we=U[fe];we.type==="M"?te.moveTo(p+we.x*Z,x+-we.y*re):we.type==="L"?te.lineTo(p+we.x*Z,x+-we.y*re):we.type==="Q"?te.quadraticCurveTo(p+we.x1*Z,x+-we.y1*re,p+we.x*Z,x+-we.y*re):we.type==="C"?te.curveTo(p+we.x1*Z,x+-we.y1*re,p+we.x2*Z,x+-we.y2*re,p+we.x*Z,x+-we.y*re):we.type==="Z"&&te.closePath()}return te},Xe.prototype.getContours=function(){if(this.points===void 0)return[];for(var p=[],x=[],_=0;_<this.points.length;_+=1){var M=this.points[_];x.push(M),M.lastPointOfContour&&(p.push(x),x=[])}return R.argument(x.length===0,"There are still points left in the current contour."),p},Xe.prototype.getMetrics=function(){for(var p=this.path.commands,x=[],_=[],M=0;M<p.length;M+=1){var A=p[M];A.type!=="Z"&&(x.push(A.x),_.push(A.y)),A.type!=="Q"&&A.type!=="C"||(x.push(A.x1),_.push(A.y1)),A.type==="C"&&(x.push(A.x2),_.push(A.y2))}var I={xMin:Math.min.apply(null,x),yMin:Math.min.apply(null,_),xMax:Math.max.apply(null,x),yMax:Math.max.apply(null,_),leftSideBearing:this.leftSideBearing};return isFinite(I.xMin)||(I.xMin=0),isFinite(I.xMax)||(I.xMax=this.advanceWidth),isFinite(I.yMin)||(I.yMin=0),isFinite(I.yMax)||(I.yMax=0),I.rightSideBearing=this.advanceWidth-I.leftSideBearing-(I.xMax-I.xMin),I},Xe.prototype.draw=function(p,x,_,M,A){this.getPath(x,_,M,A).draw(p)},Xe.prototype.drawPoints=function(p,x,_,M){function A(fe,we,ve,ae){var Re=2*Math.PI;p.beginPath();for(var Me=0;Me<fe.length;Me+=1)p.moveTo(we+fe[Me].x*ae,ve+fe[Me].y*ae),p.arc(we+fe[Me].x*ae,ve+fe[Me].y*ae,2,0,Re,!1);p.closePath(),p.fill()}x=x!==void 0?x:0,_=_!==void 0?_:0;for(var M=1/this.path.unitsPerEm*(M=M!==void 0?M:24),I=[],U=[],Z=this.path,re=0;re<Z.commands.length;re+=1){var te=Z.commands[re];te.x!==void 0&&I.push({x:te.x,y:-te.y}),te.x1!==void 0&&U.push({x:te.x1,y:-te.y1}),te.x2!==void 0&&U.push({x:te.x2,y:-te.y2})}p.fillStyle="blue",A(I,x,_,M),p.fillStyle="red",A(U,x,_,M)},Xe.prototype.drawMetrics=function(p,x,_,M){x=x!==void 0?x:0,_=_!==void 0?_:0,M=1/this.path.unitsPerEm*(M=M!==void 0?M:24),p.lineWidth=1,p.strokeStyle="black",Ve.line(p,x,-1e4,x,1e4),Ve.line(p,-1e4,_,1e4,_);var A=this.xMin||0,I=this.yMin||0,U=this.xMax||0,Z=this.yMax||0,re=this.advanceWidth||0;p.strokeStyle="blue",Ve.line(p,x+A*M,-1e4,x+A*M,1e4),Ve.line(p,x+U*M,-1e4,x+U*M,1e4),Ve.line(p,-1e4,_+-I*M,1e4,_+-I*M),Ve.line(p,-1e4,_+-Z*M,1e4,_+-Z*M),p.strokeStyle="green",Ve.line(p,x+re*M,-1e4,x+re*M,1e4)},ot.prototype.get=function(p){return typeof this.glyphs[p]=="function"&&(this.glyphs[p]=this.glyphs[p]()),this.glyphs[p]},ot.prototype.push=function(p,x){this.glyphs[p]=x,this.length++};var Ke={GlyphSet:ot,glyphLoader:function(p,x){return new Xe({index:x,font:p})},ttfGlyphLoader:function(p,x,_,M,A,I){return function(){var U=new Xe({index:x,font:p});return U.path=function(){_(U,M,A);var Z=I(p.glyphs,U);return Z.unitsPerEm=p.unitsPerEm,Z},it(U,"xMin","_xMin"),it(U,"xMax","_xMax"),it(U,"yMin","_yMin"),it(U,"yMax","_yMax"),U}},cffGlyphLoader:function(p,x,_,M){return function(){var A=new Xe({index:x,font:p});return A.path=function(){var I=_(p,A,M);return I.unitsPerEm=p.unitsPerEm,I},A}}};function nt(p){return p=p.length<1240?107:p.length<33900?1131:32768,p}function rt(p,x,_){var M,A=[],I=[],U=be.getCard16(p,x);if(U!==0){for(var Z=be.getByte(p,x+2),re=x+(U+1)*Z+2,te=x+3,fe=0;fe<U+1;fe+=1)A.push(be.getOffset(p,te,Z)),te+=Z;M=re+A[U]}else M=x+2;for(var we=0;we<A.length-1;we+=1){var ve=be.getBytes(p,re+A[we],re+A[we+1]);_&&(ve=_(ve)),I.push(ve)}return{objects:I,startOffset:x,endOffset:M}}function gt(p,x){if(x===28)return p.parseByte()<<8|p.parseByte();if(x===29)return p.parseByte()<<24|p.parseByte()<<16|p.parseByte()<<8|p.parseByte();if(x===30){for(var _=p,M="",A=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var U=_.parseByte(),I=U>>4,U=15&U;if(I==15||(M+=A[I],U==15))break;M+=A[U]}return parseFloat(M)}if(32<=x&&x<=246)return x-139;if(247<=x&&x<=250)return 256*(x-247)+p.parseByte()+108;if(251<=x&&x<=254)return 256*-(x-251)-p.parseByte()-108;throw new Error("Invalid b0 "+x)}function Nt(p,x,_){var M=new be.Parser(p,x=x!==void 0?x:0),A=[],I=[];for(_=_!==void 0?_:p.length;M.relativeOffset<_;){var U=M.parseByte();U<=21?(U===12&&(U=1200+M.parseByte()),A.push([U,I]),I=[]):I.push(gt(M,U))}for(var Z=A,re={},te=0;te<Z.length;te+=1){var fe=Z[te][0],we=Z[te][1],ve=void 0,ve=we.length===1?we[0]:we;if(re.hasOwnProperty(fe)&&!isNaN(re[fe]))throw new Error("Object "+re+" already has key "+fe);re[fe]=ve}return re}function Et(p,x){return x=x<=390?Q[x]:p[x-391]}function ft(p,x,_){for(var M,A={},I=0;I<x.length;I+=1){var U=x[I];if(Array.isArray(U.type)){var Z=[];Z.length=U.type.length;for(var re=0;re<U.type.length;re++)(M=p[U.op]!==void 0?p[U.op][re]:void 0)===void 0&&(M=U.value!==void 0&&U.value[re]!==void 0?U.value[re]:null),U.type[re]==="SID"&&(M=Et(_,M)),Z[re]=M;A[U.name]=Z}else(M=p[U.op])===void 0&&(M=U.value!==void 0?U.value:null),U.type==="SID"&&(M=Et(_,M)),A[U.name]=M}return A}var bt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ct=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Dt(p,x,_,M){return ft(Nt(p,x,_),ct,M)}function At(p,x,_,M){for(var A=[],I=0;I<_.length;I+=1){var U=new DataView(new Uint8Array(_[I]).buffer),U=(Z=M,ft(Nt(U,0,U.byteLength),bt,Z)),Z=(U._subrs=[],U._subrsBias=0,U.private[0]),re=U.private[1];Z!==0&&re!==0&&(Z=Dt(p,re+x,Z,M),U._defaultWidthX=Z.defaultWidthX,U._nominalWidthX=Z.nominalWidthX,Z.subrs!==0&&(re=rt(p,re+Z.subrs+x),U._subrs=re.objects,U._subrsBias=nt(U._subrs)),U._privateDict=Z),A.push(U)}return A}function pt(p,x,_){var M,A,I,U,Z,re,te,fe,we,ve=new Y,ae=[],Re=0,Me=!1,Pe=!1,je=0,_e=0,$e=(we=(p.isCIDFont?(Z=p.tables.cff.topDict._fdSelect[x.index],Z=p.tables.cff.topDict._fdArray[Z],re=Z._subrs,te=Z._subrsBias,fe=Z._defaultWidthX,Z):(re=p.tables.cff.topDict._subrs,te=p.tables.cff.topDict._subrsBias,fe=p.tables.cff.topDict._defaultWidthX,p.tables.cff.topDict))._nominalWidthX,fe);function st(tt,at){Pe&&ve.closePath(),ve.moveTo(tt,at),Pe=!0}function et(){ae.length%2==0||Me||($e=ae.shift()+we),Re+=ae.length>>1,ae.length=0,Me=!0}return function tt(at){for(var vt,Mt,Pt,Gt,Vt,Zt,yt,xt,ht,zt,_t,Bt,wt=0;wt<at.length;){var It=at[wt];switch(wt+=1,It){case 1:case 3:et();break;case 4:1<ae.length&&!Me&&($e=ae.shift()+we,Me=!0),_e+=ae.pop(),st(je,_e);break;case 5:for(;0<ae.length;)je+=ae.shift(),_e+=ae.shift(),ve.lineTo(je,_e);break;case 6:for(;0<ae.length&&(je+=ae.shift(),ve.lineTo(je,_e),ae.length!==0);)_e+=ae.shift(),ve.lineTo(je,_e);break;case 7:for(;0<ae.length&&(_e+=ae.shift(),ve.lineTo(je,_e),ae.length!==0);)je+=ae.shift(),ve.lineTo(je,_e);break;case 8:for(;0<ae.length;)M=je+ae.shift(),A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),je=I+ae.shift(),_e=U+ae.shift(),ve.curveTo(M,A,I,U,je,_e);break;case 10:Vt=ae.pop()+te,(Zt=re[Vt])&&tt(Zt);break;case 11:return;case 12:switch(It=at[wt],wt+=1,It){case 35:M=je+ae.shift(),A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),yt=I+ae.shift(),xt=U+ae.shift(),ht=yt+ae.shift(),zt=xt+ae.shift(),_t=ht+ae.shift(),Bt=zt+ae.shift(),je=_t+ae.shift(),_e=Bt+ae.shift(),ae.shift(),ve.curveTo(M,A,I,U,yt,xt),ve.curveTo(ht,zt,_t,Bt,je,_e);break;case 34:M=je+ae.shift(),A=_e,I=M+ae.shift(),U=A+ae.shift(),yt=I+ae.shift(),xt=U,ht=yt+ae.shift(),zt=U,_t=ht+ae.shift(),Bt=_e,je=_t+ae.shift(),ve.curveTo(M,A,I,U,yt,xt),ve.curveTo(ht,zt,_t,Bt,je,_e);break;case 36:M=je+ae.shift(),A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),yt=I+ae.shift(),xt=U,ht=yt+ae.shift(),zt=U,_t=ht+ae.shift(),Bt=zt+ae.shift(),je=_t+ae.shift(),ve.curveTo(M,A,I,U,yt,xt),ve.curveTo(ht,zt,_t,Bt,je,_e);break;case 37:M=je+ae.shift(),A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),yt=I+ae.shift(),xt=U+ae.shift(),ht=yt+ae.shift(),zt=xt+ae.shift(),_t=ht+ae.shift(),Bt=zt+ae.shift(),Math.abs(_t-je)>Math.abs(Bt-_e)?je=_t+ae.shift():_e=Bt+ae.shift(),ve.curveTo(M,A,I,U,yt,xt),ve.curveTo(ht,zt,_t,Bt,je,_e);break;default:console.log("Glyph "+x.index+": unknown operator 1200"+It),ae.length=0}break;case 14:0<ae.length&&!Me&&($e=ae.shift()+we,Me=!0),Pe&&(ve.closePath(),Pe=!1);break;case 18:et();break;case 19:case 20:et(),wt+=Re+7>>3;break;case 21:2<ae.length&&!Me&&($e=ae.shift()+we,Me=!0),_e+=ae.pop(),st(je+=ae.pop(),_e);break;case 22:1<ae.length&&!Me&&($e=ae.shift()+we,Me=!0),st(je+=ae.pop(),_e);break;case 23:et();break;case 24:for(;2<ae.length;)M=je+ae.shift(),A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),je=I+ae.shift(),_e=U+ae.shift(),ve.curveTo(M,A,I,U,je,_e);je+=ae.shift(),_e+=ae.shift(),ve.lineTo(je,_e);break;case 25:for(;6<ae.length;)je+=ae.shift(),_e+=ae.shift(),ve.lineTo(je,_e);M=je+ae.shift(),A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),je=I+ae.shift(),_e=U+ae.shift(),ve.curveTo(M,A,I,U,je,_e);break;case 26:for(ae.length%2&&(je+=ae.shift());0<ae.length;)M=je,A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),je=I,_e=U+ae.shift(),ve.curveTo(M,A,I,U,je,_e);break;case 27:for(ae.length%2&&(_e+=ae.shift());0<ae.length;)M=je+ae.shift(),A=_e,I=M+ae.shift(),U=A+ae.shift(),je=I+ae.shift(),_e=U,ve.curveTo(M,A,I,U,je,_e);break;case 28:vt=at[wt],Mt=at[wt+1],ae.push((vt<<24|Mt<<16)>>16),wt+=2;break;case 29:Vt=ae.pop()+p.gsubrsBias,(Zt=p.gsubrs[Vt])&&tt(Zt);break;case 30:for(;0<ae.length&&(M=je,A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),je=I+ae.shift(),_e=U+(ae.length===1?ae.shift():0),ve.curveTo(M,A,I,U,je,_e),ae.length!==0);)M=je+ae.shift(),A=_e,I=M+ae.shift(),U=A+ae.shift(),_e=U+ae.shift(),je=I+(ae.length===1?ae.shift():0),ve.curveTo(M,A,I,U,je,_e);break;case 31:for(;0<ae.length&&(M=je+ae.shift(),A=_e,I=M+ae.shift(),U=A+ae.shift(),_e=U+ae.shift(),je=I+(ae.length===1?ae.shift():0),ve.curveTo(M,A,I,U,je,_e),ae.length!==0);)M=je,A=_e+ae.shift(),I=M+ae.shift(),U=A+ae.shift(),je=I+ae.shift(),_e=U+(ae.length===1?ae.shift():0),ve.curveTo(M,A,I,U,je,_e);break;default:It<32?console.log("Glyph "+x.index+": unknown operator "+It):It<247?ae.push(It-139):It<251?(vt=at[wt],wt+=1,ae.push(256*(It-247)+vt+108)):It<255?(vt=at[wt],wt+=1,ae.push(256*-(It-251)-vt-108)):(vt=at[wt],Mt=at[wt+1],Pt=at[wt+2],Gt=at[wt+3],wt+=4,ae.push((vt<<24|Mt<<16|Pt<<8|Gt)/65536))}}}(_),x.advanceWidth=$e,ve}function Ut(p,x){var _,M=Q.indexOf(p);return 0<=M&&(_=M),0<=(M=x.indexOf(p))?_=M+Q.length:(_=Q.length+x.length,x.push(p)),_}function dr(p,x,_){for(var M={},A=0;A<p.length;A+=1){var I=p[A],U=x[I.name];U===void 0||function Z(re,te){if(re===te)return 1;if(Array.isArray(re)&&Array.isArray(te)&&re.length===te.length){for(var fe=0;fe<re.length;fe+=1)if(!Z(re[fe],te[fe]))return;return 1}}(U,I.value)||(I.type==="SID"&&(U=Ut(U,_)),M[I.op]={name:I.name,type:I.type,value:U})}return M}function fr(p,x){var _=new Se.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return _.dict=dr(bt,p,x),_}function hr(p){var x=new Se.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return x.topDicts=[{name:"topDict_0",type:"TABLE",value:p}],x}function jr(p){for(var x=new Se.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),_=0;_<p.length;_+=1){var M=p.get(_),A=function(I){for(var U=[],Z=I.path,re=(U.push({name:"width",type:"NUMBER",value:I.advanceWidth}),0),te=0,fe=0;fe<Z.commands.length;fe+=1){var we,ve,ae,Re,Me=void 0,Pe=void 0,je=Z.commands[fe];(je=je.type==="Q"?{type:"C",x:je.x,y:je.y,x1:1/3*re+2/3*je.x1,y1:1/3*te+2/3*je.y1,x2:1/3*je.x+2/3*je.x1,y2:1/3*je.y+2/3*je.y1}:je).type==="M"?(Me=Math.round(je.x-re),Pe=Math.round(je.y-te),U.push({name:"dx",type:"NUMBER",value:Me}),U.push({name:"dy",type:"NUMBER",value:Pe}),U.push({name:"rmoveto",type:"OP",value:21}),re=Math.round(je.x),te=Math.round(je.y)):je.type==="L"?(Me=Math.round(je.x-re),Pe=Math.round(je.y-te),U.push({name:"dx",type:"NUMBER",value:Me}),U.push({name:"dy",type:"NUMBER",value:Pe}),U.push({name:"rlineto",type:"OP",value:5}),re=Math.round(je.x),te=Math.round(je.y)):je.type==="C"&&(we=Math.round(je.x1-re),ve=Math.round(je.y1-te),ae=Math.round(je.x2-je.x1),Re=Math.round(je.y2-je.y1),Me=Math.round(je.x-je.x2),Pe=Math.round(je.y-je.y2),U.push({name:"dx1",type:"NUMBER",value:we}),U.push({name:"dy1",type:"NUMBER",value:ve}),U.push({name:"dx2",type:"NUMBER",value:ae}),U.push({name:"dy2",type:"NUMBER",value:Re}),U.push({name:"dx",type:"NUMBER",value:Me}),U.push({name:"dy",type:"NUMBER",value:Pe}),U.push({name:"rrcurveto",type:"OP",value:8}),re=Math.round(je.x),te=Math.round(je.y))}return U.push({name:"endchar",type:"OP",value:14}),U}(M);x.charStrings.push({name:M.name,type:"CHARSTRING",value:A})}return x}var pr={parse:function(p,x,_){_.tables.cff={},Z=p,M=x,(A={}).formatMajor=be.getCard8(Z,M),A.formatMinor=be.getCard8(Z,M+1),A.size=be.getCard8(Z,M+2),A.offsetSize=be.getCard8(Z,M+3),A.startOffset=M,A.endOffset=M+4;var Z=rt(p,A.endOffset,be.bytesToString),M=rt(p,Z.endOffset),A=rt(p,M.endOffset,be.bytesToString),Z=rt(p,A.endOffset);if(_.gsubrs=Z.objects,_.gsubrsBias=nt(_.gsubrs),(Z=At(p,x,M.objects,A.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Z.length);if(M=Z[0],(_.tables.cff.topDict=M)._privateDict&&(_.defaultWidthX=M._privateDict.defaultWidthX,_.nominalWidthX=M._privateDict.nominalWidthX),M.ros[0]!==void 0&&M.ros[1]!==void 0&&(_.isCIDFont=!0),_.isCIDFont){var Z=M.fdArray,I=M.fdSelect;if(Z===0||I===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Z=At(p,x,rt(p,Z+=x).objects,A.objects),M._fdArray=Z,M._fdSelect=function(ve,ae,Re,Me){var Pe,je=[],_e=new be.Parser(ve,ae);if((ve=_e.parseCard8())===0)for(var $e=0;$e<Re;$e++){if(Me<=(Pe=_e.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Pe+" (FD count "+Me+")");je.push(Pe)}else{if(ve!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ve);var st,et=_e.parseCard16(),tt=_e.parseCard16();if(tt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+tt);for(var at=0;at<et;at++){if(Pe=_e.parseCard8(),st=_e.parseCard16(),Me<=Pe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Pe+" (FD count "+Me+")");if(Re<st)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+st);for(;tt<st;tt++)je.push(Pe);tt=st}if(st!==Re)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+st)}return je}(p,I+=x,_.numGlyphs,Z.length)}var I=x+M.private[1],Z=Dt(p,I,M.private[0],A.objects),U=(_.defaultWidthX=Z.defaultWidthX,_.nominalWidthX=Z.nominalWidthX,Z.subrs!==0?(I=rt(p,I+Z.subrs),_.subrs=I.objects,_.subrsBias=nt(_.subrs)):(_.subrs=[],_.subrsBias=0),rt(p,x+M.charStrings)),Z=(_.nGlyphs=U.objects.length,function(fe,we,ve,ae){var Re=new be.Parser(fe,we),Me=(--ve,[".notdef"]);if((fe=Re.parseCard8())===0)for(var Pe=0;Pe<ve;Pe+=1)je=Re.parseSID(),Me.push(Et(ae,je));else if(fe===1)for(;Me.length<=ve;)for(var je=Re.parseSID(),_e=Re.parseCard8(),$e=0;$e<=_e;$e+=1)Me.push(Et(ae,je)),je+=1;else{if(fe!==2)throw new Error("Unknown charset format "+fe);for(;Me.length<=ve;){je=Re.parseSID(),_e=Re.parseCard16();for(var st=0;st<=_e;st+=1)Me.push(Et(ae,je)),je+=1}}return Me}(p,x+M.charset,_.nGlyphs,A.objects));M.encoding===0?_.cffEncoding=new Be(N,Z):M.encoding===1?_.cffEncoding=new Be($,Z):_.cffEncoding=function(fe,we,ve){var ae={},Re=new be.Parser(fe,we);if((fe=Re.parseCard8())===0)for(var Me=Re.parseCard8(),Pe=0;Pe<Me;Pe+=1)ae[_e=Re.parseCard8()]=Pe;else{if(fe!==1)throw new Error("Unknown encoding format "+fe);for(var je=Re.parseCard8(),_e=1,$e=0;$e<je;$e+=1)for(var st=Re.parseCard8(),et=Re.parseCard8(),tt=st;tt<=st+et;tt+=1)ae[tt]=_e,_e+=1}return new Be(ae,ve)}(p,x+M.encoding,Z),_.encoding=_.encoding||_.cffEncoding,_.glyphs=new Ke.GlyphSet(_);for(var re=0;re<_.nGlyphs;re+=1){var te=U.objects[re];_.glyphs.push(re,Ke.cffGlyphLoader(_,re,pt,te))}},make:function(p,fe){for(var _,M=new Se.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),A=1/fe.unitsPerEm,A={version:fe.version,fullName:fe.fullName,familyName:fe.familyName,weight:fe.weightName,fontBBox:fe.fontBBox||[0,0,0,0],fontMatrix:[A,0,0,A,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},I=[],U=1;U<p.length;U+=1)_=p.get(U),I.push(_.name);var Z,re,te=[],fe=(M.header=new Se.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),M.nameIndex=function(ve){var ae=new Se.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ae.names=[];for(var Re=0;Re<ve.length;Re+=1)ae.names.push({name:"name_"+Re,type:"NAME",value:ve[Re]});return ae}([fe.postScriptName]),fr(A,te)),we=(M.topDictIndex=hr(fe),M.globalSubrIndex=new Se.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),M.charsets=function(ve,ae){for(var Re=new Se.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Me=0;Me<ve.length;Me+=1){var Pe=Ut(ve[Me],ae);Re.fields.push({name:"glyph_"+Me,type:"SID",value:Pe})}return Re}(I,te),M.charStringsIndex=jr(p),M.privateDict=(we={},Z=te,(re=new Se.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=dr(ct,we,Z),re),M.stringIndex=function(ve){var ae=new Se.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ae.strings=[];for(var Re=0;Re<ve.length;Re+=1)ae.strings.push({name:"string_"+Re,type:"STRING",value:ve[Re]});return ae}(te),M.header.sizeOf()+M.nameIndex.sizeOf()+M.topDictIndex.sizeOf()+M.stringIndex.sizeOf()+M.globalSubrIndex.sizeOf());return A.charset=we,A.encoding=0,A.charStrings=A.charset+M.charsets.sizeOf(),A.private[1]=A.charStrings+M.charStringsIndex.sizeOf(),fe=fr(A,te),M.topDictIndex=hr(fe),M}},mr={parse:function(M,x){var _={},M=new be.Parser(M,x);return _.version=M.parseVersion(),_.fontRevision=Math.round(1e3*M.parseFixed())/1e3,_.checkSumAdjustment=M.parseULong(),_.magicNumber=M.parseULong(),R.argument(_.magicNumber===1594834165,"Font header has wrong magic number."),_.flags=M.parseUShort(),_.unitsPerEm=M.parseUShort(),_.created=M.parseLongDateTime(),_.modified=M.parseLongDateTime(),_.xMin=M.parseShort(),_.yMin=M.parseShort(),_.xMax=M.parseShort(),_.yMax=M.parseShort(),_.macStyle=M.parseUShort(),_.lowestRecPPEM=M.parseUShort(),_.fontDirectionHint=M.parseShort(),_.indexToLocFormat=M.parseShort(),_.glyphDataFormat=M.parseShort(),_},make:function(p){var x=Math.round(new Date().getTime()/1e3)+2082844800,_=x;return p.createdTimestamp&&(_=p.createdTimestamp+2082844800),new Se.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:_},{name:"modified",type:"LONGDATETIME",value:x},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],p)}},le={parse:function(M,x){var _={},M=new be.Parser(M,x);return _.version=M.parseVersion(),_.ascender=M.parseShort(),_.descender=M.parseShort(),_.lineGap=M.parseShort(),_.advanceWidthMax=M.parseUShort(),_.minLeftSideBearing=M.parseShort(),_.minRightSideBearing=M.parseShort(),_.xMaxExtent=M.parseShort(),_.caretSlopeRise=M.parseShort(),_.caretSlopeRun=M.parseShort(),_.caretOffset=M.parseShort(),M.relativeOffset+=8,_.metricDataFormat=M.parseShort(),_.numberOfHMetrics=M.parseUShort(),_},make:function(p){return new Se.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],p)}},Fe={parse:function(p,x,_,M,A){for(var I,U,Z=new be.Parser(p,x),re=0;re<M;re+=1){re<_&&(I=Z.parseUShort(),U=Z.parseShort());var te=A.get(re);te.advanceWidth=I,te.leftSideBearing=U}},make:function(p){for(var x=new Se.Table("hmtx",[]),_=0;_<p.length;_+=1){var A=p.get(_),M=A.advanceWidth||0,A=A.leftSideBearing||0;x.fields.push({name:"advanceWidth_"+_,type:"USHORT",value:M}),x.fields.push({name:"leftSideBearing_"+_,type:"SHORT",value:A})}return x}},Ye={make:function(p){for(var x=new Se.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:p.length}]),_="",M=12+4*p.length,A=0;A<p.length;++A){var I=_.indexOf(p[A]);I<0&&(I=_.length,_+=p[A]),x.fields.push({name:"offset "+A,type:"USHORT",value:M+I}),x.fields.push({name:"length "+A,type:"USHORT",value:p[A].length})}return x.fields.push({name:"stringPool",type:"CHARARRAY",value:_}),x},parse:function(p,x){for(var _=new be.Parser(p,x),M=_.parseULong(),A=(R.argument(M===1,"Unsupported ltag table version."),_.skip("uLong",1),_.parseULong()),I=[],U=0;U<A;U++){for(var Z="",re=x+_.parseUShort(),te=_.parseUShort(),fe=re;fe<re+te;++fe)Z+=String.fromCharCode(p.getInt8(fe));I.push(Z)}return I}},De={parse:function(M,x){var _={},M=new be.Parser(M,x);return _.version=M.parseVersion(),_.numGlyphs=M.parseUShort(),_.version===1&&(_.maxPoints=M.parseUShort(),_.maxContours=M.parseUShort(),_.maxCompositePoints=M.parseUShort(),_.maxCompositeContours=M.parseUShort(),_.maxZones=M.parseUShort(),_.maxTwilightPoints=M.parseUShort(),_.maxStorage=M.parseUShort(),_.maxFunctionDefs=M.parseUShort(),_.maxInstructionDefs=M.parseUShort(),_.maxStackElements=M.parseUShort(),_.maxSizeOfInstructions=M.parseUShort(),_.maxComponentElements=M.parseUShort(),_.maxComponentDepth=M.parseUShort()),_},make:function(p){return new Se.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:p}])}},lt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ie={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},dt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},He={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ut="utf-16",We={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Tt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Lt(p,x,_){switch(p){case 0:return ut;case 1:return Tt[_]||We[x];case 3:if(x===1||x===10)return ut}}function St(p){var x,_={};for(x in p)_[p[x]]=parseInt(x);return _}function kt(p,x,_,M,A,I){return new Se.Record("NameRecord",[{name:"platformID",type:"USHORT",value:p},{name:"encodingID",type:"USHORT",value:x},{name:"languageID",type:"USHORT",value:_},{name:"nameID",type:"USHORT",value:M},{name:"length",type:"USHORT",value:A},{name:"offset",type:"USHORT",value:I}])}function Qt(p,x){if((_=function(I,U){var Z=I.length,re=U.length-Z+1;e:for(var te=0;te<re;te++)for(;te<re;te++){for(var fe=0;fe<Z;fe++)if(U[te+fe]!==I[fe])continue e;return te}return-1}(p,x))<0)for(var _=x.length,M=0,A=p.length;M<A;++M)x.push(p[M]);return _}var Ht={parse:function(p,x,_){for(var M={},A=new be.Parser(p,x),x=A.parseUShort(),I=A.parseUShort(),U=A.offset+A.parseUShort(),Z=0;Z<I;Z++){var Re=A.parseUShort(),re=A.parseUShort(),te=A.parseUShort(),fe=A.parseUShort(),fe=lt[fe]||fe,we=A.parseUShort(),ve=A.parseUShort(),ae=function(Pe,je,_e){switch(Pe){case 0:if(je===65535)return"und";if(_e)return _e[je];break;case 1:return Ie[je];case 3:return He[je]}}(Re,te,_),Re=Lt(Re,re,te);Re!==void 0&&ae!==void 0&&(re=void 0,(re=Re===ut?B.UTF16(p,U+ve,we):B.MACSTRING(p,U+ve,we,Re))&&((te=(te=M[fe])===void 0?M[fe]={}:te)[ae]=re))}return x===1&&A.parseUShort(),M},make:function(p,x){var _,M=[],A={},I=St(lt);for(_ in p){var U=I[_];if(U===void 0&&(U=_),ve=parseInt(U),isNaN(ve))throw new Error('Name table entry "'+_+'" does not exist, see nameTableNames for complete list.');A[ve]=p[_],M.push(ve)}for(var Z=St(Ie),re=St(He),te=[],fe=[],we=0;we<M.length;we++){var ve,ae,Re=A[ve=M[we]];for(ae in Re){var Me=Re[ae],st=1,Pe=Z[ae],je=dt[Pe],_e=Lt(st,je,Pe),_e=W.MACSTRING(Me,_e),$e=(_e===void 0&&(st=0,(Pe=x.indexOf(ae))<0&&(Pe=x.length,x.push(ae)),je=4,_e=W.UTF16(Me)),Qt(_e,fe)),st=(te.push(kt(st,je,Pe,ve,_e.length,$e)),re[ae]);st!==void 0&&(Pe=Qt(je=W.UTF16(Me),fe),te.push(kt(3,1,st,ve,je.length,Pe)))}}te.sort(function(at,vt){return at.platformID-vt.platformID||at.encodingID-vt.encodingID||at.languageID-vt.languageID||at.nameID-vt.nameID});for(var et=new Se.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:te.length},{name:"stringOffset",type:"USHORT",value:6+12*te.length}]),tt=0;tt<te.length;tt++)et.fields.push({name:"record_"+tt,type:"RECORD",value:te[tt]});return et.fields.push({name:"strings",type:"LITERAL",value:fe}),et}},Jt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Rt={parse:function(p,x){var _={},M=new be.Parser(p,x);_.version=M.parseUShort(),_.xAvgCharWidth=M.parseShort(),_.usWeightClass=M.parseUShort(),_.usWidthClass=M.parseUShort(),_.fsType=M.parseUShort(),_.ySubscriptXSize=M.parseShort(),_.ySubscriptYSize=M.parseShort(),_.ySubscriptXOffset=M.parseShort(),_.ySubscriptYOffset=M.parseShort(),_.ySuperscriptXSize=M.parseShort(),_.ySuperscriptYSize=M.parseShort(),_.ySuperscriptXOffset=M.parseShort(),_.ySuperscriptYOffset=M.parseShort(),_.yStrikeoutSize=M.parseShort(),_.yStrikeoutPosition=M.parseShort(),_.sFamilyClass=M.parseShort(),_.panose=[];for(var A=0;A<10;A++)_.panose[A]=M.parseByte();return _.ulUnicodeRange1=M.parseULong(),_.ulUnicodeRange2=M.parseULong(),_.ulUnicodeRange3=M.parseULong(),_.ulUnicodeRange4=M.parseULong(),_.achVendID=String.fromCharCode(M.parseByte(),M.parseByte(),M.parseByte(),M.parseByte()),_.fsSelection=M.parseUShort(),_.usFirstCharIndex=M.parseUShort(),_.usLastCharIndex=M.parseUShort(),_.sTypoAscender=M.parseShort(),_.sTypoDescender=M.parseShort(),_.sTypoLineGap=M.parseShort(),_.usWinAscent=M.parseUShort(),_.usWinDescent=M.parseUShort(),1<=_.version&&(_.ulCodePageRange1=M.parseULong(),_.ulCodePageRange2=M.parseULong()),2<=_.version&&(_.sxHeight=M.parseShort(),_.sCapHeight=M.parseShort(),_.usDefaultChar=M.parseUShort(),_.usBreakChar=M.parseUShort(),_.usMaxContent=M.parseUShort()),_},make:function(p){return new Se.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],p)},unicodeRanges:Jt,getUnicodeRange:function(p){for(var x=0;x<Jt.length;x+=1){var _=Jt[x];if(p>=_.begin&&p<_.end)return x}return-1}},Br={parse:function(p,x){var _={},M=new be.Parser(p,x);switch(_.version=M.parseVersion(),_.italicAngle=M.parseFixed(),_.underlinePosition=M.parseShort(),_.underlineThickness=M.parseShort(),_.isFixedPitch=M.parseULong(),_.minMemType42=M.parseULong(),_.maxMemType42=M.parseULong(),_.minMemType1=M.parseULong(),_.maxMemType1=M.parseULong(),_.version){case 1:_.names=he.slice();break;case 2:_.numberOfGlyphs=M.parseUShort(),_.glyphNameIndex=new Array(_.numberOfGlyphs);for(var A=0;A<_.numberOfGlyphs;A++)_.glyphNameIndex[A]=M.parseUShort();_.names=[];for(var I,U=0;U<_.numberOfGlyphs;U++)_.glyphNameIndex[U]>=he.length&&(I=M.parseChar(),_.names.push(M.parseString(I)));break;case 2.5:_.numberOfGlyphs=M.parseUShort(),_.offset=new Array(_.numberOfGlyphs);for(var Z=0;Z<_.numberOfGlyphs;Z++)_.offset[Z]=M.parseChar()}return _},make:function(){return new Se.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Xt=new Array(9),ir=(Xt[1]=function(){var p=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(ge.coverage),deltaGlyphId:this.parseUShort()}:x===2?{substFormat:2,coverage:this.parsePointer(ge.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+p.toString(16)+": lookup type 1 format must be 1 or 2.")},Xt[2]=function(){var p=this.parseUShort();return R.argument(p===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:p,coverage:this.parsePointer(ge.coverage),sequences:this.parseListOfLists()}},Xt[3]=function(){var p=this.parseUShort();return R.argument(p===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:p,coverage:this.parsePointer(ge.coverage),alternateSets:this.parseListOfLists()}},Xt[4]=function(){var p=this.parseUShort();return R.argument(p===1,"GSUB ligature table identifier-format must be 1"),{substFormat:p,coverage:this.parsePointer(ge.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:ge.uShort,lookupListIndex:ge.uShort});Xt[5]=function(){var p,x,_=this.offset+this.relativeOffset,M=this.parseUShort();return M===1?{substFormat:M,coverage:this.parsePointer(ge.coverage),ruleSets:this.parseListOfLists(function(){var A=this.parseUShort(),I=this.parseUShort();return{input:this.parseUShortList(A-1),lookupRecords:this.parseRecordList(I,ir)}})}:M===2?{substFormat:M,coverage:this.parsePointer(ge.coverage),classDef:this.parsePointer(ge.classDef),classSets:this.parseListOfLists(function(){var A=this.parseUShort(),I=this.parseUShort();return{classes:this.parseUShortList(A-1),lookupRecords:this.parseRecordList(I,ir)}})}:M===3?(p=this.parseUShort(),x=this.parseUShort(),{substFormat:M,coverages:this.parseList(p,ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(x,ir)}):void R.assert(!1,"0x"+_.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Xt[6]=function(){var p=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:1,coverage:this.parsePointer(ge.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ir)}})}:x===2?{substFormat:2,coverage:this.parsePointer(ge.coverage),backtrackClassDef:this.parsePointer(ge.classDef),inputClassDef:this.parsePointer(ge.classDef),lookaheadClassDef:this.parsePointer(ge.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ir)}})}:x===3?{substFormat:3,backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),inputCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(ir)}:void R.assert(!1,"0x"+p.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Xt[7]=function(){var p=this.parseUShort(),p=(R.argument(p===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),x=new ge(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:p,extension:Xt[p].call(x)}},Xt[8]=function(){var p=this.parseUShort();return R.argument(p===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:p,coverage:this.parsePointer(ge.coverage),backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),substitutes:this.parseUShortList()}};var _r=new Array(9);_r[1]=function(p){return p.substFormat===1?new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Se.Coverage(p.coverage)},{name:"deltaGlyphID",type:"USHORT",value:p.deltaGlyphId}]):new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Se.Coverage(p.coverage)}].concat(Se.ushortList("substitute",p.substitute)))},_r[3]=function(p){return R.assert(p.substFormat===1,"Lookup type 3 substFormat must be 1."),new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Se.Coverage(p.coverage)}].concat(Se.tableList("altSet",p.alternateSets,function(x){return new Se.Table("alternateSetTable",Se.ushortList("alternate",x))})))},_r[4]=function(p){return R.assert(p.substFormat===1,"Lookup type 4 substFormat must be 1."),new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Se.Coverage(p.coverage)}].concat(Se.tableList("ligSet",p.ligatureSets,function(x){return new Se.Table("ligatureSetTable",Se.tableList("ligature",x,function(_){return new Se.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:_.ligGlyph}].concat(Se.ushortList("component",_.components,_.components.length+1)))}))})))};var Fr={parse:function(p,x){return x=(p=new ge(p,x=x||0)).parseVersion(1),R.argument(x===1||x===1.1,"Unsupported GSUB table version."),x===1?{version:x,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(Xt)}:{version:x,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(Xt),variations:p.parseFeatureVariationsList()}},make:function(p){return new Se.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Se.ScriptList(p.scripts)},{name:"features",type:"TABLE",value:new Se.FeatureList(p.features)},{name:"lookups",type:"TABLE",value:new Se.LookupList(p.lookups,_r)}])}},Nr={parse:function(p,x){for(var _=new be.Parser(p,x),M=_.parseULong(),A=(R.argument(M===1,"Unsupported META table version."),_.parseULong(),_.parseULong(),_.parseULong()),I={},U=0;U<A;U++){var Z=_.parseTag(),te=_.parseULong(),re=_.parseULong(),te=B.UTF8(p,x+te,re);I[Z]=te}return I},make:function(p){var x,_=Object.keys(p).length,M="",A=16+12*_,I=new Se.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:A},{name:"numTags",type:"ULONG",value:_}]);for(x in p){var U=M.length;M+=p[x],I.fields.push({name:"tag "+x,type:"TAG",value:x}),I.fields.push({name:"offset "+x,type:"ULONG",value:A+U}),I.fields.push({name:"length "+x,type:"ULONG",value:p[x].length})}return I.fields.push({name:"stringPool",type:"CHARARRAY",value:M}),I}};function Gr(p){return Math.log(p)/Math.log(2)|0}function Or(p){for(;p.length%4!=0;)p.push(0);for(var x=0,_=0;_<p.length;_+=4)x+=(p[_]<<24)+(p[_+1]<<16)+(p[_+2]<<8)+p[_+3];return x%=Math.pow(2,32)}function Vr(p,x,_,M){return new Se.Record("Table Record",[{name:"tag",type:"TAG",value:p!==void 0?p:""},{name:"checkSum",type:"ULONG",value:x!==void 0?x:0},{name:"offset",type:"ULONG",value:_!==void 0?_:0},{name:"length",type:"ULONG",value:M!==void 0?M:0}])}function zr(p){for(var x=new Se.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),_=(x.tables=p,x.numTables=p.length,Math.pow(2,Gr(x.numTables))),M=(x.searchRange=16*_,x.entrySelector=Gr(_),x.rangeShift=16*x.numTables-x.searchRange,[]),A=[],I=x.sizeOf()+Vr().sizeOf()*x.numTables;I%4!=0;)I+=1,A.push({name:"padding",type:"BYTE",value:0});for(var U=0;U<p.length;U+=1){var Z=p[U],re=(R.argument(Z.tableName.length===4,"Table name"+Z.tableName+" is invalid."),Z.sizeOf()),te=Vr(Z.tableName,Or(Z.encode()),I,re);for(M.push({name:te.tag+" Table Record",type:"RECORD",value:te}),A.push({name:Z.tableName+" table",type:"RECORD",value:Z}),I+=re,R.argument(!isNaN(I),"Something went wrong calculating the offset.");I%4!=0;)I+=1,A.push({name:"padding",type:"BYTE",value:0})}return M.sort(function(fe,we){return fe.value.tag>we.value.tag?1:-1}),x.fields=x.fields.concat(M),x.fields=x.fields.concat(A),x}function Hr(p,x,_){for(var M=0;M<x.length;M+=1){var A=p.charToGlyphIndex(x[M]);if(0<A)return p.glyphs.get(A).getMetrics()}return _}var Oo={make:zr,fontToTable:function(p){for(var x,_=[],M=[],A=[],I=[],U=[],Z=[],re=[],te=0,fe=0,we=0,ve=0,ae=0,Re=0;Re<p.glyphs.length;Re+=1){var Me=p.glyphs.get(Re),Pe=0|Me.unicode;if(isNaN(Me.advanceWidth))throw new Error("Glyph "+Me.name+" ("+Re+"): advanceWidth is not a number.");(Pe<x||x===void 0)&&0<Pe&&(x=Pe),te<Pe&&(te=Pe);var Pe=Rt.getUnicodeRange(Pe);if(Pe<32)fe|=1<<Pe;else if(Pe<64)we|=1<<Pe-32;else if(Pe<96)ve|=1<<Pe-64;else{if(!(Pe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ae|=1<<Pe-96}Me.name!==".notdef"&&(Pe=Me.getMetrics(),_.push(Pe.xMin),M.push(Pe.yMin),A.push(Pe.xMax),I.push(Pe.yMax),Z.push(Pe.leftSideBearing),re.push(Pe.rightSideBearing),U.push(Me.advanceWidth))}var je,_e={xMin:Math.min.apply(null,_),yMin:Math.min.apply(null,M),xMax:Math.max.apply(null,A),yMax:Math.max.apply(null,I),advanceWidthMax:Math.max.apply(null,U),advanceWidthAvg:function(It){for(var br=0,ur=0;ur<It.length;ur+=1)br+=It[ur];return br/It.length}(U),minLeftSideBearing:Math.min.apply(null,Z),maxLeftSideBearing:Math.max.apply(null,Z),minRightSideBearing:Math.min.apply(null,re)},$e=(_e.ascender=p.ascender,_e.descender=p.descender,mr.make({flags:3,unitsPerEm:p.unitsPerEm,xMin:_e.xMin,yMin:_e.yMin,xMax:_e.xMax,yMax:_e.yMax,lowestRecPPEM:3,createdTimestamp:p.createdTimestamp})),st=le.make({ascender:_e.ascender,descender:_e.descender,advanceWidthMax:_e.advanceWidthMax,minLeftSideBearing:_e.minLeftSideBearing,minRightSideBearing:_e.minRightSideBearing,xMaxExtent:_e.maxLeftSideBearing+(_e.xMax-_e.xMin),numberOfHMetrics:p.glyphs.length}),et=De.make(p.glyphs.length),tt=Rt.make({xAvgCharWidth:Math.round(_e.advanceWidthAvg),usWeightClass:p.tables.os2.usWeightClass,usWidthClass:p.tables.os2.usWidthClass,usFirstCharIndex:x,usLastCharIndex:te,ulUnicodeRange1:fe,ulUnicodeRange2:we,ulUnicodeRange3:ve,ulUnicodeRange4:ae,fsSelection:p.tables.os2.fsSelection,sTypoAscender:_e.ascender,sTypoDescender:_e.descender,sTypoLineGap:0,usWinAscent:_e.yMax,usWinDescent:Math.abs(_e.yMin),ulCodePageRange1:1,sxHeight:Hr(p,"xyvw",{yMax:Math.round(_e.ascender/2)}).yMax,sCapHeight:Hr(p,"HIKLEFJMNTZBDPRAGOQSUVWXY",_e).yMax,usDefaultChar:p.hasChar(" ")?32:0,usBreakChar:p.hasChar(" ")?32:0}),at=Fe.make(p.glyphs),vt=q.make(p.glyphs),xt=p.getEnglishName("fontFamily"),ht=p.getEnglishName("fontSubfamily"),yt=xt+" "+ht,Mt=(Mt=p.getEnglishName("postScriptName"))||xt.replace(/\s/g,"")+"-"+ht,Pt={};for(je in p.names)Pt[je]=p.names[je];Pt.uniqueID||(Pt.uniqueID={en:p.getEnglishName("manufacturer")+":"+yt}),Pt.postScriptName||(Pt.postScriptName={en:Mt}),Pt.preferredFamily||(Pt.preferredFamily=p.names.fontFamily),Pt.preferredSubfamily||(Pt.preferredSubfamily=p.names.fontSubfamily);var Vt=[],Gt=Ht.make(Pt,Vt),Vt=0<Vt.length?Ye.make(Vt):void 0,Zt=Br.make(),yt=pr.make(p.glyphs,{version:p.getEnglishName("version"),fullName:yt,familyName:xt,weightName:ht,postScriptName:Mt,unitsPerEm:p.unitsPerEm,fontBBox:[0,_e.yMin,_e.ascender,_e.advanceWidthMax]}),xt=p.metas&&0<Object.keys(p.metas).length?Nr.make(p.metas):void 0,ht=[$e,st,et,tt,Gt,vt,Zt,yt,at];Vt&&ht.push(Vt),p.tables.gsub&&ht.push(Fr.make(p.tables.gsub)),xt&&ht.push(xt);for(var zt=Or((Mt=zr(ht)).encode()),_t=Mt.fields,Bt=!1,wt=0;wt<_t.length;wt+=1)if(_t[wt].name==="head table"){_t[wt].value.checkSumAdjustment=2981146554-zt,Bt=!0;break}if(Bt)return Mt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Or};function Lr(p,x){for(var _=0,M=p.length-1;_<=M;){var A=_+M>>>1,I=p[A].tag;if(I===x)return A;I<x?_=1+A:M=A-1}return-_-1}function Wr(p,x){for(var _=0,M=p.length-1;_<=M;){var A=_+M>>>1,I=p[A];if(I===x)return A;I<x?_=1+A:M=A-1}return-_-1}function qr(p,x){for(var _=0,M=p.length-1;_<=M;){var A,I=_+M>>>1,U=(A=p[I]).start;if(U===x)return A;U<x?_=1+I:M=I-1}if(0<_)return x>(A=p[_-1]).end?0:A}function Sr(p,x){this.font=p,this.tableName=x}function Mr(p){Sr.call(this,p,"gpos")}function Kt(p){Sr.call(this,p,"gsub")}function Xr(p,x,_){for(var M=p.subtables,A=0;A<M.length;A++){var I=M[A];if(I.substFormat===x)return I}if(_)return M.push(_),_}function Yr(p){for(var x=new ArrayBuffer(p.length),_=new Uint8Array(x),M=0;M<p.length;++M)_[M]=p[M];return x}function ar(p,x){if(!p)throw x}function Zr(p,x,_,M,A){var I=0<(x&M)?(I=p.parseByte(),_+(I=x&A?I:-I)):0<(x&A)?_:_+p.parseShort();return I}function Lo(p,x,_){var M,A=new be.Parser(x,_);if(p.numberOfContours=A.parseShort(),p._xMin=A.parseShort(),p._yMin=A.parseShort(),p._xMax=A.parseShort(),p._yMax=A.parseShort(),0<p.numberOfContours){for(var I=p.endPointIndices=[],U=0;U<p.numberOfContours;U+=1)I.push(A.parseUShort());p.instructionLength=A.parseUShort(),p.instructions=[];for(var Z=0;Z<p.instructionLength;Z+=1)p.instructions.push(A.parseByte());for(var re=I[I.length-1]+1,te=[],fe=0;fe<re;fe+=1)if(M=A.parseByte(),te.push(M),0<(8&M))for(var we=A.parseByte(),ve=0;ve<we;ve+=1)te.push(M),fe+=1;if(R.argument(te.length===re,"Bad flags."),0<I.length){var ae,Re=[];if(0<re){for(var Me=0;Me<re;Me+=1)M=te[Me],(ae={}).onCurve=!!(1&M),ae.lastPointOfContour=0<=I.indexOf(Me),Re.push(ae);for(var Pe=0,je=0;je<re;je+=1)M=te[je],(ae=Re[je]).x=Zr(A,M,Pe,2,16),Pe=ae.x;for(var _e=0,$e=0;$e<re;$e+=1)M=te[$e],(ae=Re[$e]).y=Zr(A,M,_e,4,32),_e=ae.y}p.points=Re}else p.points=[]}else if(p.numberOfContours===0)p.points=[];else{p.isComposite=!0,p.points=[],p.components=[];for(var st=!0;st;){te=A.parseUShort();var et={glyphIndex:A.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&te)?0<(2&te)?(et.dx=A.parseShort(),et.dy=A.parseShort()):et.matchedPoints=[A.parseUShort(),A.parseUShort()]:0<(2&te)?(et.dx=A.parseChar(),et.dy=A.parseChar()):et.matchedPoints=[A.parseByte(),A.parseByte()],0<(8&te)?et.xScale=et.yScale=A.parseF2Dot14():0<(64&te)?(et.xScale=A.parseF2Dot14(),et.yScale=A.parseF2Dot14()):0<(128&te)&&(et.xScale=A.parseF2Dot14(),et.scale01=A.parseF2Dot14(),et.scale10=A.parseF2Dot14(),et.yScale=A.parseF2Dot14()),p.components.push(et),st=!!(32&te)}if(256&te){p.instructionLength=A.parseUShort(),p.instructions=[];for(var tt=0;tt<p.instructionLength;tt+=1)p.instructions.push(A.parseByte())}}}function Ar(p,x){for(var _=[],M=0;M<p.length;M+=1){var A=p[M],A={x:x.xScale*A.x+x.scale01*A.y+x.dx,y:x.scale10*A.x+x.yScale*A.y+x.dy,onCurve:A.onCurve,lastPointOfContour:A.lastPointOfContour};_.push(A)}return _}function Qr(p){var x=new Y;if(p)for(var _=function(we){for(var ve=[],ae=[],Re=0;Re<we.length;Re+=1){var Me=we[Re];ae.push(Me),Me.lastPointOfContour&&(ve.push(ae),ae=[])}return R.argument(ae.length===0,"There are still points left in the current contour."),ve}(p),M=0;M<_.length;++M){var A,I=_[M],U=I[I.length-1],Z=I[0];U.onCurve?x.moveTo(U.x,U.y):Z.onCurve?x.moveTo(Z.x,Z.y):(A={x:.5*(U.x+Z.x),y:.5*(U.y+Z.y)},x.moveTo(A.x,A.y));for(var re=0;re<I.length;++re){var te,fe=U,U=Z,Z=I[(re+1)%I.length];U.onCurve?x.lineTo(U.x,U.y):(te=Z,fe.onCurve||(U.x,fe.x,U.y,fe.y),Z.onCurve||(te={x:.5*(U.x+Z.x),y:.5*(U.y+Z.y)}),x.quadraticCurveTo(U.x,U.y,te.x,te.y))}x.closePath()}return x}function Ao(p,x){if(x.isComposite)for(var _=0;_<x.components.length;_+=1){var M=x.components[_],A=p.get(M.glyphIndex);if(A.getPath(),A.points){var I=void 0;if(M.matchedPoints===void 0)I=Ar(A.points,M);else{if(M.matchedPoints[0]>x.points.length-1||M.matchedPoints[1]>A.points.length-1)throw Error("Matched points out of range in "+x.name);var U=x.points[M.matchedPoints[0]],Z=A.points[M.matchedPoints[1]],M={xScale:M.xScale,scale01:M.scale01,scale10:M.scale10,yScale:M.yScale,dx:0,dy:0},Z=Ar([Z],M)[0];M.dx=U.x-Z.x,M.dy=U.y-Z.y,I=Ar(A.points,M)}x.points=x.points.concat(I)}}return Qr(x.points)}(Mr.prototype=Sr.prototype={searchTag:Lr,binSearch:Wr,getTable:function(p){var x=this.font.tables[this.tableName];return x=!x&&p?this.font.tables[this.tableName]=this.createDefaultTable():x},getScriptNames:function(){var p=this.getTable();return p?p.scripts.map(function(x){return x.tag}):[]},getDefaultScriptName:function(){var p=this.getTable();if(p){for(var x=!1,_=0;_<p.scripts.length;_++){var M=p.scripts[_].tag;if(M==="DFLT")return M;M==="latn"&&(x=!0)}return x?"latn":void 0}},getScriptTable:function(p,x){var _,M=this.getTable(x);if(M)return _=M.scripts,0<=(M=Lr(M.scripts,p=p||"DFLT"))?_[M].script:x?(_.splice(-1-M,0,x={tag:p,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),x.script):void 0},getLangSysTable:function(A,x,_){var M,A=this.getScriptTable(A,_);if(A)return x&&x!=="dflt"&&x!=="DFLT"?0<=(M=Lr(A.langSysRecords,x))?A.langSysRecords[M].langSys:_?(A.langSysRecords.splice(-1-M,0,_={tag:x,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),_.langSys):void 0:A.defaultLangSys},getFeatureTable:function(p,x,_,M){if(p=this.getLangSysTable(p,x,M),p){for(var A,I=p.featureIndexes,U=this.font.tables[this.tableName].features,Z=0;Z<I.length;Z++)if((A=U[I[Z]]).tag===_)return A.feature;if(M)return x=U.length,R.assert(x===0||_>=U[x-1].tag,"Features must be added in alphabetical order."),U.push(A={tag:_,feature:{params:0,lookupListIndexes:[]}}),I.push(x),A.feature}},getLookupTables:function(I,x,_,M,A){var I=this.getFeatureTable(I,x,_,A),U=[];if(I){for(var Z,re=I.lookupListIndexes,te=this.font.tables[this.tableName].lookups,fe=0;fe<re.length;fe++)(Z=te[re[fe]]).lookupType===M&&U.push(Z);if(U.length===0&&A)return x=te.length,te.push(Z={lookupType:M,lookupFlag:0,subtables:[],markFilteringSet:void 0}),re.push(x),[Z]}return U},getGlyphClass:function(p,x){switch(p.format){case 1:return p.startGlyph<=x&&x<p.startGlyph+p.classes.length?p.classes[x-p.startGlyph]:0;case 2:var _=qr(p.ranges,x);return _?_.classId:0}},getCoverageIndex:function(p,x){switch(p.format){case 1:var _=Wr(p.glyphs,x);return 0<=_?_:-1;case 2:return _=qr(p.ranges,x),_?_.index+x-_.start:-1}},expandCoverage:function(p){if(p.format===1)return p.glyphs;for(var x=[],_=p.ranges,M=0;M<_.length;M++)for(var A=_[M],I=A.start,U=A.end,Z=I;Z<=U;Z++)x.push(Z);return x}}).init=function(){var p=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(p)},Mr.prototype.getKerningValue=function(p,x,_){for(var M=0;M<p.length;M++)for(var A=p[M].subtables,I=0;I<A.length;I++){var U=A[I],Z=this.getCoverageIndex(U.coverage,x);if(!(Z<0))switch(U.posFormat){case 1:for(var re=U.pairSets[Z],te=0;te<re.length;te++){var fe=re[te];if(fe.secondGlyph===_)return fe.value1&&fe.value1.xAdvance||0}break;case 2:var ve=this.getGlyphClass(U.classDef1,x),we=this.getGlyphClass(U.classDef2,_),ve=U.classRecords[ve][we];return ve.value1&&ve.value1.xAdvance||0}}return 0},Mr.prototype.getKerningTables=function(p,x){if(this.font.tables.gpos)return this.getLookupTables(p,x,"kern",2)},(Kt.prototype=Sr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Kt.prototype.getSingle=function(p,x,_){for(var M=[],A=this.getLookupTables(x,_,p,1),I=0;I<A.length;I++)for(var U=A[I].subtables,Z=0;Z<U.length;Z++){var re=U[Z],te=this.expandCoverage(re.coverage),fe=void 0;if(re.substFormat===1)for(var we=re.deltaGlyphId,fe=0;fe<te.length;fe++){var ve=te[fe];M.push({sub:ve,by:ve+we})}else{var ae=re.substitute;for(fe=0;fe<te.length;fe++)M.push({sub:te[fe],by:ae[fe]})}}return M},Kt.prototype.getAlternates=function(p,x,_){for(var M=[],A=this.getLookupTables(x,_,p,3),I=0;I<A.length;I++)for(var U=A[I].subtables,Z=0;Z<U.length;Z++)for(var re=U[Z],te=this.expandCoverage(re.coverage),fe=re.alternateSets,we=0;we<te.length;we++)M.push({sub:te[we],by:fe[we]});return M},Kt.prototype.getLigatures=function(p,x,_){for(var M=[],A=this.getLookupTables(x,_,p,4),I=0;I<A.length;I++)for(var U=A[I].subtables,Z=0;Z<U.length;Z++)for(var re=U[Z],te=this.expandCoverage(re.coverage),fe=re.ligatureSets,we=0;we<te.length;we++)for(var ve=te[we],ae=fe[we],Re=0;Re<ae.length;Re++){var Me=ae[Re];M.push({sub:[ve].concat(Me.components),by:Me.ligGlyph})}return M},Kt.prototype.addSingle=function(p,x,_,M){_=Xr(this.getLookupTables(_,M,p,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(_.coverage.format===1,"Ligature: unable to modify coverage table format "+_.coverage.format),M=x.sub,p=this.binSearch(_.coverage.glyphs,M),p<0&&(_.coverage.glyphs.splice(p=-1-p,0,M),_.substitute.splice(p,0,0)),_.substitute[p]=x.by},Kt.prototype.addAlternate=function(p,x,_,M){_=Xr(this.getLookupTables(_,M,p,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(_.coverage.format===1,"Ligature: unable to modify coverage table format "+_.coverage.format),M=x.sub,p=this.binSearch(_.coverage.glyphs,M),p<0&&(_.coverage.glyphs.splice(p=-1-p,0,M),_.alternateSets.splice(p,0,0)),_.alternateSets[p]=x.by},Kt.prototype.addLigature=function(I,re,Z,A){var Z=this.getLookupTables(Z,A,I,4,!0)[0],A=Z.subtables[0],I=(A||(Z.subtables[0]=A={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),re.sub[0]),U=re.sub.slice(1),Z={ligGlyph:re.by,components:U},re=this.binSearch(A.coverage.glyphs,I);if(0<=re){for(var te=A.ligatureSets[re],fe=0;fe<te.length;fe++)if(function(we,ve){var ae=we.length;if(ae===ve.length){for(var Re=0;Re<ae;Re++)if(we[Re]!==ve[Re])return;return 1}}(te[fe].components,U))return;te.push(Z)}else A.coverage.glyphs.splice(re=-1-re,0,I),A.ligatureSets.splice(re,0,[Z])},Kt.prototype.getFeature=function(p,x,_){if(/ss\d\d/.test(p))return this.getSingle(p,x,_);switch(p){case"aalt":case"salt":return this.getSingle(p,x,_).concat(this.getAlternates(p,x,_));case"dlig":case"liga":case"rlig":return this.getLigatures(p,x,_)}},Kt.prototype.add=function(p,x,_,M){if(/ss\d\d/.test(p))return this.addSingle(p,x,_,M);switch(p){case"aalt":case"salt":return typeof x.by=="number"?this.addSingle(p,x,_,M):this.addAlternate(p,x,_,M);case"dlig":case"liga":case"rlig":return this.addLigature(p,x,_,M)}};var Jr={getPath:Qr,parse:function(p,x,_,M){for(var A=new Ke.GlyphSet(M),I=0;I<_.length-1;I+=1){var U=_[I];U!==_[I+1]?A.push(I,Ke.ttfGlyphLoader(M,I,Lo,p,x+U,Ao)):A.push(I,Ke.glyphLoader(M,I))}return A}};function Kr(p){this.font=p,this.getCommands=function(x){return Jr.getPath(x).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ko(p){return p}function $r(p){return Math.sign(p)*Math.round(Math.abs(p))}function Ro(p){return Math.sign(p)*Math.round(Math.abs(2*p))/2}function Io(p){return Math.sign(p)*(Math.round(Math.abs(p)+.5)-.5)}function Do(p){return Math.sign(p)*Math.ceil(Math.abs(p))}function Uo(p){return Math.sign(p)*Math.floor(Math.abs(p))}function eo(p){var x=this.srPeriod,_=this.srPhase,M=1;return p<0&&(p=-p,M=-1),p+=this.srThreshold-_,p=Math.trunc(p/x)*x,(p+=_)<0?_*M:p*M}var $t={x:1,y:0,axis:"x",distance:function(p,x,_,M){return(_?p.xo:p.x)-(M?x.xo:x.x)},interpolate:function(p,x,_,M){var A,I,U,Z,re,te,fe;if(!M||M===this)return A=p.xo-x.xo,I=p.xo-_.xo,re=x.x-x.xo,te=_.x-_.xo,(fe=(U=Math.abs(A))+(Z=Math.abs(I)))===0?void(p.x=p.xo+(re+te)/2):void(p.x=p.xo+(re*Z+te*U)/fe);A=M.distance(p,x,!0,!0),I=M.distance(p,_,!0,!0),re=M.distance(x,x,!1,!0),te=M.distance(_,_,!1,!0),(fe=(U=Math.abs(A))+(Z=Math.abs(I)))===0?$t.setRelative(p,p,(re+te)/2,M,!0):$t.setRelative(p,p,(re*Z+te*U)/fe,M,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(p,x,_,M,A){var I,U;M&&M!==this?(I=A?x.xo:x.x,U=A?x.yo:x.y,I+=_*M.x,U+=_*M.y,p.x=I+(p.y-U)/M.normalSlope):p.x=(A?x.xo:x.x)+_},slope:0,touch:function(p){p.xTouched=!0},touched:function(p){return p.xTouched},untouch:function(p){p.xTouched=!1}},er={x:0,y:1,axis:"y",distance:function(p,x,_,M){return(_?p.yo:p.y)-(M?x.yo:x.y)},interpolate:function(p,x,_,M){var A,I,U,Z,re,te,fe;if(!M||M===this)return A=p.yo-x.yo,I=p.yo-_.yo,re=x.y-x.yo,te=_.y-_.yo,(fe=(U=Math.abs(A))+(Z=Math.abs(I)))===0?void(p.y=p.yo+(re+te)/2):void(p.y=p.yo+(re*Z+te*U)/fe);A=M.distance(p,x,!0,!0),I=M.distance(p,_,!0,!0),re=M.distance(x,x,!1,!0),te=M.distance(_,_,!1,!0),(fe=(U=Math.abs(A))+(Z=Math.abs(I)))===0?er.setRelative(p,p,(re+te)/2,M,!0):er.setRelative(p,p,(re*Z+te*U)/fe,M,!0)},normalSlope:0,setRelative:function(p,x,_,M,A){var I,U;M&&M!==this?(I=A?x.xo:x.x,U=A?x.yo:x.y,I+=_*M.x,U+=_*M.y,p.y=U+M.normalSlope*(p.x-I)):p.y=(A?x.yo:x.y)+_},slope:Number.POSITIVE_INFINITY,touch:function(p){p.yTouched=!0},touched:function(p){return p.yTouched},untouch:function(p){p.yTouched=!1}};function yr(p,x){this.x=p,this.y=x,this.axis=void 0,this.slope=x/p,this.normalSlope=-p/x,Object.freeze(this)}function gr(p,x){var _=Math.sqrt(p*p+x*x);return x/=_,(p/=_)===1&&x===0?$t:p===0&&x===1?er:new yr(p,x)}function tr(p,x,_,M){this.x=this.xo=Math.round(64*p)/64,this.y=this.yo=Math.round(64*x)/64,this.lastPointOfContour=_,this.onCurve=M,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze($t),Object.freeze(er),yr.prototype.distance=function(p,x,_,M){return this.x*$t.distance(p,x,_,M)+this.y*er.distance(p,x,_,M)},yr.prototype.interpolate=function(p,A,I,M){var U=M.distance(p,A,!0,!0),Z=M.distance(p,I,!0,!0),A=M.distance(A,A,!1,!0),I=M.distance(I,I,!1,!0),U=Math.abs(U),Z=Math.abs(Z),re=U+Z;re===0?this.setRelative(p,p,(A+I)/2,M,!0):this.setRelative(p,p,(A*Z+I*U)/re,M,!0)},yr.prototype.setRelative=function(p,I,re,te,Z){var U=Z?I.xo:I.x,Z=Z?I.yo:I.y,I=U+re*(te=te||this).x,U=Z+re*te.y,Z=te.normalSlope,re=this.slope,te=p.x,fe=p.y;p.x=(re*te-Z*I+U-fe)/(re-Z),p.y=re*(p.x-te)+fe},yr.prototype.touch=function(p){p.xTouched=!0,p.yTouched=!0},tr.prototype.nextTouched=function(p){for(var x=this.nextPointOnContour;!p.touched(x)&&x!==this;)x=x.nextPointOnContour;return x},tr.prototype.prevTouched=function(p){for(var x=this.prevPointOnContour;!p.touched(x)&&x!==this;)x=x.prevPointOnContour;return x};var vr=Object.freeze(new tr(0,0)),Bo={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function rr(p,x){switch(this.env=p,this.stack=[],this.prog=x,p){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=$t,this.round=$r}}function Tr(p){for(var x=p.tZone=new Array(p.gZone.length),_=0;_<x.length;_++)x[_]=new tr(0,0)}function to(p,x){var _,M=p.prog,A=p.ip,I=1;do if((_=M[++A])===88)I++;else if(_===89)I--;else if(_===64)A+=M[A+1]+1;else if(_===65)A+=2*M[A+1]+1;else if(176<=_&&_<=183)A+=_-176+1;else if(184<=_&&_<=191)A+=2*(_-184+1);else if(x&&I===1&&_===27)break;while(0<I);p.ip=A}function ro(p,x){l.DEBUG&&console.log(x.step,"SVTCA["+p.axis+"]"),x.fv=x.pv=x.dpv=p}function oo(p,x){l.DEBUG&&console.log(x.step,"SPVTCA["+p.axis+"]"),x.pv=x.dpv=p}function no(p,x){l.DEBUG&&console.log(x.step,"SFVTCA["+p.axis+"]"),x.fv=p}function so(p,x){var _,A=x.stack,M=A.pop(),A=A.pop(),I=x.z2[M],U=x.z1[A];l.DEBUG&&console.log("SPVTL["+p+"]",M,A),M=p?(_=I.y-U.y,U.x-I.x):(_=U.x-I.x,U.y-I.y),x.pv=x.dpv=gr(_,M)}function io(p,x){var _,A=x.stack,M=A.pop(),A=A.pop(),I=x.z2[M],U=x.z1[A];l.DEBUG&&console.log("SFVTL["+p+"]",M,A),M=p?(_=I.y-U.y,U.x-I.x):(_=U.x-I.x,U.y-I.y),x.fv=gr(_,M)}function kr(p){l.DEBUG&&console.log(p.step,"POP[]"),p.stack.pop()}function ao(p,x){var _=x.stack.pop(),M=x.z0[_],A=x.fv,I=x.pv,U=(l.DEBUG&&console.log(x.step,"MDAP["+p+"]",_),I.distance(M,vr));p&&(U=x.round(U)),A.setRelative(M,vr,U,I),A.touch(M),x.rp0=x.rp1=_}function lo(p,x){var _,M,A,I=x.z2,U=I.length-2;l.DEBUG&&console.log(x.step,"IUP["+p.axis+"]");for(var Z=0;Z<U;Z++)_=I[Z],p.touched(_)||(M=_.prevTouched(p))!==_&&(M===(A=_.nextTouched(p))&&p.setRelative(_,_,p.distance(M,M,!1,!0),p,!0),p.interpolate(_,M,A,p))}function uo(p,x){for(var _=x.stack,M=p?x.rp1:x.rp2,A=(p?x.z0:x.z1)[M],I=x.fv,U=x.pv,Z=x.loop,re=x.z2;Z--;){var te=_.pop(),fe=re[te],we=U.distance(A,A,!1,!0);I.setRelative(fe,fe,we,U),I.touch(fe),l.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-Z)+": ":"")+"SHP["+(p?"rp1":"rp2")+"]",te)}x.loop=1}function co(p,x){for(var _=x.stack,U=p?x.rp1:x.rp2,M=(p?x.z0:x.z1)[U],A=x.fv,I=x.pv,U=_.pop(),Z=x.z2[x.contours[U]],re=Z,te=(l.DEBUG&&console.log(x.step,"SHC["+p+"]",U),I.distance(M,M,!1,!0));re!==M&&A.setRelative(re,re,te,I),(re=re.nextPointOnContour)!==Z;);}function fo(p,x){var _,M,Z=x.stack,A=p?x.rp1:x.rp2,A=(p?x.z0:x.z1)[A],I=x.fv,U=x.pv,Z=Z.pop();switch(l.DEBUG&&console.log(x.step,"SHZ["+p+"]",Z),Z){case 0:_=x.tZone;break;case 1:_=x.gZone;break;default:throw new Error("Invalid zone")}for(var re=U.distance(A,A,!1,!0),te=_.length-2,fe=0;fe<te;fe++)M=_[fe],I.setRelative(M,M,re,U)}function ho(p,x){var M=x.stack,_=M.pop()/64,M=M.pop(),A=x.z1[M],I=x.z0[x.rp0],U=x.fv,Z=x.pv;U.setRelative(A,I,_,Z),U.touch(A),l.DEBUG&&console.log(x.step,"MSIRP["+p+"]",_,M),x.rp1=x.rp0,x.rp2=M,p&&(x.rp0=M)}function po(p,x){var _=x.stack,Z=_.pop(),_=_.pop(),M=x.z0[_],A=x.fv,I=x.pv,U=x.cvt[Z],Z=(l.DEBUG&&console.log(x.step,"MIAP["+p+"]",Z,"(",U,")",_),I.distance(M,vr));p&&(Math.abs(Z-U)<x.cvCutIn&&(Z=U),Z=x.round(Z)),A.setRelative(M,vr,Z,I),x.zp0===0&&(M.xo=M.x,M.yo=M.y),A.touch(M),x.rp0=x.rp1=_}function mo(p,x){var _=x.stack,M=_.pop(),A=x.z2[M];l.DEBUG&&console.log(x.step,"GC["+p+"]",M),_.push(64*x.dpv.distance(A,vr,p,!1))}function yo(p,x){var M=x.stack,_=M.pop(),M=M.pop(),A=x.z1[_],I=x.z0[M],I=x.dpv.distance(I,A,p,p);l.DEBUG&&console.log(x.step,"MD["+p+"]",_,M,"->",I),x.stack.push(Math.round(64*I))}function Rr(p,x){var _=x.stack,M=_.pop(),A=x.fv,I=x.pv,U=x.ppem,Z=x.deltaBase+16*(p-1),re=x.deltaShift,te=x.z0;l.DEBUG&&console.log(x.step,"DELTAP["+p+"]",M,_);for(var fe=0;fe<M;fe++){var we=_.pop(),ve=_.pop();Z+((240&ve)>>4)===U&&(0<=(ve=(15&ve)-8)&&ve++,l.DEBUG&&console.log(x.step,"DELTAPFIX",we,"by",ve*re),we=te[we],A.setRelative(we,we,ve*re,I))}}function Er(p,x){var _=x.stack,M=_.pop();l.DEBUG&&console.log(x.step,"ROUND[]"),_.push(64*x.round(M/64))}function Ir(p,x){var _=x.stack,M=_.pop(),A=x.ppem,I=x.deltaBase+16*(p-1),U=x.deltaShift;l.DEBUG&&console.log(x.step,"DELTAC["+p+"]",M,_);for(var Z=0;Z<M;Z++){var re=_.pop(),te=_.pop();I+((240&te)>>4)===A&&(0<=(te=(15&te)-8)&&te++,te=te*U,l.DEBUG&&console.log(x.step,"DELTACFIX",re,"by",te),x.cvt[re]+=te)}}function go(p,x){var _,A=x.stack,M=A.pop(),A=A.pop(),I=x.z2[M],U=x.z1[A];l.DEBUG&&console.log(x.step,"SDPVTL["+p+"]",M,A),M=p?(_=I.y-U.y,U.x-I.x):(_=U.x-I.x,U.y-I.y),x.dpv=gr(_,M)}function or(p,x){var _=x.stack,M=x.prog,A=x.ip;l.DEBUG&&console.log(x.step,"PUSHB["+p+"]");for(var I=0;I<p;I++)_.push(M[++A]);x.ip=A}function nr(p,x){var _=x.ip,M=x.prog,A=x.stack;l.DEBUG&&console.log(x.ip,"PUSHW["+p+"]");for(var I=0;I<p;I++){var U=M[++_]<<8|M[++_];32768&U&&(U=-(1+(65535^U))),A.push(U)}x.ip=_}function Je(p,x,_,M,A,I){var U,Z,te=I.stack,re=p&&te.pop(),te=te.pop(),fe=I.rp0,fe=I.z0[fe],we=I.z1[te],ve=I.minDis,ae=I.fv,Re=I.dpv,Me=U=Re.distance(we,fe,!0,!0),Pe=0<=Me?1:-1;Me=Math.abs(Me),p&&(Z=I.cvt[re],M&&Math.abs(Me-Z)<I.cvCutIn&&(Me=Z)),_&&Me<ve&&(Me=ve),M&&(Me=I.round(Me)),ae.setRelative(we,fe,Pe*Me,Re),ae.touch(we),l.DEBUG&&console.log(I.step,(p?"MIRP[":"MDRP[")+(x?"M":"m")+(_?">":"_")+(M?"R":"_")+(A===0?"Gr":A===1?"Bl":A===2?"Wh":"")+"]",p?re+"("+I.cvt[re]+","+Z+")":"",te,"(d =",U,"->",Pe*Me,")"),I.rp1=I.rp0,I.rp2=te,x&&(I.rp0=te)}Kr.prototype.exec=function(p,x){if(typeof x!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var _=this.font,M=this._prepState;if(!M||M.ppem!==x){var A=this._fpgmState;if(!A){rr.prototype=Bo,(A=this._fpgmState=new rr("fpgm",_.tables.fpgm)).funcs=[],A.font=_,l.DEBUG&&(console.log("---EXEC FPGM---"),A.step=-1);try{lr(A)}catch(te){return console.log("Hinting error in FPGM:"+te),void(this._errorState=3)}}rr.prototype=A,(M=this._prepState=new rr("prep",_.tables.prep)).ppem=x;var I=_.tables.cvt;if(I)for(var U=M.cvt=new Array(I.length),Z=x/_.unitsPerEm,re=0;re<I.length;re++)U[re]=I[re]*Z;else M.cvt=[];l.DEBUG&&(console.log("---EXEC PREP---"),M.step=-1);try{lr(M)}catch(te){this._errorState<2&&console.log("Hinting error in PREP:"+te),this._errorState=2}}if(!(1<this._errorState))try{return Fo(p,M)}catch(te){this._errorState<1&&(console.log("Hinting error:"+te),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Fo=function(p,x){var _=x.ppem/x.font.unitsPerEm,M=_,A=p.components;if(rr.prototype=x,A){for(var I=x.font,U=[],Z=[],re=0;re<A.length;re++){var te=A[re],fe=I.glyphs.get(te.glyphIndex),we=new rr("glyf",fe.instructions);l.DEBUG&&(console.log("---EXEC COMP "+re+"---"),we.step=-1),vo(fe,we,_,M);for(var ve=Math.round(te.dx*_),ae=Math.round(te.dy*M),Re=we.gZone,Me=we.contours,Pe=0;Pe<Re.length;Pe++){var je=Re[Pe];je.xTouched=je.yTouched=!1,je.xo=je.x=je.x+ve,je.yo=je.y=je.y+ae}var _e=U.length;U.push.apply(U,Re);for(var $e=0;$e<Me.length;$e++)Z.push(Me[$e]+_e)}p.instructions&&!we.inhibitGridFit&&((we=new rr("glyf",p.instructions)).gZone=we.z0=we.z1=we.z2=U,we.contours=Z,U.push(new tr(0,0),new tr(Math.round(p.advanceWidth*_),0)),l.DEBUG&&(console.log("---EXEC COMPOSITE---"),we.step=-1),lr(we),U.length-=2)}else we=new rr("glyf",p.instructions),l.DEBUG&&(console.log("---EXEC GLYPH---"),we.step=-1),vo(p,we,_,M),U=we.gZone;return U},vo=function(p,x,_,M){for(var A,I,U,Z=p.points||[],re=Z.length,te=x.gZone=x.z0=x.z1=x.z2=[],fe=x.contours=[],we=0;we<re;we++)A=Z[we],te[we]=new tr(A.x*_,A.y*M,A.lastPointOfContour,A.onCurve);for(var ve=0;ve<re;ve++)A=te[ve],I||(I=A,fe.push(ve)),A.lastPointOfContour?((A.nextPointOnContour=I).prevPointOnContour=A,I=void 0):(U=te[ve+1],(A.nextPointOnContour=U).prevPointOnContour=A);if(!x.inhibitGridFit){if(l.DEBUG){console.log("PROCESSING GLYPH",x.stack);for(var ae=0;ae<re;ae++)console.log(ae,te[ae].x,te[ae].y)}if(te.push(new tr(0,0),new tr(Math.round(p.advanceWidth*_),0)),lr(x),te.length-=2,l.DEBUG){console.log("FINISHED GLYPH",x.stack);for(var Re=0;Re<re;Re++)console.log(Re,te[Re].x,te[Re].y)}}},lr=function(p){var x=p.prog;if(x){var _,M=x.length;for(p.ip=0;p.ip<M;p.ip++){if(l.DEBUG&&p.step++,!(_=No[x[p.ip]]))throw new Error("unknown instruction: 0x"+Number(x[p.ip]).toString(16));_(p)}}},No=[ro.bind(void 0,er),ro.bind(void 0,$t),oo.bind(void 0,er),oo.bind(void 0,$t),no.bind(void 0,er),no.bind(void 0,$t),so.bind(void 0,0),so.bind(void 0,1),io.bind(void 0,0),io.bind(void 0,1),function(p){var x=(_=p.stack).pop(),_=_.pop();l.DEBUG&&console.log(p.step,"SPVFS[]",x,_),p.pv=p.dpv=gr(_,x)},function(p){var x=(_=p.stack).pop(),_=_.pop();l.DEBUG&&console.log(p.step,"SPVFS[]",x,_),p.fv=gr(_,x)},function(p){var x=p.stack,_=p.pv;l.DEBUG&&console.log(p.step,"GPV[]"),x.push(16384*_.x),x.push(16384*_.y)},function(p){var x=p.stack,_=p.fv;l.DEBUG&&console.log(p.step,"GFV[]"),x.push(16384*_.x),x.push(16384*_.y)},function(p){p.fv=p.pv,l.DEBUG&&console.log(p.step,"SFVTPV[]")},function(x){var _=(U=x.stack).pop(),M=U.pop(),A=U.pop(),I=U.pop(),U=U.pop(),re=x.z0,fe=x.z1,Z=re[_],re=re[M],te=fe[A],fe=fe[I],x=x.z2[U],_=(l.DEBUG&&console.log("ISECT[], ",_,M,A,I,U),Z.x),M=Z.y,A=re.x,I=re.y,U=te.x,Z=te.y,re=fe.x,te=fe.y,fe=(_-A)*(Z-te)-(M-I)*(U-re),we=_*I-M*A,ve=U*te-Z*re;x.x=(we*(U-re)-ve*(_-A))/fe,x.y=(we*(Z-te)-ve*(M-I))/fe},function(p){p.rp0=p.stack.pop(),l.DEBUG&&console.log(p.step,"SRP0[]",p.rp0)},function(p){p.rp1=p.stack.pop(),l.DEBUG&&console.log(p.step,"SRP1[]",p.rp1)},function(p){p.rp2=p.stack.pop(),l.DEBUG&&console.log(p.step,"SRP2[]",p.rp2)},function(p){var x=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"SZP0[]",x),p.zp0=x){case 0:p.tZone||Tr(p),p.z0=p.tZone;break;case 1:p.z0=p.gZone;break;default:throw new Error("Invalid zone pointer")}},function(p){var x=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"SZP1[]",x),p.zp1=x){case 0:p.tZone||Tr(p),p.z1=p.tZone;break;case 1:p.z1=p.gZone;break;default:throw new Error("Invalid zone pointer")}},function(p){var x=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"SZP2[]",x),p.zp2=x){case 0:p.tZone||Tr(p),p.z2=p.tZone;break;case 1:p.z2=p.gZone;break;default:throw new Error("Invalid zone pointer")}},function(p){var x=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"SZPS[]",x),p.zp0=p.zp1=p.zp2=x){case 0:p.tZone||Tr(p),p.z0=p.z1=p.z2=p.tZone;break;case 1:p.z0=p.z1=p.z2=p.gZone;break;default:throw new Error("Invalid zone pointer")}},function(p){p.loop=p.stack.pop(),l.DEBUG&&console.log(p.step,"SLOOP[]",p.loop)},function(p){l.DEBUG&&console.log(p.step,"RTG[]"),p.round=$r},function(p){l.DEBUG&&console.log(p.step,"RTHG[]"),p.round=Io},function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"SMD[]",x),p.minDis=x/64},function(p){l.DEBUG&&console.log(p.step,"ELSE[]"),to(p,!1)},function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"JMPR[]",x),p.ip+=x-1},function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"SCVTCI[]",x),p.cvCutIn=x/64},void 0,void 0,function(p){var x=p.stack;l.DEBUG&&console.log(p.step,"DUP[]"),x.push(x[x.length-1])},kr,function(p){l.DEBUG&&console.log(p.step,"CLEAR[]"),p.stack.length=0},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"SWAP[]"),x.push(_),x.push(M)},function(p){var x=p.stack;l.DEBUG&&console.log(p.step,"DEPTH[]"),x.push(x.length)},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"CINDEX[]",_),x.push(x[x.length-_])},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"MINDEX[]",_),x.push(x.splice(x.length-_,1)[0])},void 0,void 0,void 0,function(p){var x=(M=p.stack).pop(),_=M.pop(),M=(l.DEBUG&&console.log(p.step,"LOOPCALL[]",x,_),p.ip),A=p.prog;p.prog=p.funcs[x];for(var I=0;I<_;I++)lr(p),l.DEBUG&&console.log(++p.step,I+1<_?"next loopcall":"done loopcall",I);p.ip=M,p.prog=A},function(p){var x=p.stack.pop(),_=(l.DEBUG&&console.log(p.step,"CALL[]",x),p.ip),M=p.prog;p.prog=p.funcs[x],lr(p),p.ip=_,p.prog=M,l.DEBUG&&console.log(++p.step,"returning from",x)},function(p){if(p.env!=="fpgm")throw new Error("FDEF not allowed here");var M=p.stack,x=p.prog,_=p.ip,M=M.pop(),A=_;for(l.DEBUG&&console.log(p.step,"FDEF[]",M);x[++_]!==45;);p.ip=_,p.funcs[M]=x.slice(A+1,_)},void 0,ao.bind(void 0,0),ao.bind(void 0,1),lo.bind(void 0,er),lo.bind(void 0,$t),uo.bind(void 0,0),uo.bind(void 0,1),co.bind(void 0,0),co.bind(void 0,1),fo.bind(void 0,0),fo.bind(void 0,1),function(p){for(var x=p.stack,_=p.loop,M=p.fv,A=x.pop()/64,I=p.z2;_--;){var U=x.pop(),Z=I[U];l.DEBUG&&console.log(p.step,(1<p.loop?"loop "+(p.loop-_)+": ":"")+"SHPIX[]",U,A),M.setRelative(Z,Z,A),M.touch(Z)}p.loop=1},function(p){for(var x=p.stack,_=p.rp1,M=p.rp2,A=p.loop,I=p.z0[_],U=p.z1[M],Z=p.fv,re=p.dpv,te=p.z2;A--;){var fe=x.pop(),we=te[fe];l.DEBUG&&console.log(p.step,(1<p.loop?"loop "+(p.loop-A)+": ":"")+"IP[]",fe,_,"<->",M),Z.interpolate(we,I,U,re),Z.touch(we)}p.loop=1},ho.bind(void 0,0),ho.bind(void 0,1),function(p){for(var x=p.stack,_=p.rp0,M=p.z0[_],A=p.loop,I=p.fv,U=p.pv,Z=p.z1;A--;){var re=x.pop(),te=Z[re];l.DEBUG&&console.log(p.step,(1<p.loop?"loop "+(p.loop-A)+": ":"")+"ALIGNRP[]",re),I.setRelative(te,M,0,U),I.touch(te)}p.loop=1},function(p){l.DEBUG&&console.log(p.step,"RTDG[]"),p.round=Ro},po.bind(void 0,0),po.bind(void 0,1),function(p){var x=p.prog,_=p.ip,M=p.stack,A=x[++_];l.DEBUG&&console.log(p.step,"NPUSHB[]",A);for(var I=0;I<A;I++)M.push(x[++_]);p.ip=_},function(p){var x=p.ip,_=p.prog,M=p.stack,A=_[++x];l.DEBUG&&console.log(p.step,"NPUSHW[]",A);for(var I=0;I<A;I++){var U=_[++x]<<8|_[++x];32768&U&&(U=-(1+(65535^U))),M.push(U)}p.ip=x},function(p){var M=p.stack,x=(x=p.store)||(p.store=[]),_=M.pop(),M=M.pop();l.DEBUG&&console.log(p.step,"WS",_,M),x[M]=_},function(A){var x=A.stack,_=A.store,M=x.pop(),A=(l.DEBUG&&console.log(A.step,"RS",M),_&&_[M]||0);x.push(A)},function(p){var x=(_=p.stack).pop(),_=_.pop();l.DEBUG&&console.log(p.step,"WCVTP",x,_),p.cvt[_]=x/64},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"RCVT",_),x.push(64*p.cvt[_])},mo.bind(void 0,0),mo.bind(void 0,1),void 0,yo.bind(void 0,0),yo.bind(void 0,1),function(p){l.DEBUG&&console.log(p.step,"MPPEM[]"),p.stack.push(p.ppem)},void 0,function(p){l.DEBUG&&console.log(p.step,"FLIPON[]"),p.autoFlip=!0},void 0,void 0,function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"LT[]",_,M),x.push(M<_?1:0)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"LTEQ[]",_,M),x.push(M<=_?1:0)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"GT[]",_,M),x.push(_<M?1:0)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"GTEQ[]",_,M),x.push(_<=M?1:0)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"EQ[]",_,M),x.push(_===M?1:0)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"NEQ[]",_,M),x.push(_!==M?1:0)},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"ODD[]",_),x.push(Math.trunc(_)%2?1:0)},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"EVEN[]",_),x.push(Math.trunc(_)%2?0:1)},function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"IF[]",x),x||(to(p,!0),l.DEBUG&&console.log(p.step,"EIF[]"))},function(p){l.DEBUG&&console.log(p.step,"EIF[]")},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"AND[]",_,M),x.push(_&&M?1:0)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"OR[]",_,M),x.push(_||M?1:0)},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"NOT[]",_),x.push(_?0:1)},Rr.bind(void 0,1),function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"SDB[]",x),p.deltaBase=x},function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"SDS[]",x),p.deltaShift=Math.pow(.5,x)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"ADD[]",_,M),x.push(M+_)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"SUB[]",_,M),x.push(M-_)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"DIV[]",_,M),x.push(64*M/_)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"MUL[]",_,M),x.push(M*_/64)},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"ABS[]",_),x.push(Math.abs(_))},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"NEG[]",_),x.push(-_)},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"FLOOR[]",_),x.push(64*Math.floor(_/64))},function(p){var x=p.stack,_=x.pop();l.DEBUG&&console.log(p.step,"CEILING[]",_),x.push(64*Math.ceil(_/64))},Er.bind(void 0,0),Er.bind(void 0,1),Er.bind(void 0,2),Er.bind(void 0,3),void 0,void 0,void 0,void 0,function(p){var x=(_=p.stack).pop(),_=_.pop();l.DEBUG&&console.log(p.step,"WCVTF[]",x,_),p.cvt[_]=x*p.ppem/p.font.unitsPerEm},Rr.bind(void 0,2),Rr.bind(void 0,3),Ir.bind(void 0,1),Ir.bind(void 0,2),Ir.bind(void 0,3),function(p){var x,_=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"SROUND[]",_),p.round=eo,192&_){case 0:x=.5;break;case 64:x=1;break;case 128:x=2;break;default:throw new Error("invalid SROUND value")}switch(p.srPeriod=x,48&_){case 0:p.srPhase=0;break;case 16:p.srPhase=.25*x;break;case 32:p.srPhase=.5*x;break;case 48:p.srPhase=.75*x;break;default:throw new Error("invalid SROUND value")}p.srThreshold=(_&=15)===0?0:(_/8-.5)*x},function(p){var x,_=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"S45ROUND[]",_),p.round=eo,192&_){case 0:x=Math.sqrt(2)/2;break;case 64:x=Math.sqrt(2);break;case 128:x=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(p.srPeriod=x,48&_){case 0:p.srPhase=0;break;case 16:p.srPhase=.25*x;break;case 32:p.srPhase=.5*x;break;case 48:p.srPhase=.75*x;break;default:throw new Error("invalid S45ROUND value")}p.srThreshold=(_&=15)===0?0:(_/8-.5)*x},void 0,void 0,function(p){l.DEBUG&&console.log(p.step,"ROFF[]"),p.round=ko},void 0,function(p){l.DEBUG&&console.log(p.step,"RUTG[]"),p.round=Do},function(p){l.DEBUG&&console.log(p.step,"RDTG[]"),p.round=Uo},kr,kr,void 0,void 0,void 0,void 0,void 0,function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"SCANCTRL[]",x)},go.bind(void 0,0),go.bind(void 0,1),function(p){var x=p.stack,_=x.pop(),M=0;l.DEBUG&&console.log(p.step,"GETINFO[]",_),1&_&&(M=35),32&_&&(M|=4096),x.push(M)},void 0,function(p){var x=p.stack,_=x.pop(),M=x.pop(),A=x.pop();l.DEBUG&&console.log(p.step,"ROLL[]"),x.push(M),x.push(_),x.push(A)},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"MAX[]",_,M),x.push(Math.max(M,_))},function(p){var x=p.stack,_=x.pop(),M=x.pop();l.DEBUG&&console.log(p.step,"MIN[]",_,M),x.push(Math.min(M,_))},function(p){var x=p.stack.pop();l.DEBUG&&console.log(p.step,"SCANTYPE[]",x)},function(p){var x=p.stack.pop(),_=p.stack.pop();switch(l.DEBUG&&console.log(p.step,"INSTCTRL[]",x,_),x){case 1:return void(p.inhibitGridFit=!!_);case 2:return void(p.ignoreCvt=!!_);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,or.bind(void 0,1),or.bind(void 0,2),or.bind(void 0,3),or.bind(void 0,4),or.bind(void 0,5),or.bind(void 0,6),or.bind(void 0,7),or.bind(void 0,8),nr.bind(void 0,1),nr.bind(void 0,2),nr.bind(void 0,3),nr.bind(void 0,4),nr.bind(void 0,5),nr.bind(void 0,6),nr.bind(void 0,7),nr.bind(void 0,8),Je.bind(void 0,0,0,0,0,0),Je.bind(void 0,0,0,0,0,1),Je.bind(void 0,0,0,0,0,2),Je.bind(void 0,0,0,0,0,3),Je.bind(void 0,0,0,0,1,0),Je.bind(void 0,0,0,0,1,1),Je.bind(void 0,0,0,0,1,2),Je.bind(void 0,0,0,0,1,3),Je.bind(void 0,0,0,1,0,0),Je.bind(void 0,0,0,1,0,1),Je.bind(void 0,0,0,1,0,2),Je.bind(void 0,0,0,1,0,3),Je.bind(void 0,0,0,1,1,0),Je.bind(void 0,0,0,1,1,1),Je.bind(void 0,0,0,1,1,2),Je.bind(void 0,0,0,1,1,3),Je.bind(void 0,0,1,0,0,0),Je.bind(void 0,0,1,0,0,1),Je.bind(void 0,0,1,0,0,2),Je.bind(void 0,0,1,0,0,3),Je.bind(void 0,0,1,0,1,0),Je.bind(void 0,0,1,0,1,1),Je.bind(void 0,0,1,0,1,2),Je.bind(void 0,0,1,0,1,3),Je.bind(void 0,0,1,1,0,0),Je.bind(void 0,0,1,1,0,1),Je.bind(void 0,0,1,1,0,2),Je.bind(void 0,0,1,1,0,3),Je.bind(void 0,0,1,1,1,0),Je.bind(void 0,0,1,1,1,1),Je.bind(void 0,0,1,1,1,2),Je.bind(void 0,0,1,1,1,3),Je.bind(void 0,1,0,0,0,0),Je.bind(void 0,1,0,0,0,1),Je.bind(void 0,1,0,0,0,2),Je.bind(void 0,1,0,0,0,3),Je.bind(void 0,1,0,0,1,0),Je.bind(void 0,1,0,0,1,1),Je.bind(void 0,1,0,0,1,2),Je.bind(void 0,1,0,0,1,3),Je.bind(void 0,1,0,1,0,0),Je.bind(void 0,1,0,1,0,1),Je.bind(void 0,1,0,1,0,2),Je.bind(void 0,1,0,1,0,3),Je.bind(void 0,1,0,1,1,0),Je.bind(void 0,1,0,1,1,1),Je.bind(void 0,1,0,1,1,2),Je.bind(void 0,1,0,1,1,3),Je.bind(void 0,1,1,0,0,0),Je.bind(void 0,1,1,0,0,1),Je.bind(void 0,1,1,0,0,2),Je.bind(void 0,1,1,0,0,3),Je.bind(void 0,1,1,0,1,0),Je.bind(void 0,1,1,0,1,1),Je.bind(void 0,1,1,0,1,2),Je.bind(void 0,1,1,0,1,3),Je.bind(void 0,1,1,1,0,0),Je.bind(void 0,1,1,1,0,1),Je.bind(void 0,1,1,1,0,2),Je.bind(void 0,1,1,1,0,3),Je.bind(void 0,1,1,1,1,0),Je.bind(void 0,1,1,1,1,1),Je.bind(void 0,1,1,1,1,2),Je.bind(void 0,1,1,1,1,3)],Go=Array.from||function(p){return p.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function mt(p){(p=p||{}).empty||(ar(p.familyName,"When creating a new Font object, familyName is required."),ar(p.styleName,"When creating a new Font object, styleName is required."),ar(p.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ar(p.ascender,"When creating a new Font object, ascender is required."),ar(p.descender,"When creating a new Font object, descender is required."),ar(p.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:p.familyName||" "},fontSubfamily:{en:p.styleName||" "},fullName:{en:p.fullName||p.familyName+" "+p.styleName},postScriptName:{en:p.postScriptName||(p.familyName+p.styleName).replace(/\s/g,"")},designer:{en:p.designer||" "},designerURL:{en:p.designerURL||" "},manufacturer:{en:p.manufacturer||" "},manufacturerURL:{en:p.manufacturerURL||" "},license:{en:p.license||" "},licenseURL:{en:p.licenseURL||" "},version:{en:p.version||"Version 0.1"},description:{en:p.description||" "},copyright:{en:p.copyright||" "},trademark:{en:p.trademark||" "}},this.unitsPerEm=p.unitsPerEm||1e3,this.ascender=p.ascender,this.descender=p.descender,this.createdTimestamp=p.createdTimestamp,this.tables={os2:{usWeightClass:p.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:p.widthClass||this.usWidthClasses.MEDIUM,fsSelection:p.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ke.GlyphSet(this,p.glyphs||[]),this.encoding=new xe(this),this.position=new Mr(this),this.substitution=new Kt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Kr(this):void 0)}})}function bo(p,x){var _,M=JSON.stringify(p),A=256;for(_ in x){var I=parseInt(_);if(I&&!(I<256)){if(JSON.stringify(x[_])===M)return I;A<=I&&(A=I+1)}}return x[A]=p,A}mt.prototype.hasChar=function(p){return this.encoding.charToGlyphIndex(p)!==null},mt.prototype.charToGlyphIndex=function(p){return this.encoding.charToGlyphIndex(p)},mt.prototype.charToGlyph=function(p){return p=this.charToGlyphIndex(p),this.glyphs.get(p)||this.glyphs.get(0)},mt.prototype.stringToGlyphs=function(p,x){x=x||this.defaultRenderOptions;for(var _=Go(p),M=[],A=0;A<_.length;A+=1){var I=_[A];M.push(this.charToGlyphIndex(I))}var U=M.length;if(x.features){var p=x.script||this.substitution.getDefaultScriptName(),Z=[];x.features.liga&&(Z=Z.concat(this.substitution.getFeature("liga",p,x.language))),x.features.rlig&&(Z=Z.concat(this.substitution.getFeature("rlig",p,x.language)));for(var re=0;re<U;re+=1)for(var te=0;te<Z.length;te++){for(var fe=Z[te],we=fe.sub,ve=we.length,ae=0;ae<ve&&we[ae]===M[re+ae];)ae++;ae===ve&&(M.splice(re,ve,fe.by),U=U-ve+1)}}for(var Re=new Array(U),Me=this.glyphs.get(0),Pe=0;Pe<U;Pe+=1)Re[Pe]=this.glyphs.get(M[Pe])||Me;return Re},mt.prototype.nameToGlyphIndex=function(p){return this.glyphNames.nameToGlyphIndex(p)},mt.prototype.nameToGlyph=function(p){return p=this.nameToGlyphIndex(p),this.glyphs.get(p)||this.glyphs.get(0)},mt.prototype.glyphIndexToName=function(p){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(p):""},mt.prototype.getKerningValue=function(p,x){p=p.index||p,x=x.index||x;var _=this.position.defaultKerningTables;return _?this.position.getKerningValue(_,p,x):this.kerningPairs[p+","+x]||0},mt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},mt.prototype.forEachGlyph=function(p,x,_,M,A,I){x=x!==void 0?x:0,_=_!==void 0?_:0,A=A||this.defaultRenderOptions;var U,Z=1/this.unitsPerEm*(M=M!==void 0?M:72),re=this.stringToGlyphs(p,A);A.kerning&&(p=A.script||this.position.getDefaultScriptName(),U=this.position.getKerningTables(p,A.language));for(var te=0;te<re.length;te+=1){var fe=re[te];I.call(this,fe,x,_,M,A),fe.advanceWidth&&(x+=fe.advanceWidth*Z),A.kerning&&te<re.length-1&&(x+=(U?this.position.getKerningValue(U,fe.index,re[te+1].index):this.getKerningValue(fe,re[te+1]))*Z),A.letterSpacing?x+=A.letterSpacing*M:A.tracking&&(x+=A.tracking/1e3*M)}return x},mt.prototype.getPath=function(p,x,_,M,A){var I=new Y;return this.forEachGlyph(p,x,_,M,A,function(U,Z,re,te){U=U.getPath(Z,re,te,A,this),I.extend(U)}),I},mt.prototype.getPaths=function(p,x,_,M,A){var I=[];return this.forEachGlyph(p,x,_,M,A,function(U,Z,re,te){U=U.getPath(Z,re,te,A,this),I.push(U)}),I},mt.prototype.getAdvanceWidth=function(p,x,_){return this.forEachGlyph(p,0,0,x,_,function(){})},mt.prototype.draw=function(p,x,_,M,A,I){this.getPath(x,_,M,A,I).draw(p)},mt.prototype.drawPoints=function(p,x,_,M,A,I){this.forEachGlyph(x,_,M,A,I,function(U,Z,re,te){U.drawPoints(p,Z,re,te)})},mt.prototype.drawMetrics=function(p,x,_,M,A,I){this.forEachGlyph(x,_,M,A,I,function(U,Z,re,te){U.drawMetrics(p,Z,re,te)})},mt.prototype.getEnglishName=function(p){if(p=this.names[p],p)return p.en},mt.prototype.validate=function(){var p=this;function x(_){_=p.getEnglishName(_),_&&_.trim().length}x("fontFamily"),x("weightName"),x("manufacturer"),x("copyright"),x("version"),this.unitsPerEm},mt.prototype.toTables=function(){return Oo.fontToTable(this)},mt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},mt.prototype.toArrayBuffer=function(){for(var p=this.toTables().encode(),x=new ArrayBuffer(p.length),_=new Uint8Array(x),M=0;M<p.length;M++)_[M]=p[M];return x},mt.prototype.download=function(p){var x=this.getEnglishName("fontFamily"),_=this.getEnglishName("fontSubfamily"),M=(p=p||x.replace(/\s/g,"")+"-"+_+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,M.byteLength,function(A){A.root.getFile(p,{create:!0},function(I){I.createWriter(function(U){var Z=new DataView(M),Z=new Blob([Z],{type:"font/opentype"});U.write(Z),U.addEventListener("writeend",function(){location.href=I.toURL()},!1)})})},function(A){throw new Error(A.name+": "+A.message)})):(x=o("fs"),_=function(A){for(var I=new c(A.byteLength),U=new Uint8Array(A),Z=0;Z<I.length;++Z)I[Z]=U[Z];return I}(M),x.writeFileSync(p,_))},mt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},mt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},mt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Vo={make:function(p,x){var _=new Se.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:p.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:p.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*p.axes.length}]);_.offsetToData=_.sizeOf();for(var M,A,I,U=0;U<p.axes.length;U++)_.fields=_.fields.concat((M=U,A=p.axes[U],I=x,I=bo(A.name,x),[{name:"tag_"+M,type:"TAG",value:A.tag},{name:"minValue_"+M,type:"FIXED",value:A.minValue<<16},{name:"defaultValue_"+M,type:"FIXED",value:A.defaultValue<<16},{name:"maxValue_"+M,type:"FIXED",value:A.maxValue<<16},{name:"flags_"+M,type:"USHORT",value:0},{name:"nameID_"+M,type:"USHORT",value:I}]));for(var Z=0;Z<p.instances.length;Z++)_.fields=_.fields.concat(function(re,te,fe,we){for(var ve=[{name:"nameID_"+re,type:"USHORT",value:bo(te.name,we)},{name:"flags_"+re,type:"USHORT",value:0}],ae=0;ae<fe.length;++ae){var Re=fe[ae].tag;ve.push({name:"axis_"+re+" "+Re,type:"FIXED",value:te.coordinates[Re]<<16})}return ve}(Z,p.instances[Z],p.axes,x));return _},parse:function(p,x,_){for(var M,A,I,U,Z=new be.Parser(p,x),re=Z.parseULong(),te=(R.argument(re===65536,"Unsupported fvar table version."),Z.parseOffset16()),fe=(Z.skip("uShort",1),Z.parseUShort()),we=Z.parseUShort(),ve=Z.parseUShort(),ae=Z.parseUShort(),Re=[],Me=0;Me<fe;Me++)Re.push((M=p,A=x+te+Me*we,I=_,U={},M=new be.Parser(M,A),U.tag=M.parseTag(),U.minValue=M.parseFixed(),U.defaultValue=M.parseFixed(),U.maxValue=M.parseFixed(),M.skip("uShort",1),U.name=I[M.parseUShort()]||{},U));for(var Pe=[],je=x+te+fe*we,_e=0;_e<ve;_e++)Pe.push(function($e,st,et,tt){var at={},vt=new be.Parser($e,st);at.name=tt[vt.parseUShort()]||{},vt.skip("uShort",1),at.coordinates={};for(var Mt=0;Mt<et.length;++Mt)at.coordinates[et[Mt].tag]=vt.parseFixed();return at}(p,je+_e*ae,Re,_));return{axes:Re,instances:Pe}}},Yt=new Array(10);Yt[1]=function(){var p=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{posFormat:1,coverage:this.parsePointer(ge.coverage),value:this.parseValueRecord()}:x===2?{posFormat:2,coverage:this.parsePointer(ge.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+p.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Yt[2]=function(){var p,x,_,M,I=this.offset+this.relativeOffset,A=this.parseUShort(),I=(R.assert(A===1||A===2,"0x"+I.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(ge.coverage)),U=this.parseUShort(),Z=this.parseUShort();return A===1?{posFormat:A,coverage:I,valueFormat1:U,valueFormat2:Z,pairSets:this.parseList(ge.pointer(ge.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(U),value2:this.parseValueRecord(Z)}})))}:A===2?(p=this.parsePointer(ge.classDef),x=this.parsePointer(ge.classDef),_=this.parseUShort(),M=this.parseUShort(),{posFormat:A,coverage:I,valueFormat1:U,valueFormat2:Z,classDef1:p,classDef2:x,class1Count:_,class2Count:M,classRecords:this.parseList(_,ge.list(M,function(){return{value1:this.parseValueRecord(U),value2:this.parseValueRecord(Z)}}))}):void 0},Yt[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Yt[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Yt[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Yt[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Yt[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Yt[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Yt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var zo=new Array(10),Ho={parse:function(p,x){return x=(p=new ge(p,x=x||0)).parseVersion(1),R.argument(x===1||x===1.1,"Unsupported GPOS table version "+x),x===1?{version:x,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(Yt)}:{version:x,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(Yt),variations:p.parseFeatureVariationsList()}},make:function(p){return new Se.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Se.ScriptList(p.scripts)},{name:"features",type:"TABLE",value:new Se.FeatureList(p.features)},{name:"lookups",type:"TABLE",value:new Se.LookupList(p.lookups,zo)}])}},Wo={parse:function(p,x){if(p=new be.Parser(p,x),(x=p.parseUShort())===0){var _=p,M={},we=(_.skip("uShort"),_.parseUShort()),A=(R.argument(we===0,"Unsupported kern sub-table version."),_.skip("uShort",2),_.parseUShort());_.skip("uShort",3);for(var I=0;I<A;I+=1){var U=_.parseUShort(),Z=_.parseUShort(),re=_.parseShort();M[U+","+Z]=re}return M}if(x!==1)throw new Error("Unsupported kern table version ("+x+").");var te=p,fe={},we=(te.skip("uShort"),1<te.parseULong()&&console.warn("Only the first kern subtable is supported."),te.skip("uLong"),255&te.parseUShort());if(te.skip("uShort"),we==0){var ve=te.parseUShort();te.skip("uShort",3);for(var ae=0;ae<ve;ae+=1){var Re=te.parseUShort(),Me=te.parseUShort(),Pe=te.parseShort();fe[Re+","+Me]=Pe}}return fe}},qo={parse:function(p,x,_,M){for(var A=new be.Parser(p,x),I=M?A.parseUShort:A.parseULong,U=[],Z=0;Z<_+1;Z+=1){var re=I.call(A);M&&(re*=2),U.push(re)}return U}};function Xo(p,x){o("fs").readFile(p,function(_,M){if(_)return x(_.message);x(null,Yr(M))})}function Yo(p,x){var _=new XMLHttpRequest;_.open("get",p,!0),_.responseType="arraybuffer",_.onload=function(){return _.response?x(null,_.response):x("Font could not be loaded: "+_.statusText)},_.onerror=function(){x("Font could not be loaded")},_.send()}function xo(p,x){for(var _=[],M=12,A=0;A<x;A+=1){var I=be.getTag(p,M),U=be.getULong(p,M+4),Z=be.getULong(p,M+8),re=be.getULong(p,M+12);_.push({tag:I,checksum:U,offset:Z,length:re,compression:!1}),M+=16}return _}function Ct(_,x){if(x.compression!=="WOFF")return{data:_,offset:x.offset};var _=new Uint8Array(_.buffer,x.offset+2,x.compressedLength-2),M=new Uint8Array(x.length);if(H(_,M),M.byteLength!==x.length)throw new Error("Decompression error: "+x.tag+" decompressed length doesn't match recorded length");return{data:new DataView(M.buffer,0),offset:0}}function Dr(_e){var x,_,M,A,I,U,Z,re,te,fe,we,ve,ae,Re,Me=new mt({empty:!0}),Pe=new DataView(_e,0),je=[],_e=be.getTag(Pe,0);if(_e===String.fromCharCode(0,1,0,0)||_e==="true"||_e==="typ1")Me.outlinesFormat="truetype",je=xo(Pe,M=be.getUShort(Pe,4));else if(_e==="OTTO")Me.outlinesFormat="cff",je=xo(Pe,M=be.getUShort(Pe,4));else{if(_e!=="wOFF")throw new Error("Unsupported OpenType signature "+_e);var $e=be.getTag(Pe,4);if($e===String.fromCharCode(0,1,0,0))Me.outlinesFormat="truetype";else{if($e!=="OTTO")throw new Error("Unsupported OpenType flavor "+_e);Me.outlinesFormat="cff"}je=function(xt,ht){for(var zt=[],_t=44,Bt=0;Bt<ht;Bt+=1){var wt=be.getTag(xt,_t),It=be.getULong(xt,_t+4),br=be.getULong(xt,_t+8),ur=be.getULong(xt,_t+12),wo=void 0,wo=br<ur&&"WOFF";zt.push({tag:wt,offset:It,compression:wo,compressedLength:br,length:ur}),_t+=20}return zt}(Pe,M=be.getUShort(Pe,12))}for(var st=0;st<M;st+=1){var et=je[st],tt=void 0;switch(et.tag){case"cmap":tt=Ct(Pe,et),Me.tables.cmap=q.parse(tt.data,tt.offset),Me.encoding=new Ee(Me.tables.cmap);break;case"cvt ":tt=Ct(Pe,et),Re=new be.Parser(tt.data,tt.offset),Me.tables.cvt=Re.parseShortList(et.length/2);break;case"fvar":I=et;break;case"fpgm":tt=Ct(Pe,et),Re=new be.Parser(tt.data,tt.offset),Me.tables.fpgm=Re.parseByteList(et.length);break;case"head":tt=Ct(Pe,et),Me.tables.head=mr.parse(tt.data,tt.offset),Me.unitsPerEm=Me.tables.head.unitsPerEm,x=Me.tables.head.indexToLocFormat;break;case"hhea":tt=Ct(Pe,et),Me.tables.hhea=le.parse(tt.data,tt.offset),Me.ascender=Me.tables.hhea.ascender,Me.descender=Me.tables.hhea.descender,Me.numberOfHMetrics=Me.tables.hhea.numberOfHMetrics;break;case"hmtx":te=et;break;case"ltag":tt=Ct(Pe,et),_=Ye.parse(tt.data,tt.offset);break;case"maxp":tt=Ct(Pe,et),Me.tables.maxp=De.parse(tt.data,tt.offset),Me.numGlyphs=Me.tables.maxp.numGlyphs;break;case"name":ve=et;break;case"OS/2":tt=Ct(Pe,et),Me.tables.os2=Rt.parse(tt.data,tt.offset);break;case"post":tt=Ct(Pe,et),Me.tables.post=Br.parse(tt.data,tt.offset),Me.glyphNames=new Ne(Me.tables.post);break;case"prep":tt=Ct(Pe,et),Re=new be.Parser(tt.data,tt.offset),Me.tables.prep=Re.parseByteList(et.length);break;case"glyf":U=et;break;case"loca":we=et;break;case"CFF ":A=et;break;case"kern":fe=et;break;case"GPOS":Z=et;break;case"GSUB":re=et;break;case"meta":ae=et}}if($e=Ct(Pe,ve),Me.tables.name=Ht.parse($e.data,$e.offset,_),Me.names=Me.tables.name,U&&we)_e=x===0,$e=Ct(Pe,we),$e=qo.parse($e.data,$e.offset,Me.numGlyphs,_e),_e=Ct(Pe,U),Me.glyphs=Jr.parse(_e.data,_e.offset,$e,Me);else{if(!A)throw new Error("Font doesn't contain TrueType or CFF outlines.");_e=Ct(Pe,A),pr.parse(_e.data,_e.offset,Me)}for(var $e=Ct(Pe,te),at=(Fe.parse($e.data,$e.offset,Me.numberOfHMetrics,Me.numGlyphs,Me.glyphs),Me),vt=at.tables.cmap.glyphIndexMap,Mt=Object.keys(vt),Pt=0;Pt<Mt.length;Pt+=1){var Gt,Vt=Mt[Pt],Zt=vt[Vt];(Gt=at.glyphs.get(Zt)).addUnicode(parseInt(Vt))}for(var yt=0;yt<at.glyphs.length;yt+=1)Gt=at.glyphs.get(yt),at.cffEncoding?at.isCIDFont?Gt.name="gid"+yt:Gt.name=at.cffEncoding.charset[yt]:at.glyphNames.names&&(Gt.name=at.glyphNames.glyphIndexToName(yt));return fe?(_e=Ct(Pe,fe),Me.kerningPairs=Wo.parse(_e.data,_e.offset)):Me.kerningPairs={},Z&&($e=Ct(Pe,Z),Me.tables.gpos=Ho.parse($e.data,$e.offset),Me.position.init()),re&&(_e=Ct(Pe,re),Me.tables.gsub=Fr.parse(_e.data,_e.offset)),I&&($e=Ct(Pe,I),Me.tables.fvar=Vo.parse($e.data,$e.offset,Me.names)),ae&&(_e=Ct(Pe,ae),Me.tables.meta=Nr.parse(_e.data,_e.offset),Me.metas=Me.tables.meta),Me}l.Font=mt,l.Glyph=Xe,l.Path=Y,l.BoundingBox=X,l._parse=be,l.parse=Dr,l.load=function(p,x){(typeof window>"u"?Xo:Yo)(p,function(_,M){if(_)return x(_);var A;try{A=Dr(M)}catch(I){return x(I,null)}return x(null,A)})},l.loadSync=function(p){return Dr(Yr(o("fs").readFileSync(p)))},Object.defineProperty(l,"__esModule",{value:!0})},s(typeof y=="object"&&P!==void 0?y:a.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],242:[function(o,P,y){(function(c){function a(u,d){for(var n=0,t=u.length-1;0<=t;t--){var r=u[t];r==="."?u.splice(t,1):r===".."?(u.splice(t,1),n++):n&&(u.splice(t,1),n--)}if(d)for(;n--;)u.unshift("..");return u}function s(u,d){if(u.filter)return u.filter(d);for(var n=[],t=0;t<u.length;t++)d(u[t],t,u)&&n.push(u[t]);return n}y.resolve=function(){for(var u="",d=!1,n=arguments.length-1;-1<=n&&!d;n--){var t=0<=n?arguments[n]:c.cwd();if(typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");t&&(u=t+"/"+u,d=t.charAt(0)==="/")}return(d?"/":"")+(u=a(s(u.split("/"),function(r){return!!r}),!d).join("/"))||"."},y.normalize=function(u){var d=y.isAbsolute(u),n=l(u,-1)==="/";return(u=(u=a(s(u.split("/"),function(t){return!!t}),!d).join("/"))||d?u:".")&&n&&(u+="/"),(d?"/":"")+u},y.isAbsolute=function(u){return u.charAt(0)==="/"},y.join=function(){var u=Array.prototype.slice.call(arguments,0);return y.normalize(s(u,function(d,n){if(typeof d!="string")throw new TypeError("Arguments to path.join must be strings");return d}).join("/"))},y.relative=function(u,d){function n(v){for(var b=0;b<v.length&&v[b]==="";b++);for(var m=v.length-1;0<=m&&v[m]==="";m--);return m<b?[]:v.slice(b,m-b+1)}u=y.resolve(u).substr(1),d=y.resolve(d).substr(1);for(var t=n(u.split("/")),r=n(d.split("/")),i=Math.min(t.length,r.length),f=i,h=0;h<i;h++)if(t[h]!==r[h]){f=h;break}for(var g=[],h=f;h<t.length;h++)g.push("..");return(g=g.concat(r.slice(f))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(u){if(typeof u!="string"&&(u+=""),u.length===0)return".";for(var d=u.charCodeAt(0)===47,n=-1,t=!0,r=u.length-1;1<=r;--r)if(u.charCodeAt(r)===47){if(!t){n=r;break}}else t=!1;return n===-1?d?"/":".":d&&n===1?"/":u.slice(0,n)},y.basename=function(u,d){return u=function(n){typeof n!="string"&&(n+="");for(var t=0,r=-1,i=!0,f=n.length-1;0<=f;--f)if(n.charCodeAt(f)===47){if(!i){t=f+1;break}}else r===-1&&(i=!1,r=f+1);return r===-1?"":n.slice(t,r)}(u),u=d&&u.substr(-1*d.length)===d?u.substr(0,u.length-d.length):u},y.extname=function(u){typeof u!="string"&&(u+="");for(var d=-1,n=0,t=-1,r=!0,i=0,f=u.length-1;0<=f;--f){var h=u.charCodeAt(f);if(h===47){if(r)continue;n=f+1;break}t===-1&&(r=!1,t=f+1),h===46?d===-1?d=f:i!==1&&(i=1):d!==-1&&(i=-1)}return d===-1||t===-1||i===0||i===1&&d===t-1&&d===n+1?"":u.slice(d,t)};var l="ab".substr(-1)==="b"?function(u,d,n){return u.substr(d,n)}:function(u,d,n){return d<0&&(d=u.length+d),u.substr(d,n)}}).call(this,o("_process"))},{_process:243}],243:[function(o,s,y){var c,a,s=s.exports={};function l(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}try{c=typeof setTimeout=="function"?setTimeout:l}catch{c=l}try{a=typeof clearTimeout=="function"?clearTimeout:u}catch{a=u}function d(b){if(c===setTimeout)return setTimeout(b,0);if((c===l||!c)&&setTimeout)return(c=setTimeout)(b,0);try{return c(b,0)}catch{try{return c.call(null,b,0)}catch{return c.call(this,b,0)}}}var n,t=[],r=!1,i=-1;function f(){r&&n&&(r=!1,n.length?t=n.concat(t):i=-1,t.length&&h())}function h(){if(!r){for(var b=d(f),m=(r=!0,t.length);m;){for(n=t,t=[];++i<m;)n&&n[i].run();i=-1,m=t.length}n=null,r=!1,function(w){if(a===clearTimeout)return clearTimeout(w);if((a===u||!a)&&clearTimeout)return(a=clearTimeout)(w);try{a(w)}catch{try{return a.call(null,w)}catch{return a.call(this,w)}}}(b)}}function g(b,m){this.fun=b,this.array=m}function v(){}s.nextTick=function(b){var m=new Array(arguments.length-1);if(1<arguments.length)for(var w=1;w<arguments.length;w++)m[w-1]=arguments[w];t.push(new g(b,m)),t.length!==1||r||d(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(b){return[]},s.binding=function(b){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(b){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],244:[function(o,P,y){P=function(c){var a,s=Object.prototype,l=s.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},u=j.iterator||"@@iterator",d=j.asyncIterator||"@@asyncIterator",n=j.toStringTag||"@@toStringTag";function t(G,B,z,W){var Y,ee,O,R,B=B&&B.prototype instanceof b?B:b,B=Object.create(B.prototype),W=new D(W||[]);return B._invoke=(Y=G,ee=z,O=W,R=i,function(K,ne){if(R===h)throw new Error("Generator is already running");if(R===g){if(K==="throw")throw ne;return V()}for(O.method=K,O.arg=ne;;){var ie=O.delegate;if(ie&&(ie=function ce(oe,se){var me=oe.iterator[se.method];if(me===a){if(se.delegate=null,se.method==="throw"){if(oe.iterator.return&&(se.method="return",se.arg=a,ce(oe,se),se.method==="throw"))return v;se.method="throw",se.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}if(me=r(me,oe.iterator,se.arg),me.type==="throw")return se.method="throw",se.arg=me.arg,se.delegate=null,v;if(me=me.arg,!me)return se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,v;{if(!me.done)return me;se[oe.resultName]=me.value,se.next=oe.nextLoc,se.method!=="return"&&(se.method="next",se.arg=a)}return se.delegate=null,v}(ie,O),ie)){if(ie===v)continue;return ie}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(R===i)throw R=g,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);if(R=h,ie=r(Y,ee,O),ie.type==="normal"){if(R=O.done?g:f,ie.arg!==v)return{value:ie.arg,done:O.done}}else ie.type==="throw"&&(R=g,O.method="throw",O.arg=ie.arg)}}),B}function r(G,H,z){try{return{type:"normal",arg:G.call(H,z)}}catch(X){return{type:"throw",arg:X}}}c.wrap=t;var i="suspendedStart",f="suspendedYield",h="executing",g="completed",v={};function b(){}function m(){}function w(){}var j={},S=(j[u]=function(){return this},Object.getPrototypeOf),S=S&&S(S(F([]))),T=(S&&S!==s&&l.call(S,u)&&(j=S),w.prototype=b.prototype=Object.create(j));function E(G){["next","throw","return"].forEach(function(H){G[H]=function(z){return this._invoke(H,z)}})}function C(G){var H;this._invoke=function(z,X){function Y(){return new Promise(function(ee,O){(function R(ce,W,K,ne){var ie,ce=r(G[ce],G,W);if(ce.type!=="throw")return(W=(ie=ce.arg).value)&&typeof W=="object"&&l.call(W,"__await")?Promise.resolve(W.__await).then(function(oe){R("next",oe,K,ne)},function(oe){R("throw",oe,K,ne)}):Promise.resolve(W).then(function(oe){ie.value=oe,K(ie)},function(oe){return R("throw",oe,K,ne)});ne(ce.arg)})(z,X,ee,O)})}return H=H?H.then(Y,Y):Y()}}function L(G){var H={tryLoc:G[0]};1 in G&&(H.catchLoc=G[1]),2 in G&&(H.finallyLoc=G[2],H.afterLoc=G[3]),this.tryEntries.push(H)}function k(G){var H=G.completion||{};H.type="normal",delete H.arg,G.completion=H}function D(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(L,this),this.reset(!0)}function F(G){if(G){var H,z=G[u];if(z)return z.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length))return H=-1,(z=function X(){for(;++H<G.length;)if(l.call(G,H))return X.value=G[H],X.done=!1,X;return X.value=a,X.done=!0,X}).next=z}return{next:V}}function V(){return{value:a,done:!0}}return(m.prototype=T.constructor=w).constructor=m,w[n]=m.displayName="GeneratorFunction",c.isGeneratorFunction=function(G){return G=typeof G=="function"&&G.constructor,!!G&&(G===m||(G.displayName||G.name)==="GeneratorFunction")},c.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,w):(G.__proto__=w,n in G||(G[n]="GeneratorFunction")),G.prototype=Object.create(T),G},c.awrap=function(G){return{__await:G}},E(C.prototype),C.prototype[d]=function(){return this},c.AsyncIterator=C,c.async=function(G,H,z,X){var Y=new C(t(G,H,z,X));return c.isGeneratorFunction(H)?Y:Y.next().then(function(ee){return ee.done?ee.value:Y.next()})},E(T),T[n]="Generator",T[u]=function(){return this},T.toString=function(){return"[object Generator]"},c.keys=function(G){var H,z=[];for(H in G)z.push(H);return z.reverse(),function X(){for(;z.length;){var Y=z.pop();if(Y in G)return X.value=Y,X.done=!1,X}return X.done=!0,X}},c.values=F,D.prototype={constructor:D,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(k),!G)for(var H in this)H.charAt(0)==="t"&&l.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=a)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var H=this;function z(B,W){return ee.type="throw",ee.arg=G,H.next=B,W&&(H.method="next",H.arg=a),!!W}for(var X=this.tryEntries.length-1;0<=X;--X){var Y=this.tryEntries[X],ee=Y.completion;if(Y.tryLoc==="root")return z("end");if(Y.tryLoc<=this.prev){var O=l.call(Y,"catchLoc"),R=l.call(Y,"finallyLoc");if(O&&R){if(this.prev<Y.catchLoc)return z(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return z(Y.finallyLoc)}else if(O){if(this.prev<Y.catchLoc)return z(Y.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return z(Y.finallyLoc)}}}},abrupt:function(G,H){for(var z=this.tryEntries.length-1;0<=z;--z){var X=this.tryEntries[z];if(X.tryLoc<=this.prev&&l.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var Y=X;break}}var ee=(Y=Y&&(G==="break"||G==="continue")&&Y.tryLoc<=H&&H<=Y.finallyLoc?null:Y)?Y.completion:{};return ee.type=G,ee.arg=H,Y?(this.method="next",this.next=Y.finallyLoc,v):this.complete(ee)},complete:function(G,H){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&H&&(this.next=H),v},finish:function(G){for(var H=this.tryEntries.length-1;0<=H;--H){var z=this.tryEntries[H];if(z.finallyLoc===G)return this.complete(z.completion,z.afterLoc),k(z),v}},catch:function(G){for(var H=this.tryEntries.length-1;0<=H;--H){var z,X,Y=this.tryEntries[H];if(Y.tryLoc===G)return(z=Y.completion).type==="throw"&&(X=z.arg,k(Y)),X}throw new Error("illegal catch attempt")},delegateYield:function(G,H,z){return this.delegate={iterator:F(G),resultName:H,nextLoc:z},this.method==="next"&&(this.arg=a),v}},c}(typeof P=="object"?P.exports:{});try{regeneratorRuntime=P}catch{Function("r","regeneratorRuntime = r")(P)}},{}],245:[function(o,P,y){(function(c){var a,s,l,u,d,n,t,r,i,f;function h(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function g(k){return k=typeof k!="string"?String(k):k}function v(k){var D={next:function(){var F=k.shift();return{done:F===void 0,value:F}}};return s&&(D[Symbol.iterator]=function(){return D}),D}function b(k){this.map={},k instanceof b?k.forEach(function(D,F){this.append(F,D)},this):Array.isArray(k)?k.forEach(function(D){this.append(D[0],D[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(D){this.append(D,k[D])},this)}function m(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function w(k){return new Promise(function(D,F){k.onload=function(){D(k.result)},k.onerror=function(){F(k.error)}})}function j(k){var D=new FileReader,F=w(D);return D.readAsArrayBuffer(k),F}function S(k){var D;return k.slice?k.slice(0):((D=new Uint8Array(k.byteLength)).set(new Uint8Array(k)),D.buffer)}function T(){return this.bodyUsed=!1,this._initBody=function(k){if(this._bodyInit=k)if(typeof k=="string")this._bodyText=k;else if(l&&Blob.prototype.isPrototypeOf(k))this._bodyBlob=k;else if(u&&FormData.prototype.isPrototypeOf(k))this._bodyFormData=k;else if(a&&URLSearchParams.prototype.isPrototypeOf(k))this._bodyText=k.toString();else if(d&&l&&t(k))this._bodyArrayBuffer=S(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d||!ArrayBuffer.prototype.isPrototypeOf(k)&&!r(k))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=S(k)}else this._bodyText="";this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var k=m(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var k,D,F=m(this);if(F)return F;if(this._bodyBlob)return F=this._bodyBlob,k=new FileReader,D=w(k),k.readAsText(F),D;if(this._bodyArrayBuffer)return Promise.resolve(function(V){for(var G=new Uint8Array(V),H=new Array(G.length),z=0;z<G.length;z++)H[z]=String.fromCharCode(G[z]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}function E(k,D){var F,V=(D=D||{}).body;if(k instanceof E){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,D.headers||(this.headers=new b(k.headers)),this.method=k.method,this.mode=k.mode,V||k._bodyInit==null||(V=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=D.credentials||this.credentials||"omit",!D.headers&&this.headers||(this.headers=new b(D.headers)),this.method=(k=D.method||this.method||"GET",F=k.toUpperCase(),-1<i.indexOf(F)?F:k),this.mode=D.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}function C(k){var D=new FormData;return k.trim().split("&").forEach(function(F){var V;F&&(V=(F=F.split("=")).shift().replace(/\+/g," "),F=F.join("=").replace(/\+/g," "),D.append(decodeURIComponent(V),decodeURIComponent(F)))}),D}function L(k,D){D=D||{},this.type="default",this.status=D.status===void 0?200:D.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new b(D.headers),this.url=D.url||"",this._initBody(k)}c.fetch||(a="URLSearchParams"in c,s="Symbol"in c&&"iterator"in Symbol,l="FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),u="FormData"in c,(d="ArrayBuffer"in c)&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(k){return k&&DataView.prototype.isPrototypeOf(k)},r=ArrayBuffer.isView||function(k){return k&&-1<n.indexOf(Object.prototype.toString.call(k))}),b.prototype.append=function(k,D){k=h(k),D=g(D);var F=this.map[k];this.map[k]=F?F+","+D:D},b.prototype.delete=function(k){delete this.map[h(k)]},b.prototype.get=function(k){return k=h(k),this.has(k)?this.map[k]:null},b.prototype.has=function(k){return this.map.hasOwnProperty(h(k))},b.prototype.set=function(k,D){this.map[h(k)]=g(D)},b.prototype.forEach=function(k,D){for(var F in this.map)this.map.hasOwnProperty(F)&&k.call(D,this.map[F],F,this)},b.prototype.keys=function(){var k=[];return this.forEach(function(D,F){k.push(F)}),v(k)},b.prototype.values=function(){var k=[];return this.forEach(function(D){k.push(D)}),v(k)},b.prototype.entries=function(){var k=[];return this.forEach(function(D,F){k.push([F,D])}),v(k)},s&&(b.prototype[Symbol.iterator]=b.prototype.entries),i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},T.call(E.prototype),T.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},L.error=function(){var k=new L(null,{status:0,statusText:""});return k.type="error",k},f=[301,302,303,307,308],L.redirect=function(k,D){if(f.indexOf(D)===-1)throw new RangeError("Invalid status code");return new L(null,{status:D,headers:{location:k}})},c.Headers=b,c.Request=E,c.Response=L,c.fetch=function(k,D){return new Promise(function(F,V){var G=new E(k,D),H=new XMLHttpRequest;H.onload=function(){var z,X={status:H.status,statusText:H.statusText,headers:(X=H.getAllResponseHeaders()||"",z=new b,X.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(O){var O=O.split(":"),R=O.shift().trim();R&&(O=O.join(":").trim(),z.append(R,O))}),z)},Y=(X.url="responseURL"in H?H.responseURL:X.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);F(new L(Y,X))},H.onerror=function(){V(new TypeError("Network request failed"))},H.ontimeout=function(){V(new TypeError("Network request failed"))},H.open(G.method,G.url,!0),G.credentials==="include"?H.withCredentials=!0:G.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&l&&(H.responseType="blob"),G.headers.forEach(function(z,X){H.setRequestHeader(X,z)}),H.send(G._bodyInit===void 0?null:G._bodyInit)})},c.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(o,P,y){o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c,a=l(o("../core/main")),s=l(o("../color/color_conversion"));function l(n){return n&&n.__esModule?n:{default:n}}var u=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],d=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];a.default.prototype._rgbColorName=function(i){var t,r,i=s.default._rgbaToHSBA(i),f=[(c=i)[0],i[1],i[2]];f[0]!==0&&(f[0]=Math.round(100*f[0]),(i=f[0].toString().split(""))[r=i.length-1]=parseInt(i[r]),i[r]<2.5?i[r]=0:2.5<=i[r]&&i[r]<7.5&&(i[r]=5),i.length===2?(i[0]=parseInt(i[0]),7.5<=i[r]&&(i[r]=0,i[0]=i[0]+1),f[0]=10*i[0]+i[1]):7.5<=i[r]?f[0]=10:f[0]=i[r]),f[2]=f[2]/255;for(var h=f.length-1;1<=h;h--)f[h]<=.25?f[h]=0:.25<f[h]&&f[h]<.75?f[h]=.5:f[h]=1;if(f[0]===0&&f[1]===0&&f[2]===1){for(var g=2;0<=g;g--)c[g]=Math.round(1e4*c[g])/1e4;for(var v=0;v<u.length;v++){if(u[v].h===c[0]&&u[v].s===c[1]&&u[v].b===c[2]){t=u[v].name;break}t="white"}}else for(var b=0;b<d.length;b++)if(d[b].h===f[0]&&d[b].s===f[1]&&d[b].b===f[2]){t=d[b].name;break}return t},o=a.default,y.default=o},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o},a="_Description",s="_fallbackDesc",l="_fallbackTable",u="_Label",d="_labelDesc",n="_labelTable";function t(r){if(r==="label"||r==="fallback")throw new Error("description should not be LABEL or FALLBACK");return r.endsWith(".")||r.endsWith(";")||r.endsWith(",")||r.endsWith("?")||r.endsWith("!")||(r+="."),r}c.default.prototype.describe=function(r,i){var f;c.default._validateParameters("describe",arguments),typeof r=="string"&&(f=this.canvas.id,r=t(r),this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==r&&(this.descriptions.fallback.innerHTML=r):this._describeHTML("fallback",r),i===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==r&&(this.descriptions.label.innerHTML=r):this._describeHTML("label",r)))},c.default.prototype.describeElement=function(r,i,f){var h,g;c.default._validateParameters("describeElement",arguments),typeof i=="string"&&typeof r=="string"&&(h=this.canvas.id,i=t(i),g=function(v){if(v==="label"||v==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return v.endsWith(".")||v.endsWith(";")||v.endsWith(",")?v=v.replace(/.$/,":"):v.endsWith(":")||(v+=":"),v}(r),r=r.replace(/[^a-zA-Z0-9]/g,""),g='<th scope="row">'.concat(g,"</th><td>").concat(i,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[r]?this.descriptions.fallbackElements[r].innerHTML!==g&&(this.descriptions.fallbackElements[r].innerHTML=g):this._describeElementHTML("fallback",r,g),f===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[r]?this.descriptions.labelElements[r].innerHTML!==g&&(this.descriptions.labelElements[r].innerHTML=g):this._describeElementHTML("label",r,g)))},c.default.prototype._describeHTML=function(r,i){var f,h=this.canvas.id;r==="fallback"?(this.dummyDOM.querySelector("#".concat(h+a))?this.dummyDOM.querySelector("#"+h+l).insertAdjacentHTML("beforebegin",'<p id="'.concat(h+s,'"></p>')):(f='<div id="'.concat(h).concat(a,'" role="region" aria-label="Canvas Description"><p id="').concat(h).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(h)).innerHTML=f),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(h).concat(s)),this.descriptions.fallback.innerHTML=i):r==="label"&&(this.dummyDOM.querySelector("#".concat(h+u))?this.dummyDOM.querySelector("#".concat(h+n))&&this.dummyDOM.querySelector("#".concat(h+n)).insertAdjacentHTML("beforebegin",'<p id="'.concat(h).concat(d,'"></p>')):(f='<div id="'.concat(h).concat(u,'" class="p5Label"><p id="').concat(h).concat(d,'"></p></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",f)),this.descriptions.label=this.dummyDOM.querySelector("#"+h+d),this.descriptions.label.innerHTML=i)},c.default.prototype._describeElementHTML=function(r,i,f){var h,g=this.canvas.id;r==="fallback"?(this.dummyDOM.querySelector("#".concat(g+a))?this.dummyDOM.querySelector("#"+g+l)||this.dummyDOM.querySelector("#"+g+s).insertAdjacentHTML("afterend",'<table id="'.concat(g).concat(l,'"><caption>Canvas elements and their descriptions</caption></table>')):(h='<div id="'.concat(g).concat(a,'" role="region" aria-label="Canvas Description"><table id="').concat(g).concat(l,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+g).innerHTML=h),(h=document.createElement("tr")).id=g+"_fte_"+i,this.dummyDOM.querySelector("#"+g+l).appendChild(h),this.descriptions.fallbackElements[i]=this.dummyDOM.querySelector("#".concat(g).concat("_fte_").concat(i)),this.descriptions.fallbackElements[i].innerHTML=f):r==="label"&&(this.dummyDOM.querySelector("#".concat(g+u))?this.dummyDOM.querySelector("#".concat(g+n))||this.dummyDOM.querySelector("#"+g+d).insertAdjacentHTML("afterend",'<table id="'.concat(g+n,'"></table>')):(h='<div id="'.concat(g).concat(u,'" class="p5Label"><table id="').concat(g).concat(n,'"></table></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",h)),(r=document.createElement("tr")).id=g+"_lte_"+i,this.dummyDOM.querySelector("#"+g+n).appendChild(r),this.descriptions.labelElements[i]=this.dummyDOM.querySelector("#".concat(g).concat("_lte_").concat(i)),this.descriptions.labelElements[i].innerHTML=f)},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.prototype._updateGridOutput=function(c){var a,s,l,u;this.dummyDOM.querySelector("#".concat(c,"_summary"))&&(a=this._accessibleOutputs[c],l=function(d,n,t,r){return n="".concat(n," canvas, ").concat(t," by ").concat(r," pixels, contains ").concat(d[0]),n=(d[0]===1?"".concat(n," shape: "):"".concat(n," shapes: ")).concat(d[1]),n}((s=function(d,n){var t,r="",i="",f=0;for(t in n){var h,g=0;for(h in n[t]){var v='<li id="'.concat(d,"shape").concat(f,'">').concat(n[t][h].color," ").concat(t,",");t==="line"?v+=" location = ".concat(n[t][h].pos,", length = ").concat(n[t][h].length," pixels"):(v+=" location = ".concat(n[t][h].pos),t!=="point"&&(v+=", area = ".concat(n[t][h].area," %")),v+="</li>"),r+=v,g++,f++}i=1<g?"".concat(i," ").concat(g," ").concat(t,"s"):"".concat(i," ").concat(g," ").concat(t)}return{numShapes:[f,i],details:r}}(c,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),u=function(d,n){var t,r,i,f=0,h="",g=Array.apply(null,Array(10)).map(function(){});for(t in g)g[t]=Array.apply(null,Array(10)).map(function(){});for(r in n)for(var v in n[r]){var b=void 0;b=r!=="line"?'<a href="#'.concat(d,"shape").concat(f,'">').concat(n[r][v].color," ").concat(r,"</a>"):'<a href="#'.concat(d,"shape").concat(f,'">').concat(n[r][v].color," ").concat(r," midpoint</a>"),g[n[r][v].loc.locY][n[r][v].loc.locX]?g[n[r][v].loc.locY][n[r][v].loc.locX]=g[n[r][v].loc.locY][n[r][v].loc.locX]+"  "+b:g[n[r][v].loc.locY][n[r][v].loc.locX]=b,f++}for(i in g){var m,w="<tr>";for(m in g[i])w+="<td>",g[i][m]!==void 0&&(w+=g[i][m]),w+="</td>";h=h+w+"</tr>"}return h}(c,this.ingredients.shapes),l!==a.summary.innerHTML&&(a.summary.innerHTML=l),u!==a.map.innerHTML&&(a.map.innerHTML=u),s.details!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=s.details),this._accessibleOutputs[c]=a)},o=o.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};function a(l,u,d){return l[0]<.4*u?l[1]<.4*d?"top left":l[1]>.6*d?"bottom left":"mid left":l[0]>.6*u?l[1]<.4*d?"top right":l[1]>.6*d?"bottom right":"mid right":l[1]<.4*d?"top middle":l[1]>.6*d?"bottom middle":"middle"}function s(l,u,d){return u=Math.floor(l[0]/u*10),l=Math.floor(l[1]/d*10),u===10&&(u-=1),l===10&&(l-=1),{locX:u,locY:l}}c.default.prototype.textOutput=function(l){c.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},c.default.prototype.gridOutput=function(l){c.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),l===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},c.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},c.default.prototype._createOutput=function(l,u){var d,n,t,r=this.canvas.id,i=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),"");u==="Fallback"?(d=r+l,this.dummyDOM.querySelector("#".concat(n=r+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(r,"_Description"))?this.dummyDOM.querySelector("#".concat(r,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(r)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):u==="Label"&&(d=r+l+(i=u),this.dummyDOM.querySelector("#".concat(n=r+"accessibleOutput"+u))||(this.dummyDOM.querySelector("#".concat(r,"_Label"))?this.dummyDOM.querySelector("#".concat(r,"_Label")):this.dummyDOM.querySelector("#".concat(r))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[d]={},l==="textOutput"?(i="#".concat(r,"gridOutput").concat(i),t='<div id="'.concat(d,'">Text Output<div id="').concat(d,'Summary" aria-label="text output summary"><p id="').concat(d,'_summary"></p><ul id="').concat(d,'_list"></ul></div><table id="').concat(d,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector("#".concat(n)).innerHTML=t,this._accessibleOutputs[d].list=this.dummyDOM.querySelector("#".concat(d,"_list"))):l==="gridOutput"&&(i="#".concat(r,"textOutput").concat(i),t='<div id="'.concat(d,'">Grid Output<p id="').concat(d,'_summary" aria-label="grid output summary"><table id="').concat(d,'_map" summary="grid output content"></table><ul id="').concat(d,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("afterend",t):this.dummyDOM.querySelector("#".concat(n)).innerHTML=t,this._accessibleOutputs[d].map=this.dummyDOM.querySelector("#".concat(d,"_map"))),this._accessibleOutputs[d].shapeDetails=this.dummyDOM.querySelector("#".concat(d,"_shapeDetails")),this._accessibleOutputs[d].summary=this.dummyDOM.querySelector("#".concat(d,"_summary"))},c.default.prototype._updateAccsOutput=function(){var l=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(l+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(l+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(l+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(l+"gridOutputLabel"))},c.default.prototype._accsBackground=function(l){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==l&&(this.ingredients.colors.backgroundRGBA=l,this.ingredients.colors.background=this._rgbColorName(l))},c.default.prototype._accsCanvasColors=function(l,u){l==="fill"?this.ingredients.colors.fillRGBA!==u&&(this.ingredients.colors.fillRGBA=u,this.ingredients.colors.fill=this._rgbColorName(u)):l==="stroke"&&this.ingredients.colors.strokeRGBA!==u&&(this.ingredients.colors.strokeRGBA=u,this.ingredients.colors.stroke=this._rgbColorName(u))},c.default.prototype._accsOutput=function(l,u){l==="ellipse"&&u[2]===u[3]?l="circle":l==="rectangle"&&u[2]===u[3]&&(l="square");var d,n,t={},r=!0,i=function(h,g){var v;return h=h==="rectangle"||h==="ellipse"||h==="arc"||h==="circle"||h==="square"?(v=Math.round(g[0]+g[2]/2),Math.round(g[1]+g[3]/2)):h==="triangle"?(v=(g[0]+g[2]+g[4])/3,(g[1]+g[3]+g[5])/3):h==="quadrilateral"?(v=(g[0]+g[2]+g[4]+g[6])/4,(g[1]+g[3]+g[5]+g[7])/4):h==="line"?(v=(g[0]+g[2])/2,(g[1]+g[3])/2):(v=g[0],g[1]),[v,h]}(l,u);if(l==="line"?(t.color=this.ingredients.colors.stroke,t.length=Math.round(this.dist(u[0],u[1],u[2],u[3])),d=a([u[0],[1]],this.width,this.height),n=a([u[2],[3]],this.width,this.height),t.loc=s(i,this.width,this.height),t.pos=d===n?"at ".concat(d):"from ".concat(d," to ").concat(n)):(l==="point"?t.color=this.ingredients.colors.stroke:(t.color=this.ingredients.colors.fill,t.area=function(h,g,v,b){var m=0;{var w,j,S,T,E,C,L;h==="arc"?(w=((g[5]-g[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),m=w*g[2]*g[3]/8,g[6]!=="open"&&g[6]!=="chord"||(L=g[0],j=g[1],S=g[0]+g[2]/2*Math.cos(g[4]).toFixed(2),T=g[1]+g[3]/2*Math.sin(g[4]).toFixed(2),E=g[0]+g[2]/2*Math.cos(g[5]).toFixed(2),C=g[1]+g[3]/2*Math.sin(g[5]).toFixed(2),L=Math.abs(L*(T-C)+S*(C-j)+E*(j-T))/2,w>Math.PI?m+=L:m-=L)):h==="ellipse"||h==="circle"?m=3.14*g[2]/2*g[3]/2:h==="line"||h==="point"?m=0:h==="quadrilateral"?m=Math.abs((g[6]+g[0])*(g[7]-g[1])+(g[0]+g[2])*(g[1]-g[3])+(g[2]+g[4])*(g[3]-g[5])+(g[4]+g[6])*(g[5]-g[7]))/2:h==="rectangle"||h==="square"?m=g[2]*g[3]:h==="triangle"&&(m=Math.abs(g[0]*(g[3]-g[5])+g[2]*(g[5]-g[1])+g[4]*(g[1]-g[3]))/2)}return Math.round(100*m/(v*b))}(l,u,this.width,this.height)),t.pos=a(i,this.width,this.height),t.loc=s(i,this.width,this.height)),this.ingredients.shapes[l]){if(this.ingredients.shapes[l]!==[t]){for(var f in this.ingredients.shapes[l])JSON.stringify(this.ingredients.shapes[l][f])===JSON.stringify(t)&&(r=!1);r===!0&&this.ingredients.shapes[l].push(t)}}else this.ingredients.shapes[l]=[t]},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.prototype._updateTextOutput=function(c){var a,s,l,u;this.dummyDOM.querySelector("#".concat(c,"_summary"))&&(a=this._accessibleOutputs[c],l=function(d,n,t,r){return t="Your output is a, ".concat(t," by ").concat(r," pixels, ").concat(n," canvas containing the following"),t=d===1?"".concat(t," shape:"):"".concat(t," ").concat(d," shapes:"),t}((s=function(d,n){var t,r="",i=0;for(t in n)for(var f in n[t]){var h='<li><a href="#'.concat(d,"shape").concat(i,'">').concat(n[t][f].color," ").concat(t,"</a>");t==="line"?h+=", ".concat(n[t][f].pos,", ").concat(n[t][f].length," pixels long.</li>"):(h+=", at ".concat(n[t][f].pos),t!=="point"&&(h+=", covering ".concat(n[t][f].area,"% of the canvas")),h+=".</li>"),r+=h,i++}return{numShapes:i,listShapes:r}}(c,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),u=function(d,n){var t,r="",i=0;for(t in n)for(var f in n[t]){var h='<tr id="'.concat(d,"shape").concat(i,'"><th>').concat(n[t][f].color," ").concat(t,"</th>");t==="line"?h+="<td>location = ".concat(n[t][f].pos,"</td><td>length = ").concat(n[t][f].length," pixels</td></tr>"):(h+="<td>location = ".concat(n[t][f].pos,"</td>"),t!=="point"&&(h+="<td> area = ".concat(n[t][f].area,"%</td>")),h+="</tr>"),r+=h,i++}return r}(c,this.ingredients.shapes),l!==a.summary.innerHTML&&(a.summary.innerHTML=l),s.listShapes!==a.list.innerHTML&&(a.list.innerHTML=s.listShapes),u!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=u),this._accessibleOutputs[c]=a)},o=o.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(o,P,y){var c=(c=o("./core/main"))&&c.__esModule?c:{default:c};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),P.exports=c.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.ColorConversion={},o.default.ColorConversion._hsbaToHSLA=function(c){var a=c[0],s=c[1],l=c[2],u=(2-s)*l/2;return u!=0&&(u==1?s=0:u<.5?s/=2-s:s=s*l/(2-2*u)),[a,s,u,c[3]]},o.default.ColorConversion._hsbaToRGBA=function(c){var a,s,l,u,d,n=6*c[0],t=c[1],r=c[2];return t===0?[r,r,r,c[3]]:(s=r*(1-t),l=r*(1-t*(n-(a=Math.floor(n)))),t=r*(1-t*(1+a-n)),n=a===1?(u=l,d=r,s):a===2?(u=s,d=r,t):a===3?(u=s,d=l,r):a===4?(u=t,d=s,r):a===5?(u=r,d=s,l):(u=r,d=t,s),[u,d,n,c[3]])},o.default.ColorConversion._hslaToHSBA=function(c){var a=c[0],s=c[1],l=c[2],u=l<.5?(1+s)*l:l+s-l*s;return[a,s=2*(u-l)/u,u,c[3]]},o.default.ColorConversion._hslaToRGBA=function(c){var a,s=6*c[0],l=c[1],u=c[2];return l===0?[u,u,u,c[3]]:[(a=function(d,n,t){return d<0?d+=6:6<=d&&(d-=6),d<1?n+(t-n)*d:d<3?t:d<4?n+(t-n)*(4-d):n})(2+s,l=2*u-(u=u<.5?(1+l)*u:u+l-u*l),u),a(s,l,u),a(s-2,l,u),c[3]]},o.default.ColorConversion._rgbaToHSBA=function(c){var a,s,l=c[0],u=c[1],d=c[2],n=Math.max(l,u,d),t=n-Math.min(l,u,d);return t==0?s=a=0:(s=t/n,l===n?a=(u-d)/t:u===n?a=2+(d-l)/t:d===n&&(a=4+(l-u)/t),a<0?a+=6:6<=a&&(a-=6)),[a/6,s,n,c[3]]},o.default.ColorConversion._rgbaToHSLA=function(c){var a,s,l=c[0],u=c[1],d=c[2],n=Math.max(l,u,d),r=Math.min(l,u,d),t=n+r,r=n-r;return r==0?s=a=0:(s=t<1?r/t:r/(2-t),l===n?a=(u-d)/r:u===n?a=2+(d-l)/r:d===n&&(a=4+(l-u)/r),a<0?a+=6:6<=a&&(a-=6)),[a/6,s,t/2,c[3]]},o=o.default.ColorConversion,y.default=o},{"../core/main":267}],253:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(n){return s.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},s.default.prototype.blue=function(n){return s.default._validateParameters("blue",arguments),this.color(n)._getBlue()},s.default.prototype.brightness=function(n){return s.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},s.default.prototype.color=function(){var n;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(n=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,n))},s.default.prototype.green=function(n){return s.default._validateParameters("green",arguments),this.color(n)._getGreen()},s.default.prototype.hue=function(n){return s.default._validateParameters("hue",arguments),this.color(n)._getHue()},s.default.prototype.lerpColor=function(n,t,r){s.default._validateParameters("lerpColor",arguments);var i,f,h,g=this._colorMode,v=this._colorMaxes;if(g===l.RGB)f=n.levels.map(function(b){return b/255}),h=t.levels.map(function(b){return b/255});else if(g===l.HSB)n._getBrightness(),t._getBrightness(),f=n.hsba,h=t.hsba;else{if(g!==l.HSL)throw new Error("".concat(g,"cannot be used for interpolation."));n._getLightness(),t._getLightness(),f=n.hsla,h=t.hsla}return r=Math.max(Math.min(r,1),0),this.lerp===void 0&&(this.lerp=function(b,m,w){return w*(m-b)+b}),n=this.lerp(f[0],h[0],r),t=this.lerp(f[1],h[1],r),i=this.lerp(f[2],h[2],r),f=this.lerp(f[3],h[3],r),n*=v[g][0],t*=v[g][1],i*=v[g][2],f*=v[g][3],this.color(n,t,i,f)},s.default.prototype.lightness=function(n){return s.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},s.default.prototype.red=function(n){return s.default._validateParameters("red",arguments),this.color(n)._getRed()},s.default.prototype.saturation=function(n){return s.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var d=s.default;y.default=d},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(r,P,y){function c(v){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(v)}function a(v){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(b){return c(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":c(b)})(v)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=n(r("../core/main")),l=function(v){if(v&&v.__esModule)return v;if(v===null||a(v)!=="object"&&typeof v!="function")return{default:v};var b=d();if(b&&b.has(v))return b.get(v);var m,w={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in v){var S;Object.prototype.hasOwnProperty.call(v,m)&&((S=j?Object.getOwnPropertyDescriptor(v,m):null)&&(S.get||S.set)?Object.defineProperty(w,m,S):w[m]=v[m])}return w.default=v,b&&b.set(v,w),w}(r("../core/constants")),u=n(r("./color_conversion"));function d(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,d=function(){return v},v)}function n(v){return v&&v.__esModule?v:{default:v}}s.default.Color=function(v,b){if(this._storeModeAndMaxes(v._colorMode,v._colorMaxes),this.mode!==l.RGB&&this.mode!==l.HSL&&this.mode!==l.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=s.default.Color._parseInputs.apply(this,b),this._calculateLevels(),this},s.default.Color.prototype.toString=function(v){var b=this.levels,m=this._array,w=m[3];switch(v){case"#rrggbb":return"#".concat(b[0]<16?"0".concat(b[0].toString(16)):b[0].toString(16),b[1]<16?"0".concat(b[1].toString(16)):b[1].toString(16),b[2]<16?"0".concat(b[2].toString(16)):b[2].toString(16));case"#rrggbbaa":return"#".concat(b[0]<16?"0".concat(b[0].toString(16)):b[0].toString(16),b[1]<16?"0".concat(b[1].toString(16)):b[1].toString(16),b[2]<16?"0".concat(b[2].toString(16)):b[2].toString(16),b[3]<16?"0".concat(b[3].toString(16)):b[3].toString(16));case"#rgb":return"#".concat(Math.round(15*m[0]).toString(16),Math.round(15*m[1]).toString(16),Math.round(15*m[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*m[0]).toString(16),Math.round(15*m[1]).toString(16),Math.round(15*m[2]).toString(16),Math.round(15*m[3]).toString(16));case"rgb":return"rgb(".concat(b[0],", ",b[1],", ",b[2],")");case"rgb%":return"rgb(".concat((100*m[0]).toPrecision(3),"%, ",(100*m[1]).toPrecision(3),"%, ",(100*m[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*m[0]).toPrecision(3),"%, ",(100*m[1]).toPrecision(3),"%, ",(100*m[2]).toPrecision(3),"%, ",(100*m[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[l.HSB][0],", ",this.hsba[1]*this.maxes[l.HSB][1],", ",this.hsba[2]*this.maxes[l.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[l.HSB][0],", ",this.hsba[1]*this.maxes[l.HSB][1],", ",this.hsba[2]*this.maxes[l.HSB][2],", ",w,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*w).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[l.HSL][0],", ",this.hsla[1]*this.maxes[l.HSL][1],", ",this.hsla[2]*this.maxes[l.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[l.HSL][0],", ",this.hsla[1]*this.maxes[l.HSL][1],", ",this.hsla[2]*this.maxes[l.HSL][2],", ",w,")");case"hsla%":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*w).toPrecision(3),"%)");default:return"rgba(".concat(b[0],",",b[1],",",b[2],",",w,")")}},s.default.Color.prototype.setRed=function(v){this._array[0]=v/this.maxes[l.RGB][0],this._calculateLevels()},s.default.Color.prototype.setGreen=function(v){this._array[1]=v/this.maxes[l.RGB][1],this._calculateLevels()},s.default.Color.prototype.setBlue=function(v){this._array[2]=v/this.maxes[l.RGB][2],this._calculateLevels()},s.default.Color.prototype.setAlpha=function(v){this._array[3]=v/this.maxes[this.mode][3],this._calculateLevels()},s.default.Color.prototype._calculateLevels=function(){for(var v=this._array,b=this.levels=new Array(v.length),m=v.length-1;0<=m;--m)b[m]=Math.round(255*v[m]);this.hsla=null,this.hsba=null},s.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},s.default.Color.prototype._storeModeAndMaxes=function(v,b){this.mode=v,this.maxes=b},s.default.Color.prototype._getMode=function(){return this.mode},s.default.Color.prototype._getMaxes=function(){return this.maxes},s.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[l.RGB][2]},s.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[l.HSB][2]},s.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[l.RGB][1]},s.default.Color.prototype._getHue=function(){return this.mode===l.HSB?(this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[l.HSB][0]):(this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[l.HSL][0])},s.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[l.HSL][2]},s.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[l.RGB][0]},s.default.Color.prototype._getSaturation=function(){return this.mode===l.HSB?(this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[l.HSB][1]):(this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[l.HSL][1])};var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r=/\s*/,g=/(\d{1,3})/,i=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,f=new RegExp("".concat(i.source,"%")),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(r.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(r.source),"i"),RGBA:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",i.source,"\\)$"].join(r.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",i.source,"\\)$"].join(r.source),"i"),HSL:new RegExp(["^hsl\\(",g.source,",",f.source,",",f.source,"\\)$"].join(r.source),"i"),HSLA:new RegExp(["^hsla\\(",g.source,",",f.source,",",f.source,",",i.source,"\\)$"].join(r.source),"i"),HSB:new RegExp(["^hsb\\(",g.source,",",f.source,",",f.source,"\\)$"].join(r.source),"i"),HSBA:new RegExp(["^hsba\\(",g.source,",",f.source,",",f.source,",",i.source,"\\)$"].join(r.source),"i")},g=(s.default.Color._parseInputs=function(v,b,m,w){var j,S=arguments.length,T=this.mode,E=this.maxes[T],C=[];if(3<=S){for(C[0]=v/E[0],C[1]=b/E[1],C[2]=m/E[2],C[3]=typeof w=="number"?w/E[3]:1,j=C.length-1;0<=j;--j){var L=C[j];L<0?C[j]=0:1<L&&(C[j]=1)}return T===l.HSL?u.default._hslaToRGBA(C):T===l.HSB?u.default._hsbaToRGBA(C):C}if(S===1&&typeof v=="string"){if(m=v.trim().toLowerCase(),t[m])return s.default.Color._parseInputs.call(this,t[m]);if(h.HEX3.test(m))return(C=h.HEX3.exec(m).slice(1).map(function(k){return parseInt(k+k,16)/255}))[3]=1,C;if(h.HEX6.test(m))return(C=h.HEX6.exec(m).slice(1).map(function(k){return parseInt(k,16)/255}))[3]=1,C;if(h.HEX4.test(m))return C=h.HEX4.exec(m).slice(1).map(function(k){return parseInt(k+k,16)/255});if(h.HEX8.test(m))return C=h.HEX8.exec(m).slice(1).map(function(k){return parseInt(k,16)/255});if(h.RGB.test(m))return(C=h.RGB.exec(m).slice(1).map(function(k){return k/255}))[3]=1,C;if(h.RGB_PERCENT.test(m))return(C=h.RGB_PERCENT.exec(m).slice(1).map(function(k){return parseFloat(k)/100}))[3]=1,C;if(h.RGBA.test(m))return C=h.RGBA.exec(m).slice(1).map(function(k,D){return D===3?parseFloat(k):k/255});if(h.RGBA_PERCENT.test(m))return C=h.RGBA_PERCENT.exec(m).slice(1).map(function(k,D){return D===3?parseFloat(k):parseFloat(k)/100});if(h.HSL.test(m)?(C=h.HSL.exec(m).slice(1).map(function(k,D){return D===0?parseInt(k,10)/360:parseInt(k,10)/100}))[3]=1:h.HSLA.test(m)&&(C=h.HSLA.exec(m).slice(1).map(function(k,D){return D===0?parseInt(k,10)/360:D===3?parseFloat(k):parseInt(k,10)/100})),(C=C.map(function(k){return Math.max(Math.min(k,1),0)})).length)return u.default._hslaToRGBA(C);if(h.HSB.test(m)?(C=h.HSB.exec(m).slice(1).map(function(k,D){return D===0?parseInt(k,10)/360:parseInt(k,10)/100}))[3]=1:h.HSBA.test(m)&&(C=h.HSBA.exec(m).slice(1).map(function(k,D){return D===0?parseInt(k,10)/360:D===3?parseFloat(k):parseInt(k,10)/100})),C.length){for(j=C.length-1;0<=j;--j)C[j]=Math.max(Math.min(C[j],1),0);return u.default._hsbaToRGBA(C)}C=[1,1,1,1]}else{if(S!==1&&S!==2||typeof v!="number")throw new Error("".concat(arguments,"is not a valid color representation."));C[0]=v/E[2],C[1]=v/E[2],C[2]=v/E[2],C[3]=typeof b=="number"?b/E[3]:1,C=C.map(function(k){return Math.max(Math.min(k,1),0)})}return C},s.default.Color);y.default=g},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}o("./p5.Color"),s.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(n,t,r,i,f){return s.default._validateParameters("colorMode",arguments),n!==l.RGB&&n!==l.HSB&&n!==l.HSL||(this._colorMode=n,n=this._colorMaxes[n],arguments.length===2?(n[0]=t,n[1]=t,n[2]=t,n[3]=t):arguments.length===4?(n[0]=t,n[1]=r,n[2]=i):arguments.length===5&&(n[0]=t,n[1]=r,n[2]=i,n[3]=f)),this},s.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var d=s.default;y.default=d},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.BEZIER=y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL=y.P2D=y.VERSION=void 0,y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=void 0;var c=Math.PI,a=(y.VERSION="1.6.0",y.P2D="p2d",y.WEBGL="webgl",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",c/2),a=(y.HALF_PI=a,c),a=(y.PI=a,c/4),a=(y.QUARTER_PI=a,2*c),a=(y.TAU=a,2*c),a=(y.TWO_PI=a,y.DEGREES="degrees",y.RADIANS="radians",c/180),a=(y.DEG_TO_RAD=a,180/c);y.RAD_TO_DEG=a,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover"},{}],257:[function(o,P,y){function c(i){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function a(i){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(f){return c(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":c(f)})(i)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(l=o("./main"))&&l.__esModule?l:{default:l},l=function(i){if(i&&i.__esModule)return i;if(i===null||a(i)!=="object"&&typeof i!="function")return{default:i};var f=u();if(f&&f.has(i))return f.get(i);var h,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var b;Object.prototype.hasOwnProperty.call(i,h)&&((b=v?Object.getOwnPropertyDescriptor(i,h):null)&&(b.get||b.set)?Object.defineProperty(g,h,b):g[h]=i[h])}return g.default=i,f&&f.set(i,g),g}(o("./constants"));function u(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,u=function(){return i},i)}var d=[l.ARROW,l.CROSS,l.HAND,l.MOVE,l.TEXT,l.WAIT],n=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print);function t(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function r(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var i;arguments.length?(i=console).log.apply(i,arguments):n()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(i,f,h){var g,v="auto",b=this._curElement.elt;d.includes(i)?v=i:typeof i=="string"&&(g="",f&&h&&typeof f=="number"&&typeof h=="number"&&(g="".concat(f," ").concat(h)),v=i.substring(0,7)==="http://"||i.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(i)?"url(".concat(i,") ").concat(g,", auto"):i),b.style.cursor=v},s.default.prototype.frameRate=function(i){return s.default._validateParameters("frameRate",arguments),typeof i!="number"||i<0?this._frameRate:(this._setProperty("_targetFrameRate",i),i===0&&this._setProperty("_frameRate",i),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(i){return this.frameRate(i)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=t(),s.default.prototype.windowHeight=r(),s.default.prototype._onresize=function(i){this._setProperty("windowWidth",t()),this._setProperty("windowHeight",r());var f=this._isGlobal?window:this;typeof f.windowResized!="function"||(f=f.windowResized(i))===void 0||f||i.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(i){if(s.default._validateParameters("fullscreen",arguments),i===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(i){if(i=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(i){var f;return s.default._validateParameters("pixelDensity",arguments),typeof i=="number"?(i!==this._pixelDensity&&(this._pixelDensity=i),(f=this).resizeCanvas(this.width,this.height,!0)):f=this._pixelDensity,f},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(i){return i!==""})},s.default.prototype.getURLParams=function(){for(var i,f=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,h={};(i=f.exec(location.search))!=null;)i.index===f.lastIndex&&f.lastIndex++,h[i[1]]=i[2];return h},o=s.default,y.default=o},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(d=o("../main"))&&d.__esModule?d:{default:d};o("../internationalization");function a(n,t){t=t||console.log.bind(console),s||u(),s.some(function(r){var i;if(n.message&&n.message.match("\\W?".concat(r.name,"\\W"))!==null)return i=r.type==="function"?"".concat(r.name,"()"):r.name,t("Did you just try to use p5.js's ".concat(i," ").concat(r.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(l)),!0})}var s=null,u=null,l=(c.default._friendlyError=c.default._checkForUserDefinedFunctions=c.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),u=function(){function n(r){return Object.getOwnPropertyNames(r).filter(function(i){return i[0]!=="_"&&!(i in t)&&(t[i]=!0)}).map(function(i){var f=typeof r[i]=="function"?"function":i===i.toUpperCase()?"constant":"variable";return{name:i,type:f}})}var t={};(s=[].concat(n(c.default.prototype),n(o("../constants")))).sort(function(r,i){return i.name.length-r.name.length})},d=(c.default.prototype._helpForMisusedAtTopLevelCode=a,document.readyState!=="complete"&&(window.addEventListener("error",a,!1),window.addEventListener("load",function(){window.removeEventListener("error",a,!1)})),c.default);y.default=d},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(c=o("../main"))&&c.__esModule?c:{default:c};o("../internationalization"),c.default._friendlyFileLoadError=function(){},o=c.default,y.default=o},{"../internationalization":265,"../main":267}],260:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function a(t){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=d(o("../main"));o("../internationalization"),u(o("../constants"));function l(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,l=function(){return t},t)}function u(t){if(t&&t.__esModule)return t;if(t===null||a(t)!=="object"&&typeof t!="function")return{default:t};var r=l();if(r&&r.has(t))return r.get(t);var i,f,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&((f=g?Object.getOwnPropertyDescriptor(t,i):null)&&(f.get||f.set)?Object.defineProperty(h,i,f):h[i]=t[i]);return h.default=t,r&&r.set(t,h),h}function d(t){return t&&t.__esModule?t:{default:t}}s.default._fesCodeReader=function(){};var n=s.default;y.default=n},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(o,P,y){o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../main"))&&o.__esModule?o:{default:o};function c(){var a=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,l=/^(eval@)?(\[native code])?$/;return{parse:function(u){return u.stacktrace!==void 0||u["opera#sourceloc"]!==void 0?this.parseOpera(u):u.stack&&u.stack.match(s)?this.parseV8OrIE(u):u.stack?this.parseFFOrSafari(u):void 0},extractLocation:function(u){return u.indexOf(":")===-1?[u]:[(u=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(u.replace(/[()]/g,"")))[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(u){return u.stack.split(`
`).filter(function(d){return!!d.match(s)},this).map(function(d){var n=(d=-1<d.indexOf("(eval ")?d.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):d).replace(/^\s+/,"").replace(/\(eval code/g,"("),t=n.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(n=t?n.replace(t[0],""):n).split(/\s+/).slice(1),t=this.extractLocation(t?t[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(t[0])?void 0:t[0],lineNumber:t[1],columnNumber:t[2],source:d}},this)},parseFFOrSafari:function(u){return u.stack.split(`
`).filter(function(d){return!d.match(l)},this).map(function(d){var n,t;return(d=-1<d.indexOf(" > eval")?d.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):d).indexOf("@")===-1&&d.indexOf(":")===-1?{functionName:d}:{functionName:(t=d.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&t[1]?t[1]:void 0,fileName:(t=this.extractLocation(d.replace(n,"")))[0],lineNumber:t[1],columnNumber:t[2],source:d}},this)},parseOpera:function(u){return!u.stacktrace||-1<u.message.indexOf(`
`)&&u.message.split(`
`).length>u.stacktrace.split(`
`).length?this.parseOpera9(u):u.stack?this.parseOpera11(u):this.parseOpera10(u)},parseOpera9:function(u){for(var d=/Line (\d+).*script (?:in )?(\S+)/i,n=u.message.split(`
`),t=[],r=2,i=n.length;r<i;r+=2){var f=d.exec(n[r]);f&&t.push({fileName:f[2],lineNumber:f[1],source:n[r]})}return t},parseOpera10:function(u){for(var d=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=u.stacktrace.split(`
`),t=[],r=0,i=n.length;r<i;r+=2){var f=d.exec(n[r]);f&&t.push({functionName:f[3]||void 0,fileName:f[2],lineNumber:f[1],source:n[r]})}return t},parseOpera11:function(u){return u.stack.split(`
`).filter(function(d){return!!d.match(a)&&!d.match(/^Error created at/)},this).map(function(d){var n,r=d.split("@"),t=this.extractLocation(r.pop()),r=r.shift()||"";return{functionName:r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(n=r.match(/\(([^)]*)\)/)?r.replace(/^[^(]+\(([^)]*)\)$/,"$1"):n)===void 0||n==="[arguments not available]"?void 0:n.split(","),fileName:t[0],lineNumber:t[1],columnNumber:t[2],source:d}},this)}}}o.default._getErrorStackParser=function(){return new c},o=o.default,y.default=o},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(o,P,y){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(a=o("../main"))&&a.__esModule?a:{default:a};(function(u){if(!(u&&u.__esModule)&&!(u===null||l(u)!=="object"&&typeof u!="function")){var d=s();if(d&&d.has(u))return d.get(u);var n,t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in u){var i;Object.prototype.hasOwnProperty.call(u,n)&&((i=r?Object.getOwnPropertyDescriptor(u,n):null)&&(i.get||i.set)?Object.defineProperty(t,n,i):t[n]=u[n])}t.default=u,d&&d.set(u,t)}})(o("../constants")),o("../internationalization");function s(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,s=function(){return u},u)}function l(u){return(l=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(d){return c(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":c(d)})(u)}a.default._validateParameters=a.default._clearValidateParamsCache=function(){},o=a.default,y.default=o},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(o,P,y){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(d){return c(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":c(d)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var d=l();if(d&&d.has(u))return d.get(u);var n,t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in u){var i;Object.prototype.hasOwnProperty.call(u,n)&&((i=r?Object.getOwnPropertyDescriptor(u,n):null)&&(i.get||i.set)?Object.defineProperty(t,n,i):t[n]=u[n])}return t.default=u,d&&d.set(u,t),t}(o("./constants"));function l(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,l=function(){return u},u)}y.default={modeAdjust:function(u,d,n,t,r){return r===s.CORNER?{x:u,y:d,w:n,h:t}:r===s.CORNERS?{x:u,y:d,w:n-u,h:t-d}:r===s.RADIUS?{x:u-n,y:d-t,w:2*n,h:2*t}:r===s.CENTER?{x:u-.5*n,y:d-.5*t,w:n,h:t}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(o,P,y){o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var c=(a=o("../core/main"))&&a.__esModule?a:{default:a};o("./internationalization");var a=Promise.resolve();Promise.all([new Promise(function(s,l){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),a]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!c.default.instance&&new c.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(o,P,y){o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var c,a,s=u(o("i18next")),l=u(o("i18next-browser-languagedetector"));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,r){for(var i=0;i<r.length;i++){var f=r[i];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(t,f.key,f)}}var n=function(){function t(f,h){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.init(f,h)}var r,i;return r=t,(i=[{key:"fetchWithTimeout",value:function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(f,h),new Promise(function(v,b){return setTimeout(function(){return b(new Error("timeout"))},g)})])}},{key:"init",value:function(f){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=f,this.options=h}},{key:"read",value:function(f,h,g){var v=this.options.loadPath;f===this.options.fallback?g(null,c[f][h]):a.includes(f)?(v=this.services.interpolator.interpolate(v,{lng:f,ns:h}),this.loadUrl(v,g)):g("Not found",!1)}},{key:"loadUrl",value:function(f,h){this.fetchWithTimeout(f).then(function(g){if(g.ok)return g.json();throw new Error("failed loading ".concat(f))},function(){throw new Error("failed loading ".concat(f))}).then(function(g){return h(null,g)}).catch(h)}}])&&d(r.prototype,i),t}();n.type="backend",y.translator=function(t,r){console.debug("p5.js translator called before translations were loaded"),s.default.t(t,r)},y.initialize=function(){return s.default.use(l.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:c}).then(function(t){y.translator=t},function(t){return console.debug("Translations failed to load (".concat(t,")"))})},y.availableTranslatorLanguages=function(){return s.default.languages},y.currentTranslatorLanguage=function(t){return s.default.language},y.setTranslatorLanguage=function(t){return s.default.changeLanguage(t||void 0,function(r){return console.debug("Translations failed to load (".concat(r,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("./main"))&&o.__esModule?o:{default:o},o.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},o=o.default,y.default=o},{"./main":267}],267:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function a(t){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o("./shim");var s=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!=="object"&&typeof t!="function")return{default:t};var r=l();if(r&&r.has(t))return r.get(t);var i,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var g;Object.prototype.hasOwnProperty.call(t,i)&&((g=h?Object.getOwnPropertyDescriptor(t,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=t[i])}return f.default=t,r&&r.set(t,f),f}(o("./constants"));function l(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,l=function(){return t},t)}function u(t,r){for(var i=0;i<r.length;i++){var f=r[i];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(t,f.key,f)}}var d,n=function(){function t(f,b,g){var v=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var b=Object.getOwnPropertyNames(t.prototype._registeredMethods),m=!0,w=!1,j=void 0;try{for(var S,T=b[Symbol.iterator]();!(m=(S=T.next()).done);m=!0){var E=S.value;this._registeredMethods[E]=t.prototype._registeredMethods[E].slice()}}catch(z){w=!0,j=z}finally{try{m||T.return==null||T.return()}finally{if(w)throw j}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){v._userNode&&typeof v._userNode=="string"&&(v._userNode=document.getElementById(v._userNode));var z=v._isGlobal?window:v;if(z.preload){var X,Y=document.getElementById(v._loadingScreenId),ee=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=v._loadingScreenId,(v._userNode||document.body).appendChild(Y)),v._preloadMethods);for(X in ee){ee[X]=ee[X]||t;var O=ee[X];O!==t.prototype&&O!==t||(v._isGlobal&&(window[X]=v._wrapPreload(v,X)),O=v),v._registeredPreloadMethods[X]=O[X],O[X]=v._wrapPreload(O,X)}z.preload(),v._runIfPreloadsAreDone()}else v._setup(),v._recording||v._draw()},this._runIfPreloadsAreDone=function(){var z,X=this._isGlobal?window:this;X._preloadCount===0&&((z=document.getElementById(X._loadingScreenId))&&z.parentNode.removeChild(z),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),X._setup(),this._recording||X._draw()))},this._decrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||typeof z.preload!="function"||(z._setProperty("_preloadCount",z._preloadCount-1),z._runIfPreloadsAreDone())},this._wrapPreload=function(z,X){var Y=this;return function(){Y._incrementPreload();for(var ee=arguments.length,O=new Array(ee),R=0;R<ee;R++)O[R]=arguments[R];return Y._registeredPreloadMethods[X].apply(z,O)}},this._incrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||z._setProperty("_preloadCount",z._preloadCount+1)},this._setup=function(){v.createCanvas(v._defaultCanvasSize.width,v._defaultCanvasSize.height,"p2d");var z=v._isGlobal?window:v;if(typeof z.preload=="function")for(var X in v._preloadMethods)z[X]=v._preloadMethods[X][X],z[X]&&v&&(z[X]=z[X].bind(v));v._millisStart=window.performance.now(),z._preloadDone=!0,typeof z.setup=="function"&&z.setup();var Y=document.getElementsByTagName("canvas"),ee=!0,O=!1,R=void 0;try{for(var B,W=Y[Symbol.iterator]();!(ee=(B=W.next()).done);ee=!0){var K=B.value;K.dataset.hidden==="true"&&(K.style.visibility="",delete K.dataset.hidden)}}catch(ne){O=!0,R=ne}finally{try{ee||W.return==null||W.return()}finally{if(O)throw R}}v._lastTargetFrameTime=window.performance.now(),v._lastRealFrameTime=window.performance.now(),v._setupDone=!0,(v._accessibleOutputs.grid||v._accessibleOutputs.text)&&v._updateAccsOutput()},this._draw=function(){var z=window.performance.now(),X=z-v._lastTargetFrameTime,Y=1e3/v._targetFrameRate;(!v._loop||Y-5<=X)&&(v.redraw(),v._frameRate=1e3/(z-v._lastRealFrameTime),v.deltaTime=z-v._lastRealFrameTime,v._setProperty("deltaTime",v.deltaTime),v._lastTargetFrameTime=Math.max(v._lastTargetFrameTime+Y,z),v._lastRealFrameTime=z,v._updateMouseCoords!==void 0&&(v._updateMouseCoords(),v._setProperty("movedX",0),v._setProperty("movedY",0))),v._loop&&(v._requestAnimId=window.requestAnimationFrame(v._draw))},this._setProperty=function(z,X){v[z]=X,v._isGlobal&&(window[z]=X)},this.remove=function(){var z=document.getElementById(v._loadingScreenId);if(z&&(z.parentNode.removeChild(z),v._incrementPreload()),v._curElement){for(var X in v._loop=!1,v._requestAnimId&&window.cancelAnimationFrame(v._requestAnimId),v._events)window.removeEventListener(X,v._events[X]);var Y=!0,z=!1,ee=void 0;try{for(var O,R=v._elements[Symbol.iterator]();!(Y=(O=R.next()).done);Y=!0){var B,W=O.value;for(B in W.elt&&W.elt.parentNode&&W.elt.parentNode.removeChild(W.elt),W._events)W.elt.removeEventListener(B,W._events[B])}}catch(oe){z=!0,ee=oe}finally{try{Y||R.return==null||R.return()}finally{if(z)throw ee}}var K=v;v._registeredMethods.remove.forEach(function(oe){oe!==void 0&&oe.call(K)})}if(v._isGlobal){for(var ne in t.prototype)try{delete window[ne]}catch{window[ne]=void 0}for(var ie in v)if(v.hasOwnProperty(ie))try{delete window[ie]}catch{window[ie]=void 0}t.instance=null}},this._registeredMethods.init.forEach(function(z){z!==void 0&&z.call(this)},this),this._setupPromisePreloads();var C,L,k=this._createFriendlyGlobalFunctionBinder();if(f)f(this),t._checkForUserDefinedFunctions(this);else{for(var D in this._isGlobal=!0,t.instance=this,t.prototype)typeof t.prototype[D]=="function"?(C=D.substring(2),this._events.hasOwnProperty(C)||(Math.hasOwnProperty(D)&&Math[D]===t.prototype[D]?k(D,t.prototype[D]):k(D,t.prototype[D].bind(this)))):k(D,t.prototype[D]);for(var F in this)this.hasOwnProperty(F)&&k(F,this[F])}for(L in this._events){var V=this["_on".concat(L)];V&&(V=V.bind(this),window.addEventListener(L,V,{passive:!1}),this._events[L]=V)}function G(){v._setProperty("focused",!0)}function H(){v._setProperty("focused",!1)}window.addEventListener("focus",G),window.addEventListener("blur",H),this.registerMethod("remove",function(){window.removeEventListener("focus",G),window.removeEventListener("blur",H)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var r,i;return r=t,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(f,h){t.prototype._preloadMethods.hasOwnProperty(f)||(t.prototype._preloadMethods[f]=h)}},{key:"registerMethod",value:function(f,h){var g=this||t.prototype;g._registeredMethods.hasOwnProperty(f)||(g._registeredMethods[f]=[]),g._registeredMethods[f].push(h)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=f.globalObject||window;return f.log||console.log.bind(console),function(g,v){t.disableFriendlyErrors,h[g]=v}}}])&&u(r.prototype,i),t}();for(d in n.instance=null,n.disableFriendlyErrors=!1,s)n.prototype[d]=s[d];n.VERSION=s.VERSION,n.prototype._preloadMethods={loadJSON:n.prototype,loadImage:n.prototype,loadStrings:n.prototype,loadXML:n.prototype,loadBytes:n.prototype,loadTable:n.prototype,loadFont:n.prototype,loadModel:n.prototype,loadShader:n.prototype},n.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},n.prototype._registeredPreloadMethods={},y.default=n},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("./main"))&&o.__esModule?o:{default:o};c.default.Element=function(a,s){this.elt=a,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},c.default.Element.prototype.parent=function(a){return a===void 0?this.elt.parentNode:(typeof a=="string"?(a[0]==="#"&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof c.default.Element&&(a=a.elt),a.appendChild(this.elt),this)},c.default.Element.prototype.id=function(a){return a===void 0?this.elt.id:(this.elt.id=a,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},c.default.Element.prototype.class=function(a){return a===void 0?this.elt.className:(this.elt.className=a,this)},c.default.Element.prototype.mousePressed=function(a){return c.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),a.call(this,s)},this),this},c.default.Element.prototype.doubleClicked=function(a){return c.default.Element._adjustListener("dblclick",a,this),this},c.default.Element.prototype.mouseWheel=function(a){return c.default.Element._adjustListener("wheel",a,this),this},c.default.Element.prototype.mouseReleased=function(a){return c.default.Element._adjustListener("mouseup",a,this),this},c.default.Element.prototype.mouseClicked=function(a){return c.default.Element._adjustListener("click",a,this),this},c.default.Element.prototype.mouseMoved=function(a){return c.default.Element._adjustListener("mousemove",a,this),this},c.default.Element.prototype.mouseOver=function(a){return c.default.Element._adjustListener("mouseover",a,this),this},c.default.Element.prototype.mouseOut=function(a){return c.default.Element._adjustListener("mouseout",a,this),this},c.default.Element.prototype.touchStarted=function(a){return c.default.Element._adjustListener("touchstart",a,this),this},c.default.Element.prototype.touchMoved=function(a){return c.default.Element._adjustListener("touchmove",a,this),this},c.default.Element.prototype.touchEnded=function(a){return c.default.Element._adjustListener("touchend",a,this),this},c.default.Element.prototype.dragOver=function(a){return c.default.Element._adjustListener("dragover",a,this),this},c.default.Element.prototype.dragLeave=function(a){return c.default.Element._adjustListener("dragleave",a,this),this},c.default.Element._adjustListener=function(a,s,l){return s===!1?c.default.Element._detachListener(a,l):c.default.Element._attachListener(a,s,l),this},c.default.Element._attachListener=function(a,s,l){l._events[a]&&c.default.Element._detachListener(a,l),s=s.bind(l),l.elt.addEventListener(a,s,!1),l._events[a]=s},c.default.Element._detachListener=function(a,s){var l=s._events[a];s.elt.removeEventListener(a,l,!1),s._events[a]=null},c.default.Element.prototype._setProperty=function(a,s){this[a]=s},o=c.default.Element,y.default=o},{"./main":267}],269:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("./main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("./constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}s.default.Graphics=function(n,t,h,i){var f,h=h||l.P2D;for(f in this.canvas=document.createElement("canvas"),(i._userNode||document.body).appendChild(this.canvas),s.default.Element.call(this,this.canvas,i),s.default.prototype)this[f]||(typeof s.default.prototype[f]=="function"?this[f]=s.default.prototype[f].bind(this):this[f]=s.default.prototype[f]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=n,this.height=t,this._pixelDensity=i._pixelDensity,h===l.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),i._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(n,t),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var n,t=this._pInst._elements.indexOf(this);for(n in t!==-1&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(n,this._events[n])};var d=s.default.Graphics;y.default=d},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(n=o("./main"))&&n.__esModule?n:{default:n},s=function(t){if(t&&t.__esModule)return t;if(t===null||u(t)!=="object"&&typeof t!="function")return{default:t};var r=l();if(r&&r.has(t))return r.get(t);var i,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var g;Object.prototype.hasOwnProperty.call(t,i)&&((g=h?Object.getOwnPropertyDescriptor(t,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=t[i])}return f.default=t,r&&r.set(t,f),f}(o("../core/constants"));function l(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,l=function(){return t},t)}function u(t){return(u=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}function d(t){var r=0,i=0;if(t.offsetParent)for(;r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;);else r+=t.offsetLeft,i+=t.offsetTop;return[r,i]}a.default.Renderer=function(t,r,i){a.default.Element.call(this,t,r),this.canvas=t,this._pixelsState=r,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._textWrap=s.WORD,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},a.default.Renderer.prototype=Object.create(a.default.Element.prototype),a.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},a.default.Renderer.prototype.pop=function(t){t.properties&&Object.assign(this,t.properties)},a.default.Renderer.prototype.resize=function(t,r){this.width=t,this.height=r,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=r*this._pInst._pixelDensity,this.elt.style.width="".concat(t,"px"),this.elt.style.height="".concat(r,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},a.default.Renderer.prototype.get=function(t,r,i,f){var h=this._pixelsState,g=h._pixelDensity,v=this.canvas;if(t===void 0&&r===void 0)t=r=0,i=h.width,f=h.height;else if(t*=g,r*=g,i===void 0&&f===void 0)return t<0||r<0||t>=v.width||r>=v.height?[0,0,0,0]:this._getPixel(t,r);return h=new a.default.Image(i,f),h.canvas.getContext("2d").drawImage(v,t,r,i*g,f*g,0,0,i,f),h},a.default.Renderer.prototype.textLeading=function(t){return typeof t=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",t),this._pInst):this._textLeading},a.default.Renderer.prototype.textSize=function(t){return typeof t=="number"?(this._setProperty("_textSize",t),this._leadingSet||this._setProperty("_textLeading",t*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},a.default.Renderer.prototype.textStyle=function(t){return t?(t!==s.NORMAL&&t!==s.ITALIC&&t!==s.BOLD&&t!==s.BOLDITALIC||this._setProperty("_textStyle",t),this._applyTextProperties()):this._textStyle},a.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},a.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},a.default.Renderer.prototype.textAlign=function(t,r){return t!==void 0?(this._setProperty("_textAlign",t),r!==void 0&&this._setProperty("_textBaseline",r),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},a.default.Renderer.prototype.textWrap=function(t){return this._setProperty("_textWrap",t),this._textWrap},a.default.Renderer.prototype.text=function(t,r,i,f,h){var g,v,b,m,w=this._pInst,j=this._textWrap,S=Number.MAX_VALUE,T=i;if((this._doFill||this._doStroke)&&t!==void 0){if(g=(t=(t=typeof t!="string"?t.toString():t).replace(/(\t)/g,"  ")).split(`
`),f!==void 0){switch(this._rectMode===s.CENTER&&(r-=f/2),this._textAlign){case s.CENTER:r+=f/2;break;case s.RIGHT:r+=f}if(h!==void 0){this._rectMode===s.CENTER&&(i-=h/2,T-=h/2);var t=i,E=w.textAscent();switch(this._textBaseline){case s.BOTTOM:m=i+h,i=Math.max(m,i),T+=E;break;case s.CENTER:m=i+h/2,i=Math.max(m,i),T+=E/2}S=i+h-E,this._textBaseline===s.CENTER&&(S=t+h-E/2)}else{if(this._textBaseline===s.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===s.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(j===s.WORD){for(var C=[],L=0;L<g.length;L++){for(var k="",D=g[L].split(" "),F=0;F<D.length;F++)v="".concat(k+D[F])+" ",k=f<(b=this.textWidth(v))&&0<k.length?(C.push(k),"".concat(D[F])+" "):v;C.push(k)}var V=0;this._textBaseline===s.CENTER?V=(C.length-1)*w.textLeading()/2:this._textBaseline===s.BOTTOM&&(V=(C.length-1)*w.textLeading());for(var G=0;G<g.length;G++){k="",D=g[G].split(" ");for(var H=0;H<D.length;H++)v="".concat(k+D[H])+" ",f<(b=this.textWidth(v))&&0<k.length?(this._renderText(w,k.trim(),r,i-V,S,T),k="".concat(D[H])+" ",i+=w.textLeading()):k=v;this._renderText(w,k.trim(),r,i-V,S,T),i+=w.textLeading()}}else{for(var z=[],X=0;X<g.length;X++)for(var Y=g[X].split(k=""),ee=0;ee<Y.length;ee++)v="".concat(k+Y[ee]),(b=this.textWidth(v))<=f?k+=Y[ee]:f<b&&0<k.length&&(z.push(k),k="".concat(Y[ee]));z.push(k);var O=0;this._textBaseline===s.CENTER?O=(z.length-1)*w.textLeading()/2:this._textBaseline===s.BOTTOM&&(O=(z.length-1)*w.textLeading());for(var R=0;R<g.length;R++){Y=g[R].split(k="");for(var B=0;B<Y.length;B++)v="".concat(k+Y[B]),(b=this.textWidth(v))<=f?k+=Y[B]:f<b&&0<k.length&&(this._renderText(w,k.trim(),r,i-O,S,T),i+=w.textLeading(),k="".concat(Y[B]))}this._renderText(w,k.trim(),r,i-O,S,T),i+=w.textLeading()}}else{var W=0;this._textBaseline===s.CENTER?W=(g.length-1)*w.textLeading()/2:this._textBaseline===s.BOTTOM&&(W=(g.length-1)*w.textLeading());for(var K=0;K<g.length;K++)this._renderText(w,g[K],r,i-W,S,T-W),i+=w.textLeading()}return w}},a.default.Renderer.prototype._applyDefaults=function(){return this},a.default.Renderer.prototype._isOpenType=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return u(t)==="object"&&t.font&&t.font.supported},a.default.Renderer.prototype._updateTextMetrics=function(){var t,r,i,f,h,g;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((t=document.createElement("span")).style.fontFamily=this._textFont,t.style.fontSize="".concat(this._textSize,"px"),t.innerHTML="ABCjgq|",(g=document.createElement("div")).style.display="inline-block",g.style.width="1px",g.style.height="0px",f=((r=document.createElement("div")).appendChild(t),r.appendChild(g),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),g.style.verticalAlign="baseline",d(g)),h=d(t),i=f[1]-h[1],f=(g.style.verticalAlign="bottom",d(g)),h=d(t),g=f[1]-h[1]-i,document.body.removeChild(r),this._setProperty("_textAscent",i),this._setProperty("_textDescent",g)),this};var n=a.default.Renderer;y.default=n},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function a(t){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(n=o("./main"))&&n.__esModule?n:{default:n},l=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!=="object"&&typeof t!="function")return{default:t};var r=u();if(r&&r.has(t))return r.get(t);var i,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var g;Object.prototype.hasOwnProperty.call(t,i)&&((g=h?Object.getOwnPropertyDescriptor(t,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=t[i])}return f.default=t,r&&r.set(t,f),f}(o("./constants"));function u(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,u=function(){return t},t)}o("./p5.Renderer");var d="rgba(0,0,0,0)",n=(s.default.Renderer2D=function(t,r,i){return s.default.Renderer.call(this,t,r,i),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},s.default.Renderer2D.prototype=Object.create(s.default.Renderer.prototype),s.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=l.BLEND,this._setFill(l._DEFAULT_FILL),this._setStroke(l._DEFAULT_STROKE),this.drawingContext.lineCap=l.ROUND,this.drawingContext.font="normal 12px sans-serif"},s.default.Renderer2D.prototype.resize=function(t,r){s.default.Renderer.prototype.resize.call(this,t,r),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},s.default.Renderer2D.prototype.background=function(){var t,r;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(t=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(t,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(t=this._getFill(),r=(r=this._pInst).color.apply(r,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(r.levels),r=r.toString(),this._setFill(r),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(t),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},s.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},s.default.Renderer2D.prototype.fill=function(){var t=(t=this._pInst).color.apply(t,arguments);this._setFill(t.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",t.levels)},s.default.Renderer2D.prototype.stroke=function(){var t=(t=this._pInst).color.apply(t,arguments);this._setStroke(t.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",t.levels)},s.default.Renderer2D.prototype.erase=function(t,r){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,t=this._pInst.color(255,t).toString(),this.drawingContext.fillStyle=t,this._cachedStrokeStyle=this.drawingContext.strokeStyle,t=this._pInst.color(255,r).toString(),this.drawingContext.strokeStyle=t,r=this._cachedBlendMode,this.blendMode(l.REMOVE),this._cachedBlendMode=r,this._isErasing=!0)},s.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},s.default.Renderer2D.prototype.image=function(t,r,i,f,h,g,v,b,m){t.gifProperties&&t._animateGif(this._pInst);try{s.default.MediaElement&&t instanceof s.default.MediaElement&&t._ensureCanvas();var w=(w=this._tint&&t.canvas?this._getTintedImageCanvas(t):w)||t.canvas||t.elt,j=1;t.width&&0<t.width&&(j=w.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(w,j*r,j*i,j*f,j*h,g,v,b,m),this._isErasing&&this._pInst.erase()}catch(S){if(S.name!=="NS_ERROR_NOT_AVAILABLE")throw S}},s.default.Renderer2D.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement("canvas")),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);var r=t.tintCanvas.getContext("2d");return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(r.drawImage(t.canvas,0,0),r.globalCompositeOperation="luminosity",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="color",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="multiply",r.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation="destination-in"),r.globalAlpha=this._tint[3]/255,r.drawImage(t.canvas,0,0),r.restore(),t.tintCanvas},s.default.Renderer2D.prototype.blendMode=function(t){if(t===l.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(t!==l.BLEND&&t!==l.REMOVE&&t!==l.DARKEST&&t!==l.LIGHTEST&&t!==l.DIFFERENCE&&t!==l.MULTIPLY&&t!==l.EXCLUSION&&t!==l.SCREEN&&t!==l.REPLACE&&t!==l.OVERLAY&&t!==l.HARD_LIGHT&&t!==l.SOFT_LIGHT&&t!==l.DODGE&&t!==l.BURN&&t!==l.ADD)throw new Error("Mode ".concat(t," not recognized."));this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t}},s.default.Renderer2D.prototype.blend=function(){for(var t=this.drawingContext.globalCompositeOperation,r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];var h=i[i.length-1],g=Array.prototype.slice.call(i,0,i.length-1);this.drawingContext.globalCompositeOperation=h,s.default.prototype.copy.apply(this,g),this.drawingContext.globalCompositeOperation=t},s.default.Renderer2D.prototype._getPixel=function(t,r){return t=this.drawingContext.getImageData(t,r,1,1).data,[t[0],t[1],t[2],t[3]]},s.default.Renderer2D.prototype.loadPixels=function(){var t=this._pixelsState,r=t._pixelDensity,i=this.width*r,r=this.height*r,i=this.drawingContext.getImageData(0,0,i,r);t._setProperty("imageData",i),t._setProperty("pixels",i.data)},s.default.Renderer2D.prototype.set=function(t,r,i){t=Math.floor(t),r=Math.floor(r);var f=this._pixelsState;if(i instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(f._pixelDensity,f._pixelDensity),this.drawingContext.clearRect(t,r,i.width,i.height),this.drawingContext.drawImage(i.canvas,t,r),this.drawingContext.restore();else{var h=0,g=0,v=0,b=0,m=4*(r*f._pixelDensity*(this.width*f._pixelDensity)+t*f._pixelDensity);if(f.imageData||f.loadPixels.call(f),typeof i=="number")m<f.pixels.length&&(v=g=h=i,b=255);else if(i instanceof Array){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");m<f.pixels.length&&(h=i[0],g=i[1],v=i[2],b=i[3])}else i instanceof s.default.Color&&m<f.pixels.length&&(h=i.levels[0],g=i.levels[1],v=i.levels[2],b=i.levels[3]);for(var w=0;w<f._pixelDensity;w++)for(var j=0;j<f._pixelDensity;j++)m=4*((r*f._pixelDensity+j)*this.width*f._pixelDensity+(t*f._pixelDensity+w)),f.pixels[m]=h,f.pixels[m+1]=g,f.pixels[m+2]=v,f.pixels[m+3]=b}},s.default.Renderer2D.prototype.updatePixels=function(t,r,i,f){var h=this._pixelsState,g=h._pixelDensity;t===void 0&&r===void 0&&i===void 0&&f===void 0&&(r=t=0,i=this.width,f=this.height),t*=g,r*=g,i*=g,f*=g,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=h.imageData),this.drawingContext.putImageData(h.imageData,t,r,0,0,i,f)},s.default.Renderer2D.prototype._acuteArcToBezier=function(t,r){var g=r/2,i=Math.cos(g),b=Math.sin(g),f=1/Math.tan(g),g=t+g,h=Math.cos(g),g=Math.sin(g),v=(4-i)/3,b=b+(i-v)*f;return{ax:Math.cos(t).toFixed(7),ay:Math.sin(t).toFixed(7),bx:(v*h+b*g).toFixed(7),by:(v*g-b*h).toFixed(7),cx:(v*h-b*g).toFixed(7),cy:(v*g+b*h).toFixed(7),dx:Math.cos(t+r).toFixed(7),dy:Math.sin(t+r).toFixed(7)}},s.default.Renderer2D.prototype.arc=function(t,r,i,f,h,g,v){var b,m=this.drawingContext,w=i/2,j=f/2,S=[];for(t+=w,r+=j;1e-5<=g-h;)b=Math.min(g-h,l.HALF_PI),S.push(this._acuteArcToBezier(h,b)),h+=b;return this._doFill&&(m.beginPath(),S.forEach(function(T,E){E===0&&m.moveTo(t+T.ax*w,r+T.ay*j),m.bezierCurveTo(t+T.bx*w,r+T.by*j,t+T.cx*w,r+T.cy*j,t+T.dx*w,r+T.dy*j)}),v!==l.PIE&&v!=null||m.lineTo(t,r),m.closePath(),m.fill()),this._doStroke&&(m.beginPath(),S.forEach(function(T,E){E===0&&m.moveTo(t+T.ax*w,r+T.ay*j),m.bezierCurveTo(t+T.bx*w,r+T.by*j,t+T.cx*w,r+T.cy*j,t+T.dx*w,r+T.dy*j)}),v===l.PIE?(m.lineTo(t,r),m.closePath()):v===l.CHORD&&m.closePath(),m.stroke()),this},s.default.Renderer2D.prototype.ellipse=function(S){var r=this.drawingContext,i=this._doFill,f=this._doStroke,h=parseFloat(S[0]),g=parseFloat(S[1]),j=parseFloat(S[2]),S=parseFloat(S[3]);if(i&&!f){if(this._getFill()===d)return this}else if(!i&&f&&this._getStroke()===d)return this;var v=j/2*.5522847498,b=S/2*.5522847498,m=h+j,w=g+S,j=h+j/2,S=g+S/2;r.beginPath(),r.moveTo(h,S),r.bezierCurveTo(h,S-b,j-v,g,j,g),r.bezierCurveTo(j+v,g,m,S-b,m,S),r.bezierCurveTo(m,S+b,j+v,w,j,w),r.bezierCurveTo(j-v,w,h,S+b,h,S),i&&r.fill(),f&&r.stroke()},s.default.Renderer2D.prototype.line=function(t,r,i,f){var h=this.drawingContext;return this._doStroke&&this._getStroke()!==d&&(h.beginPath(),h.moveTo(t,r),h.lineTo(i,f),h.stroke()),this},s.default.Renderer2D.prototype.point=function(t,r){var i,f,h=this.drawingContext;return!this._doStroke||this._getStroke()===d?this:(i=this._getStroke(),f=this._getFill(),this._setFill(i),h.beginPath(),h.arc(t,r,h.lineWidth/2,0,l.TWO_PI,!1),h.fill(),void this._setFill(f))},s.default.Renderer2D.prototype.quad=function(t,r,i,f,h,g,v,b){var m=this.drawingContext,w=this._doFill,j=this._doStroke;if(w&&!j){if(this._getFill()===d)return this}else if(!w&&j&&this._getStroke()===d)return this;return m.beginPath(),m.moveTo(t,r),m.lineTo(i,f),m.lineTo(h,g),m.lineTo(v,b),m.closePath(),w&&m.fill(),j&&m.stroke(),this},s.default.Renderer2D.prototype.rect=function(j){var r,i,f=j[0],h=j[1],g=j[2],v=j[3],b=j[4],m=j[5],w=j[6],j=j[7],S=this.drawingContext,T=this._doFill,E=this._doStroke;if(T&&!E){if(this._getFill()===d)return this}else if(!T&&E&&this._getStroke()===d)return this;return S.beginPath(),b===void 0?S.rect(f,h,g,v):(m===void 0&&(m=b),w===void 0&&(w=m),j===void 0&&(j=w),E=(T=Math.abs(g))/2,i=(r=Math.abs(v))/2,r<2*(b=T<2*b?E:b)&&(b=i),r<2*(m=T<2*m?E:m)&&(m=i),r<2*(w=T<2*w?E:w)&&(w=i),r<2*(j=T<2*j?E:j)&&(j=i),S.beginPath(),S.moveTo(f+b,h),S.arcTo(f+g,h,f+g,h+v,m),S.arcTo(f+g,h+v,f,h+v,w),S.arcTo(f,h+v,f,h,j),S.arcTo(f,h,f+g,h,b),S.closePath()),this._doFill&&S.fill(),this._doStroke&&S.stroke(),this},s.default.Renderer2D.prototype.triangle=function(w){var r=this.drawingContext,i=this._doFill,f=this._doStroke,h=w[0],g=w[1],v=w[2],b=w[3],m=w[4],w=w[5];if(i&&!f){if(this._getFill()===d)return this}else if(!i&&f&&this._getStroke()===d)return this;r.beginPath(),r.moveTo(h,g),r.lineTo(v,b),r.lineTo(m,w),r.closePath(),i&&r.fill(),f&&r.stroke()},s.default.Renderer2D.prototype.endShape=function(t,r,i,f,h,g,v){if(r.length!==0&&(this._doStroke||this._doFill)){var b,m,w,j=t===l.CLOSE,S=(j&&!g&&r.push(r[0]),r.length);if(!i||v!==l.POLYGON&&v!==null)if(!f||v!==l.POLYGON&&v!==null)if(!h||v!==l.POLYGON&&v!==null)if(v===l.POINTS)for(m=0;m<S;m++)b=r[m],this._doStroke&&this._pInst.stroke(b[6]),this._pInst.point(b[0],b[1]);else if(v===l.LINES)for(m=0;m+1<S;m+=2)b=r[m],this._doStroke&&this._pInst.stroke(r[m+1][6]),this._pInst.line(b[0],b[1],r[m+1][0],r[m+1][1]);else if(v===l.TRIANGLES)for(m=0;m+2<S;m+=3)b=r[m],this.drawingContext.beginPath(),this.drawingContext.moveTo(b[0],b[1]),this.drawingContext.lineTo(r[m+1][0],r[m+1][1]),this.drawingContext.lineTo(r[m+2][0],r[m+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(r[m+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(r[m+2][6]),this.drawingContext.stroke());else if(v===l.TRIANGLE_STRIP)for(m=0;m+1<S;m++)b=r[m],this.drawingContext.beginPath(),this.drawingContext.moveTo(r[m+1][0],r[m+1][1]),this.drawingContext.lineTo(b[0],b[1]),this._doStroke&&this._pInst.stroke(r[m+1][6]),this._doFill&&this._pInst.fill(r[m+1][5]),m+2<S&&(this.drawingContext.lineTo(r[m+2][0],r[m+2][1]),this._doStroke&&this._pInst.stroke(r[m+2][6]),this._doFill&&this._pInst.fill(r[m+2][5])),this._doFillStrokeClose(j);else if(v===l.TRIANGLE_FAN){if(2<S){for(this.drawingContext.beginPath(),m=2;m<S;m++)b=r[m],this.drawingContext.moveTo(r[0][0],r[0][1]),this.drawingContext.lineTo(r[m-1][0],r[m-1][1]),this.drawingContext.lineTo(b[0],b[1]),this.drawingContext.lineTo(r[0][0],r[0][1]),m<S-1&&(this._doFill&&b[5]!==r[m+1][5]||this._doStroke&&b[6]!==r[m+1][6])&&(this._doFill&&(this._pInst.fill(b[5]),this.drawingContext.fill(),this._pInst.fill(r[m+1][5])),this._doStroke&&(this._pInst.stroke(b[6]),this.drawingContext.stroke(),this._pInst.stroke(r[m+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(j)}}else if(v===l.QUADS)for(m=0;m+3<S;m+=4){for(b=r[m],this.drawingContext.beginPath(),this.drawingContext.moveTo(b[0],b[1]),w=1;w<4;w++)this.drawingContext.lineTo(r[m+w][0],r[m+w][1]);this.drawingContext.lineTo(b[0],b[1]),this._doFill&&this._pInst.fill(r[m+3][5]),this._doStroke&&this._pInst.stroke(r[m+3][6]),this._doFillStrokeClose(j)}else if(v===l.QUAD_STRIP){if(3<S)for(m=0;m+1<S;m+=2)b=r[m],this.drawingContext.beginPath(),m+3<S?(this.drawingContext.moveTo(r[m+2][0],r[m+2][1]),this.drawingContext.lineTo(b[0],b[1]),this.drawingContext.lineTo(r[m+1][0],r[m+1][1]),this.drawingContext.lineTo(r[m+3][0],r[m+3][1]),this._doFill&&this._pInst.fill(r[m+3][5]),this._doStroke&&this._pInst.stroke(r[m+3][6])):(this.drawingContext.moveTo(b[0],b[1]),this.drawingContext.lineTo(r[m+1][0],r[m+1][1])),this._doFillStrokeClose(j)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(r[0][0],r[0][1]),m=1;m<S;m++)(b=r[m]).isVert&&(b.moveTo?this.drawingContext.moveTo(b[0],b[1]):this.drawingContext.lineTo(b[0],b[1]));this._doFillStrokeClose(j)}else{for(this.drawingContext.beginPath(),m=0;m<S;m++)r[m].isVert?r[m].moveTo?this.drawingContext.moveTo(r[m][0],r[m][1]):this.drawingContext.lineTo(r[m][0],r[m][1]):this.drawingContext.quadraticCurveTo(r[m][0],r[m][1],r[m][2],r[m][3]);this._doFillStrokeClose(j)}else{for(this.drawingContext.beginPath(),m=0;m<S;m++)r[m].isVert?r[m].moveTo?this.drawingContext.moveTo(r[m][0],r[m][1]):this.drawingContext.lineTo(r[m][0],r[m][1]):this.drawingContext.bezierCurveTo(r[m][0],r[m][1],r[m][2],r[m][3],r[m][4],r[m][5]);this._doFillStrokeClose(j)}else if(3<S){var T=[],E=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(r[1][0],r[1][1]),m=1;m+2<S;m++)b=r[m],T[0]=[b[0],b[1]],T[1]=[b[0]+(E*r[m+1][0]-E*r[m-1][0])/6,b[1]+(E*r[m+1][1]-E*r[m-1][1])/6],T[2]=[r[m+1][0]+(E*r[m][0]-E*r[m+2][0])/6,r[m+1][1]+(E*r[m][1]-E*r[m+2][1])/6],T[3]=[r[m+1][0],r[m+1][1]],this.drawingContext.bezierCurveTo(T[1][0],T[1][1],T[2][0],T[2][1],T[3][0],T[3][1]);j&&this.drawingContext.lineTo(r[m+1][0],r[m+1][1]),this._doFillStrokeClose(j)}g=h=f=i=!1,j&&r.pop()}return this},s.default.Renderer2D.prototype.strokeCap=function(t){return t!==l.ROUND&&t!==l.SQUARE&&t!==l.PROJECT||(this.drawingContext.lineCap=t),this},s.default.Renderer2D.prototype.strokeJoin=function(t){return t!==l.ROUND&&t!==l.BEVEL&&t!==l.MITER||(this.drawingContext.lineJoin=t),this},s.default.Renderer2D.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth=t===void 0||t===0?1e-4:t,this},s.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},s.default.Renderer2D.prototype._setFill=function(t){t!==this._cachedFillStyle&&(this.drawingContext.fillStyle=t,this._cachedFillStyle=t)},s.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},s.default.Renderer2D.prototype._setStroke=function(t){t!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this._cachedStrokeStyle=t)},s.default.Renderer2D.prototype.bezier=function(t,r,i,f,h,g,v,b){return this._pInst.beginShape(),this._pInst.vertex(t,r),this._pInst.bezierVertex(i,f,h,g,v,b),this._pInst.endShape(),this},s.default.Renderer2D.prototype.curve=function(t,r,i,f,h,g,v,b){return this._pInst.beginShape(),this._pInst.curveVertex(t,r),this._pInst.curveVertex(i,f),this._pInst.curveVertex(h,g),this._pInst.curveVertex(v,b),this._pInst.endShape(),this},s.default.Renderer2D.prototype._doFillStrokeClose=function(t){t&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},s.default.Renderer2D.prototype.applyMatrix=function(t,r,i,f,h,g){this.drawingContext.transform(t,r,i,f,h,g)},s.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},s.default.Renderer2D.prototype.rotate=function(t){this.drawingContext.rotate(t)},s.default.Renderer2D.prototype.scale=function(t,r){return this.drawingContext.scale(t,r),this},s.default.Renderer2D.prototype.translate=function(t,r){return t instanceof s.default.Vector&&(r=t.y,t=t.x),this.drawingContext.translate(t,r),this},s.default.Renderer2D.prototype.text=function(t,r,i,v,h){v!==void 0&&this.drawingContext.textBaseline===l.BASELINE&&(g=!0,this.drawingContext.textBaseline=l.TOP);var g,v=s.default.Renderer.prototype.text.apply(this,arguments);return g&&(this.drawingContext.textBaseline=l.BASELINE),v},s.default.Renderer2D.prototype._renderText=function(t,r,i,f,h,g){if(!(f<g||h<=f))return t.push(),this._isOpenType()?this._textFont._renderPath(r,i,f,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(r,i,f),this._doFill&&(this._fillSet||this._setFill(l._DEFAULT_TEXT_FILL),this.drawingContext.fillText(r,i,f))),t.pop(),t},s.default.Renderer2D.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width},s.default.Renderer2D.prototype._applyTextProperties=function(){var t,r=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),t=this._textFont,this._isOpenType()&&(t=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(t||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===l.CENTER?this.drawingContext.textBaseline=l._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,r},s.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),s.default.Renderer.prototype.push.apply(this)},s.default.Renderer2D.prototype.pop=function(t){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s.default.Renderer.prototype.pop.call(this,t)},s.default.Renderer2D);y.default=n},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var c=(o=o("./main"))&&o.__esModule?o:{default:o};c.default.prototype._promisePreloads=[];function a(){return{}}var s=!(c.default.prototype.registerPromisePreload=function(l){c.default.prototype._promisePreloads.push(l)});c.default.prototype._setupPromisePreloads=function(){var l=!0,u=!1,d=void 0;try{for(var n,t=this._promisePreloads[Symbol.iterator]();!(l=(n=t.next()).done);l=!0){var r=n.value,i=this,f=r.method,h=r.addCallbacks,g=r.legacyPreloadSetup,v=r.target||this,b=v[f].bind(v);if(v===c.default.prototype){if(s)continue;i=null,b=v[f]}v[f]=this._wrapPromisePreload(i,b,h),g&&(v[g.method]=this._legacyPreloadGenerator(i,g,v[f]))}}catch(m){u=!0,d=m}finally{try{l||t.return==null||t.return()}finally{if(u)throw d}}s=!0},c.default.prototype._wrapPromisePreload=function(l,u,d){var n=function(){for(var t=this,r=(this._incrementPreload(),null),i=null,f=arguments.length,h=new Array(f),g=0;g<f;g++)h[g]=arguments[g];if(d)for(var v=h.length-1;0<=v&&!i&&typeof h[v]=="function";v--)i=r,r=h.pop();var b=Promise.resolve(u.apply(this,h));return r&&b.then(r),i&&b.catch(i),b.then(function(){return t._decrementPreload()}),b};return n=l?n.bind(l):n},c.default.prototype._legacyPreloadGenerator=function(l,t,d){var n=t.createBaseObject||a,t=function(){var r=this,i=(this._incrementPreload(),n.apply(this,arguments));return d.apply(this,arguments).then(function(f){Object.assign(i,f),r._decrementPreload()}),i};return t=l?t.bind(l):t}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(n=o("./main"))&&n.__esModule?n:{default:n},s=function(t){if(t&&t.__esModule)return t;if(t===null||u(t)!=="object"&&typeof t!="function")return{default:t};var r=l();if(r&&r.has(t))return r.get(t);var i,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var g;Object.prototype.hasOwnProperty.call(t,i)&&((g=h?Object.getOwnPropertyDescriptor(t,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=t[i])}return f.default=t,r&&r.set(t,f),f}(o("./constants"));function l(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,l=function(){return t},t)}function u(t){return(u=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var d="defaultCanvas0",n=(a.default.prototype.createCanvas=function(t,r,v){a.default._validateParameters("createCanvas",arguments);var f,h,g,v=v||s.P2D;if(v===s.WEBGL)(h=document.getElementById(d))&&(h.parentNode.removeChild(h),f=this._renderer,this._elements=this._elements.filter(function(m){return m!==f})),(h=document.createElement("canvas")).id=d,h.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)h=this.canvas;else{h=document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;d="defaultCanvas".concat(b),h.id=d,h.classList.add("p5Canvas")}return this._setupDone||(h.dataset.hidden=!0,h.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(g=document.createElement("main"),document.body.appendChild(g)),document.getElementsByTagName("main")[0])).appendChild(h),v===s.WEBGL?(this._setProperty("_renderer",new a.default.RendererGL(h,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new a.default.Renderer2D(h,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,r),this._renderer._applyDefaults(),this._renderer},a.default.prototype.resizeCanvas=function(t,r,i){if(a.default._validateParameters("resizeCanvas",arguments),this._renderer){var f,h,g={};for(f in this.drawingContext){var v=this.drawingContext[f];u(v)!=="object"&&typeof v!="function"&&(g[f]=v)}for(h in this._renderer.resize(t,r),this.width=t,this.height=r,g)try{this.drawingContext[h]=g[h]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},a.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},a.default.prototype.createGraphics=function(t,r,i){return a.default._validateParameters("createGraphics",arguments),new a.default.Graphics(t,r,i,this)},a.default.prototype.blendMode=function(t){a.default._validateParameters("blendMode",arguments),t===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),t=s.BLEND),this._renderer.blendMode(t)},a.default);y.default=n},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function a(t){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=n(o("../main")),l=function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!=="object"&&typeof t!="function")return{default:t};var r=d();if(r&&r.has(t))return r.get(t);var i,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var g;Object.prototype.hasOwnProperty.call(t,i)&&((g=h?Object.getOwnPropertyDescriptor(t,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=t[i])}return f.default=t,r&&r.set(t,f),f}(o("../constants")),u=n(o("../helpers"));function d(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,d=function(){return t},t)}function n(t){return t&&t.__esModule?t:{default:t}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(t,r,i,f,h){var g;return t-=l.TWO_PI*Math.floor(t/l.TWO_PI),r-=l.TWO_PI*Math.floor(r/l.TWO_PI),g=Math.min(Math.abs(t-r),l.TWO_PI-Math.abs(t-r)),h&&(t=t<=l.HALF_PI?Math.atan(i/f*Math.tan(t)):t>l.HALF_PI&&t<=3*l.HALF_PI?Math.atan(i/f*Math.tan(t))+l.PI:Math.atan(i/f*Math.tan(t))+l.TWO_PI,r=r<=l.HALF_PI?Math.atan(i/f*Math.tan(r)):r>l.HALF_PI&&r<=3*l.HALF_PI?Math.atan(i/f*Math.tan(r))+l.PI:Math.atan(i/f*Math.tan(r))+l.TWO_PI),r<t&&(r+=l.TWO_PI),{start:t,stop:r,correspondToSamePoint:g<1e-5}},s.default.prototype.arc=function(t,r,i,f,h,g,v,b){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&h!==g&&(h=this._toRadians(h),g=this._toRadians(g),i=Math.abs(i),f=Math.abs(f),t=u.default.modeAdjust(t,r,i,f,this._renderer._ellipseMode),(r=this._normalizeArcAngles(h,g,t.w,t.h,!0)).correspondToSamePoint?this._renderer.ellipse([t.x,t.y,t.w,t.h,b]):(this._renderer.arc(t.x,t.y,t.w,t.h,r.start,r.stop,v,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[t.x,t.y,t.w,t.h,r.start,r.stop,v]))),this},s.default.prototype.ellipse=function(t,r,i,f,h){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var t=Array.prototype.slice.call(arguments,0,2);return t.push(arguments[2]),t.push(arguments[2]),this._renderEllipse.apply(this,t)},s.default.prototype._renderEllipse=function(t,r,i,f,h){return(this._renderer._doStroke||this._renderer._doFill)&&(i<0&&(i=Math.abs(i)),f===void 0?f=i:f<0&&(f=Math.abs(f)),t=u.default.modeAdjust(t,r,i,f,this._renderer._ellipseMode),this._renderer.ellipse([t.x,t.y,t.w,t.h,h]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[t.x,t.y,t.w,t.h])),this},s.default.prototype.line=function(){for(var t,r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];return s.default._validateParameters("line",i),this._renderer._doStroke&&(t=this._renderer).line.apply(t,i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",i),this},s.default.prototype.point=function(){for(var t,r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];return s.default._validateParameters("point",i),this._renderer._doStroke&&(i.length===1&&i[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,i[0].x,i[0].y,i[0].z):((t=this._renderer).point.apply(t,i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",i))),this},s.default.prototype.quad=function(){for(var t,r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];return s.default._validateParameters("quad",i),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&i.length<12?this._renderer.quad.call(this._renderer,i[0],i[1],0,i[2],i[3],0,i[4],i[5],0,i[6],i[7],0,i[8],i[9]):((t=this._renderer).quad.apply(t,i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",i))),this},s.default.prototype.rect=function(){return s.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},s.default.prototype.square=function(t,r,i,f,h,g,v){return s.default._validateParameters("square",arguments),this._renderRect.call(this,t,r,i,i,f,h,g,v)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var t=u.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),r=[t.x,t.y,t.w,t.h],i=4;i<arguments.length;i++)r[i]=arguments[i];this._renderer.rect(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[t.x,t.y,t.w,t.h])}return this},s.default.prototype.triangle=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return s.default._validateParameters("triangle",r),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this},o=s.default,y.default=o},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}s.default.prototype.ellipseMode=function(n){return s.default._validateParameters("ellipseMode",arguments),n!==l.CORNER&&n!==l.CORNERS&&n!==l.RADIUS&&n!==l.CENTER||(this._renderer._ellipseMode=n),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(n){return s.default._validateParameters("rectMode",arguments),n!==l.CORNER&&n!==l.CORNERS&&n!==l.RADIUS&&n!==l.CENTER||(this._renderer._rectMode=n),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(n){return s.default._validateParameters("strokeCap",arguments),n!==l.ROUND&&n!==l.SQUARE&&n!==l.PROJECT||this._renderer.strokeCap(n),this},s.default.prototype.strokeJoin=function(n){return s.default._validateParameters("strokeJoin",arguments),n!==l.ROUND&&n!==l.BEVEL&&n!==l.MITER||this._renderer.strokeJoin(n),this},s.default.prototype.strokeWeight=function(n){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var d=s.default;y.default=d},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(a=o("../main"))&&a.__esModule?a:{default:a};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),c.default.prototype.bezier=function(){for(var s,l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return c.default._validateParameters("bezier",u),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,u),this},c.default.prototype.bezierDetail=function(s){return c.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},c.default.prototype.bezierPoint=function(s,l,u,d,n){c.default._validateParameters("bezierPoint",arguments);var t=1-n;return Math.pow(t,3)*s+3*Math.pow(t,2)*n*l+3*t*Math.pow(n,2)*u+Math.pow(n,3)*d},c.default.prototype.bezierTangent=function(s,l,u,d,n){c.default._validateParameters("bezierTangent",arguments);var t=1-n;return 3*d*Math.pow(n,2)-3*u*Math.pow(n,2)+6*u*t*n-6*l*t*n+3*l*Math.pow(t,2)-3*s*Math.pow(t,2)},c.default.prototype.curve=function(){for(var s,l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return c.default._validateParameters("curve",u),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,u),this},c.default.prototype.curveDetail=function(s){return c.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},c.default.prototype.curveTightness=function(s){return c.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},c.default.prototype.curvePoint=function(s,l,u,d,n){c.default._validateParameters("curvePoint",arguments);var t=this._renderer._curveTightness,r=n*n*n,i=n*n;return s*((t-1)/2*r+(1-t)*i+(t-1)/2*n)+l*((t+3)/2*r+(-5-t)/2*i+1)+u*((-3-t)/2*r+(t+2)*i+(1-t)/2*n)+d*((1-t)/2*r+(t-1)/2*i)},c.default.prototype.curveTangent=function(s,l,u,d,i){c.default._validateParameters("curveTangent",arguments);var t=this._renderer._curveTightness,r=i*i*3,i=2*i;return s*((t-1)/2*r+(1-t)*i+(t-1)/2)+l*((t+3)/2*r+(-5-t)/2*i)+u*((-3-t)/2*r+(t+2)*i+(1-t)/2)+d*((1-t)/2*r+(t-1)/2*i)};var a=c.default;y.default=a},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(o,P,y){function c(b){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(b)}function a(b){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(m){return c(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":c(m)})(b)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(v=o("../main"))&&v.__esModule?v:{default:v},l=function(b){if(b&&b.__esModule)return b;if(b===null||a(b)!=="object"&&typeof b!="function")return{default:b};var m=u();if(m&&m.has(b))return m.get(b);var w,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var T;Object.prototype.hasOwnProperty.call(b,w)&&((T=S?Object.getOwnPropertyDescriptor(b,w):null)&&(T.get||T.set)?Object.defineProperty(j,w,T):j[w]=b[w])}return j.default=b,m&&m.set(b,j),j}(o("../constants"));function u(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,u=function(){return b},b)}var d=null,n=[],t=[],r=!1,i=!1,f=!1,h=!1,g=!0,v=(s.default.prototype.beginContour=function(){return t=[],h=!0,this},s.default.prototype.beginShape=function(b){var m;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(m=this._renderer).beginShape.apply(m,arguments):(d=b===l.POINTS||b===l.LINES||b===l.TRIANGLES||b===l.TRIANGLE_FAN||b===l.TRIANGLE_STRIP||b===l.QUADS||b===l.QUAD_STRIP?b:null,n=[],t=[]),this},s.default.prototype.bezierVertex=function(){for(var b,m=arguments.length,w=new Array(m),j=0;j<m;j++)w[j]=arguments[j];if(s.default._validateParameters("bezierVertex",w),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,w);else if(n.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{r=!0;for(var S=[],T=0;T<w.length;T++)S[T]=w[T];S.isVert=!1,(h?t:n).push(S)}return this},s.default.prototype.curveVertex=function(){for(var b,m=arguments.length,w=new Array(m),j=0;j<m;j++)w[j]=arguments[j];return s.default._validateParameters("curveVertex",w),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,w):(i=!0,this.vertex(w[0],w[1])),this},s.default.prototype.endContour=function(){var b=t[0].slice();b.isVert=t[0].isVert,b.moveTo=!1,t.push(b),g&&(n.push(n[0]),g=!1);for(var m=0;m<t.length;m++)n.push(t[m]);return this},s.default.prototype.endShape=function(b){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(b,i,r,f,h,d);else{if(n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var m=b===l.CLOSE;m&&!h&&n.push(n[0]),this._renderer.endShape(b,n,i,r,f,h,d),g=!(h=f=r=i=!1),m&&n.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var b,m=arguments.length,w=new Array(m),j=0;j<m;j++)w[j]=arguments[j];if(s.default._validateParameters("quadraticVertex",w),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,w);else{if(this._contourInited)return(b={}).x=w[0],b.y=w[1],b.x3=w[2],b.y3=w[3],b.type=l.QUADRATIC,this._contourVertices.push(b),this;if(0<n.length){f=!0;for(var S=[],T=0;T<w.length;T++)S[T]=w[T];S.isVert=!1,(h?t:n).push(S)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(b,m,w,j,S){var T;return this._renderer.isP3D?(T=this._renderer).vertex.apply(T,arguments):((T=[]).isVert=!0,T[0]=b,T[1]=m,T[2]=0,T[3]=0,T[4]=0,T[5]=this._renderer._getFill(),T[6]=this._renderer._getStroke(),w&&(T.moveTo=w),(h?(t.length===0&&(T.moveTo=!0),t):n).push(T)),this},s.default.prototype.normal=function(b,m,w){var j;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(j=this._renderer).normal.apply(j,arguments),this},s.default);y.default=v},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(o,P,y){function c(d){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(d)}function a(d){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(n){return c(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":c(n)})(d)}var s,l,u;o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d,n){window.setTimeout(d,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(s=Object.keys,o=Object.defineProperty,l=typeof Symbol=="function"&&a(Symbol())==="symbol",u=Object.prototype.propertyIsEnumerable,o(Object,"assign",{value:function(d,n){if(d==null)throw new TypeError("target must be an object");for(var t,r,i,f=Object(d),h=1;h<arguments.length;++h)for(t=Object(arguments[h]),i=s(t),l&&Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(t).filter(function(g){return function(v){return u.call(g,v)}}(t))),r=0;r<i.length;++r)f[i[r]]=t[i[r]];return f},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(o,P,y){o("core-js/modules/es.array.for-each"),o("core-js/modules/es.object.assign"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.object.assign"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("./main"))&&o.__esModule?o:{default:o},o.default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var c=this._styles.pop();c?(this._renderer.pop(c.renderer),Object.assign(this,c.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(c){if(!this._inUserDraw&&this._setupDone){var a=parseInt(c),s=((isNaN(a)||a<1)&&(a=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var l=function(d){d.call(s)},u=0;u<a;u++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),s._registeredMethods.pre.forEach(l),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}s._registeredMethods.post.forEach(l)}}}},o=o.default,y.default=o},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("./main"))&&o.__esModule?o:{default:o};function a(s){return function(l){if(Array.isArray(l)){for(var u=0,d=new Array(l.length);u<l.length;u++)d[u]=l[u];return d}}(s)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c.default.prototype.applyMatrix=function(){var s=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,a(arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},c.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},c.default.prototype.rotate=function(s,l){return c.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),l),this},c.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),c.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},c.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),c.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},c.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),c.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},c.default.prototype.scale=function(s,l,u){var d;return c.default._validateParameters("scale",arguments),s instanceof c.default.Vector?(s=(d=s).x,l=d.y,u=d.z):s instanceof Array&&(s=(d=s)[0],l=d[1],u=d[2]||1),isNaN(l)?l=u=s:isNaN(u)&&(u=1),this._renderer.scale.call(this._renderer,s,l,u),this},c.default.prototype.shearX=function(s){return c.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},c.default.prototype.shearY=function(s){return c.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},c.default.prototype.translate=function(s,l,u){return c.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,l,u):this._renderer.translate(s,l),this},o=c.default,y.default=o},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(o,P,y){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var a=(o=o("../core/main"))&&o.__esModule?o:{default:o};function s(u){return function(d){if(Array.isArray(d)){for(var n=0,t=new Array(d.length);n<d.length;n++)t[n]=d[n];return t}}(u)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(u){return(l=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(d){return c(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":c(d)})(u)}a.default.prototype.storeItem=function(u,d){typeof u!="string"&&console.log("The argument that you passed to storeItem() - ".concat(u," is not a string.")),u.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(u," must not end with 'p5TypeID'.")),d===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=l(d);switch(n){case"number":case"boolean":d=d.toString();break;case"object":d instanceof a.default.Color?n="p5.Color":d instanceof a.default.Vector&&(n="p5.Vector",d=[d.x,d.y,d.z]),d=JSON.stringify(d)}localStorage.setItem(u,d),u="".concat(u,"p5TypeID"),localStorage.setItem(u,n)},a.default.prototype.getItem=function(u){var d=localStorage.getItem(u),n=localStorage.getItem("".concat(u,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(u,"in local storage. Did you save the item with something other than setItem()?"));else if(d!==null)switch(n){case"number":d=parseFloat(d);break;case"boolean":d=d==="true";break;case"object":d=JSON.parse(d);break;case"p5.Color":d=JSON.parse(d),d=this.color.apply(this,s(d.levels));break;case"p5.Vector":d=JSON.parse(d),d=this.createVector.apply(this,s(d))}return d},a.default.prototype.clearStorage=function(){localStorage.clear()},a.default.prototype.removeItem=function(u){typeof u!="string"&&console.log("The argument that you passed to removeItem() - ".concat(u," is not a string.")),localStorage.removeItem(u),localStorage.removeItem("".concat(u,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.prototype.createStringDict=function(a,s){return c.default._validateParameters("createStringDict",arguments),new c.default.StringDict(a,s)},c.default.prototype.createNumberDict=function(a,s){return c.default._validateParameters("createNumberDict",arguments),new c.default.NumberDict(a,s)},c.default.TypedDict=function(a,s){return a instanceof Object?this.data=a:(this.data={},this.data[a]=s),this},c.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},c.default.TypedDict.prototype.hasKey=function(a){return this.data.hasOwnProperty(a)},c.default.TypedDict.prototype.get=function(a){if(this.data.hasOwnProperty(a))return this.data[a];console.log("".concat(a," does not exist in this Dictionary"))},c.default.TypedDict.prototype.set=function(a,s){this._validate(s)?this.data[a]=s:console.log("Those values dont work for this dictionary type.")},c.default.TypedDict.prototype._addObj=function(a){for(var s in a)this.set(s,a[s])},c.default.TypedDict.prototype.create=function(a,s){a instanceof Object&&s===void 0?this._addObj(a):a!==void 0?this.set(a,s):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},c.default.TypedDict.prototype.clear=function(){this.data={}},c.default.TypedDict.prototype.remove=function(a){if(!this.data.hasOwnProperty(a))throw new Error("".concat(a," does not exist in this Dictionary"));delete this.data[a]},c.default.TypedDict.prototype.print=function(){for(var a in this.data)console.log("key:".concat(a," value:").concat(this.data[a]))},c.default.TypedDict.prototype.saveTable=function(a){var s,l="";for(s in this.data)l+="".concat(s,",").concat(this.data[s],`
`);var u=new Blob([l],{type:"text/csv"});c.default.prototype.downloadFile(u,a||"mycsv","csv")},c.default.TypedDict.prototype.saveJSON=function(a,s){c.default.prototype.saveJSON(this.data,a,s)},c.default.TypedDict.prototype._validate=function(a){return!0},c.default.StringDict=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];c.default.TypedDict.apply(this,s)},c.default.StringDict.prototype=Object.create(c.default.TypedDict.prototype),c.default.StringDict.prototype._validate=function(a){return typeof a=="string"},c.default.NumberDict=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];c.default.TypedDict.apply(this,s)},c.default.NumberDict.prototype=Object.create(c.default.TypedDict.prototype),c.default.NumberDict.prototype._validate=function(a){return typeof a=="number"},c.default.NumberDict.prototype.add=function(a,s){this.data.hasOwnProperty(a)?this.data[a]+=s:console.log("The key - ".concat(a," does not exist in this dictionary."))},c.default.NumberDict.prototype.sub=function(a,s){this.add(a,-s)},c.default.NumberDict.prototype.mult=function(a,s){this.data.hasOwnProperty(a)?this.data[a]*=s:console.log("The key - ".concat(a," does not exist in this dictionary."))},c.default.NumberDict.prototype.div=function(a,s){this.data.hasOwnProperty(a)?this.data[a]/=s:console.log("The key - ".concat(a," does not exist in this dictionary."))},c.default.NumberDict.prototype._valueTest=function(a){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var s,l=this.data[Object.keys(this.data)[0]];for(s in this.data)this.data[s]*a<l*a&&(l=this.data[s]);return l},c.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},c.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},c.default.NumberDict.prototype._keyTest=function(a){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var s=Object.keys(this.data)[0],l=1;l<Object.keys(this.data).length;l++)Object.keys(this.data)[l]*a<s*a&&(s=Object.keys(this.data)[l]);return s},c.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},c.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},o=c.default.TypedDict,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(o=o("../core/main"))&&o.__esModule?o:{default:o};function s(n){return(s=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}function l(n,t,r){return(t._userNode||document.body).appendChild(n),r=new(r?a.default.MediaElement:a.default.Element)(n,t),t._elements.push(r),r}function u(n,g,r,i){var f=document.createElement(g),h=(typeof(r=r||"")=="string"&&(r=[r]),!0),g=!1,v=void 0;try{for(var b,m=r[Symbol.iterator]();!(h=(b=m.next()).done);h=!0){var w=b.value,j=document.createElement("source");j.setAttribute("src",w),f.appendChild(j)}}catch(T){g=!0,v=T}finally{try{h||m.return==null||m.return()}finally{if(g)throw v}}typeof i=="function"&&f.addEventListener("canplaythrough",function T(){i(),f.removeEventListener("canplaythrough",T)});var S=l(f,n,!0);return S.loadedmetadata=!1,f.addEventListener("loadedmetadata",function(){S.width=f.videoWidth,S.height=f.videoHeight,S.elt.width===0&&(S.elt.width=f.videoWidth),S.elt.height===0&&(S.elt.height=f.videoHeight),S.presetPlaybackRate&&(S.elt.playbackRate=S.presetPlaybackRate,delete S.presetPlaybackRate),S.loadedmetadata=!0}),S}a.default.prototype.select=function(n,t){return a.default._validateParameters("select",arguments),t=this._getContainer(t).querySelector(n),t?this._wrapElement(t):null},a.default.prototype.selectAll=function(n,t){a.default._validateParameters("selectAll",arguments);var r=[],i=this._getContainer(t).querySelectorAll(n);if(i)for(var f=0;f<i.length;f++){var h=this._wrapElement(i[f]);r.push(h)}return r},a.default.prototype._getContainer=function(n){var t=document;return typeof n=="string"?t=document.querySelector(n)||document:n instanceof a.default.Element?t=n.elt:n instanceof HTMLElement&&(t=n),t},a.default.prototype._wrapElement=function(n){var t,r=Array.prototype.slice.call(n.children);return n.tagName==="INPUT"&&n.type==="checkbox"?((t=new a.default.Element(n,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},t):n.tagName==="VIDEO"||n.tagName==="AUDIO"?new a.default.MediaElement(n,this):n.tagName==="SELECT"?this.createSelect(new a.default.Element(n,this)):0<r.length&&r.every(function(i){return i.tagName==="INPUT"||i.tagName==="LABEL"})?this.createRadio(new a.default.Element(n,this)):new a.default.Element(n,this)},a.default.prototype.removeElements=function(n){a.default._validateParameters("removeElements",arguments),this._elements.filter(function(t){return!(t.elt instanceof HTMLCanvasElement)}).map(function(t){return t.remove()})},a.default.Element.prototype.changed=function(n){return a.default.Element._adjustListener("change",n,this),this},a.default.Element.prototype.input=function(n){return a.default.Element._adjustListener("input",n,this),this},a.default.prototype.createDiv=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",t=document.createElement("div");return t.innerHTML=n,l(t,this)},a.default.prototype.createP=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",t=document.createElement("p");return t.innerHTML=n,l(t,this)},a.default.prototype.createSpan=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",t=document.createElement("span");return t.innerHTML=n,l(t,this)},a.default.prototype.createImg=function(){a.default._validateParameters("createImg",arguments);var n,t=document.createElement("img"),r=arguments;return 1<r.length&&typeof r[1]=="string"&&(t.alt=r[1]),2<r.length&&typeof r[2]=="string"&&(t.crossOrigin=r[2]),t.src=r[0],n=l(t,this),t.addEventListener("load",function(){n.width=t.offsetWidth||t.width,n.height=t.offsetHeight||t.height;var i=r[r.length-1];typeof i=="function"&&i(n)}),n},a.default.prototype.createA=function(n,t,r){a.default._validateParameters("createA",arguments);var i=document.createElement("a");return i.href=n,i.innerHTML=t,r&&(i.target=r),l(i,this)},a.default.prototype.createSlider=function(n,t,r,i){a.default._validateParameters("createSlider",arguments);var f=document.createElement("input");return f.type="range",f.min=n,f.max=t,i===0?f.step=1e-18:i&&(f.step=i),typeof r=="number"&&(f.value=r),l(f,this)},a.default.prototype.createButton=function(n,t){a.default._validateParameters("createButton",arguments);var r=document.createElement("button");return r.innerHTML=n,t&&(r.value=t),l(r,this)},a.default.prototype.createCheckbox=function(){a.default._validateParameters("createCheckbox",arguments);var n=document.createElement("div"),t=document.createElement("input"),r=(t.type="checkbox",document.createElement("label")),i=(r.appendChild(t),n.appendChild(r),l(n,this));return i.checked=function(){var f=i.elt.firstElementChild.getElementsByTagName("input")[0];if(f){if(arguments.length===0)return f.checked;f.checked=!!arguments[0]}return i},this.value=function(f){return i.value=f,this},arguments[0]&&(i.value(arguments[0]),(n=document.createElement("span")).innerHTML=arguments[0],r.appendChild(n)),arguments[1]&&(t.checked=!0),i},a.default.prototype.createSelect=function(){a.default._validateParameters("createSelect",arguments);var n,t,r=arguments[0];return r instanceof a.default.Element&&r.elt instanceof HTMLSelectElement?this.elt=(n=r).elt:r instanceof HTMLSelectElement?(n=l(r,this),this.elt=r):(t=document.createElement("select"),r&&typeof r=="boolean"&&t.setAttribute("multiple","true"),n=l(t,this),this.elt=t),n.option=function(i,f){var h;if(i!==void 0){for(var g,v=0;v<this.elt.length;v+=1)if(this.elt[v].textContent===i){h=v;break}h!==void 0?f===!1?this.elt.remove(h):this.elt[h].value=f:((g=document.createElement("option")).textContent=i,g.value=f===void 0?i:f,this.elt.appendChild(g),this._pInst._elements.push(g))}},n.selected=function(i){if(i!==void 0){for(var f=0;f<this.elt.length;f+=1)this.elt[f].value.toString()===i.toString()&&(this.elt.selectedIndex=f);return this}if(this.elt.getAttribute("multiple")){var h=[],g=!0,v=!1,b=void 0;try{for(var m,w=this.elt.selectedOptions[Symbol.iterator]();!(g=(m=w.next()).done);g=!0){var j=m.value;h.push(j.value)}}catch(S){v=!0,b=S}finally{try{g||w.return==null||w.return()}finally{if(v)throw b}}return h}return this.elt.value},n.disable=function(i){if(typeof i=="string")for(var f=0;f<this.elt.length;f++)this.elt[f].value.toString()===i&&(this.elt[f].disabled=!0,this.elt[f].selected=!1);else this.elt.disabled=!0;return this},n},a.default.prototype.createRadio=function(){function n(g){return g instanceof HTMLInputElement&&g.type==="radio"}function t(g){return g instanceof HTMLLabelElement}var r,i,f,h=arguments[0];return h instanceof a.default.Element&&(h.elt instanceof HTMLDivElement||h.elt instanceof HTMLSpanElement)?(r=h,this.elt=h.elt):h instanceof HTMLDivElement||h instanceof HTMLSpanElement?(r=l(h,this),i=this.elt=h,typeof arguments[1]=="string"&&(f=arguments[1])):(typeof h=="string"&&(f=h),i=document.createElement("div"),r=l(i,this),this.elt=i),r._name=f||"radioOption",r._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(g){return n(g)||t(g)&&n(g.firstElementChild)}).map(function(g){return n(g)?g:g.firstElementChild})},r.option=function(g,v){var b,m,w,j=!0,S=!1,T=void 0;try{for(var E,C=r._getOptionsArray()[Symbol.iterator]();!(j=(E=C.next()).done);j=!0){var L=E.value;if(L.value===g){b=L;break}}}catch(k){S=!0,T=k}finally{try{j||C.return==null||C.return()}finally{if(S)throw T}}return b===void 0&&((b=document.createElement("input")).setAttribute("type","radio"),b.setAttribute("value",g)),b.setAttribute("name",r._name),t(b.parentElement)?m=b.parentElement:(m=document.createElement("label")).insertAdjacentElement("afterbegin",b),m.lastElementChild instanceof HTMLSpanElement?w=m.lastElementChild:(w=document.createElement("span"),b.insertAdjacentElement("afterend",w)),w.innerHTML=v===void 0?g:v,this.elt.appendChild(m),b},r.remove=function(g){var v=!0,b=!1,m=void 0;try{for(var w,j=r._getOptionsArray()[Symbol.iterator]();!(v=(w=j.next()).done);v=!0){var S=w.value;if(S.value===g)return void(t(S.parentElement)?S.parentElement:S).remove()}}catch(T){b=!0,m=T}finally{try{v||j.return==null||j.return()}finally{if(b)throw m}}},r.value=function(){var g="",v=!0,b=!1,m=void 0;try{for(var w,j=r._getOptionsArray()[Symbol.iterator]();!(v=(w=j.next()).done);v=!0){var S=w.value;if(S.checked){g=S.value;break}}}catch(T){b=!0,m=T}finally{try{v||j.return==null||j.return()}finally{if(b)throw m}}return g},r.selected=function(g){var v=null;if(g===void 0){var b=!0,m=!1,w=void 0;try{for(var j,S=r._getOptionsArray()[Symbol.iterator]();!(b=(j=S.next()).done);b=!0){var T=j.value;if(T.checked){v=T;break}}}catch(D){m=!0,w=D}finally{try{b||S.return==null||S.return()}finally{if(m)throw w}}}else{r._getOptionsArray().forEach(function(V){V.checked=!1,V.removeAttribute("checked")});var E=!0,m=!1,w=void 0;try{for(var C,L=r._getOptionsArray()[Symbol.iterator]();!(E=(C=L.next()).done);E=!0){var k=C.value;k.value===g&&(k.setAttribute("checked",!0),k.checked=!0,v=k)}}catch(V){m=!0,w=V}finally{try{E||L.return==null||L.return()}finally{if(m)throw w}}}return v},r.disable=function(){var g=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],v=!0,b=!1,m=void 0;try{for(var w,j=r._getOptionsArray()[Symbol.iterator]();!(v=(w=j.next()).done);v=!0)w.value.setAttribute("disabled",g)}catch(S){b=!0,m=S}finally{try{v||j.return==null||j.return()}finally{if(b)throw m}}},r},a.default.prototype.createColorPicker=function(n){a.default._validateParameters("createColorPicker",arguments);var t=document.createElement("input");return t.type="color",n?n instanceof a.default.Color?t.value=n.toString("#rrggbb"):(a.default.prototype._colorMode="rgb",a.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},t.value=a.default.prototype.color(n).toString("#rrggbb")):t.value="#000000",(t=l(t,this)).color=function(){return n&&(n.mode&&(a.default.prototype._colorMode=n.mode),n.maxes&&(a.default.prototype._colorMaxes=n.maxes)),a.default.prototype.color(this.elt.value)},t},a.default.prototype.createInput=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",r=(a.default._validateParameters("createInput",arguments),document.createElement("input"));return r.setAttribute("value",n),r.setAttribute("type",t),l(r,this)},a.default.prototype.createFileInput=function(n){var t,r=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(a.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(t=document.createElement("input")).setAttribute("type","file"),r&&t.setAttribute("multiple",!0),t.addEventListener("change",function(i){var f=!0,h=!1,g=void 0;try{for(var v,b=i.target.files[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var m=v.value;a.default.File._load(m,n)}}catch(w){h=!0,g=w}finally{try{f||b.return==null||b.return()}finally{if(h)throw g}}},!1),l(t,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},a.default.prototype.createVideo=function(n,t){return a.default._validateParameters("createVideo",arguments),u(this,"video",n,t)},a.default.prototype.createAudio=function(n,t){return a.default._validateParameters("createAudio",arguments),u(this,"audio",n,t)},a.default.prototype.VIDEO="video",a.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(n){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise(function(r,i){t.call(navigator,n,r,i)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),a.default.prototype.createCapture=function(){if(a.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var n,t=!0,r=!0,i=!0,f=!1,h=void 0;try{for(var g,v=arguments[Symbol.iterator]();!(i=(g=v.next()).done);i=!0){var b=g.value;b===a.default.prototype.VIDEO?r=!1:b===a.default.prototype.AUDIO?t=!1:s(b)==="object"?m=b:typeof b=="function"&&(n=b)}}catch(S){f=!0,h=S}finally{try{i||v.return==null||v.return()}finally{if(f)throw h}}var m=m||{video:t,audio:r},w=document.createElement("video"),j=(w.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(m).then(function(S){try{"srcObject"in w?w.srcObject=S:w.src=window.URL.createObjectURL(S)}catch{w.src=S}},console.log),l(w,this,!0));return j.loadedmetadata=!1,w.addEventListener("loadedmetadata",function(){w.play(),w.width?(j.width=w.width,j.height=w.height):(j.width=j.elt.width=w.videoWidth,j.height=j.elt.height=w.videoHeight),j.loadedmetadata=!0,n&&n(w.srcObject)}),j},a.default.prototype.createElement=function(n,t){return a.default._validateParameters("createElement",arguments),n=document.createElement(n),t!==void 0&&(n.innerHTML=t),l(n,this)},a.default.Element.prototype.addClass=function(n){return this.elt.className?this.hasClass(n)||(this.elt.className=this.elt.className+" "+n):this.elt.className=n,this},a.default.Element.prototype.removeClass=function(n){return this.elt.classList.remove(n),this},a.default.Element.prototype.hasClass=function(n){return this.elt.classList.contains(n)},a.default.Element.prototype.toggleClass=function(n){return this.elt.classList.contains(n)?this.elt.classList.remove(n):this.elt.classList.add(n),this},a.default.Element.prototype.child=function(n){return n===void 0?this.elt.childNodes:(typeof n=="string"?(n[0]==="#"&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof a.default.Element&&(n=n.elt),n instanceof HTMLElement&&this.elt.appendChild(n),this)},a.default.Element.prototype.center=function(n){var t=this.elt.style.display,r=this.elt.style.display==="none",i=this.parent().style.display==="none",f={x:this.elt.offsetLeft,y:this.elt.offsetTop},h=(r&&this.show(),i&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),g=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return n==="both"||n===void 0?this.position(h/2+this.parent().offsetLeft,g/2+this.parent().offsetTop):n==="horizontal"?this.position(h/2+this.parent().offsetLeft,f.y):n==="vertical"&&this.position(f.x,g/2+this.parent().offsetTop),this.style("display",t),r&&this.hide(),i&&this.parent().hide(),this},a.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},a.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},a.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var n="";return this.elt.style.transform&&(n=(n=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=n,this},a.default.Element.prototype._rotate=function(){var n="";return this.elt.style.transform&&(n=(n=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=n,this},a.default.Element.prototype.style=function(n,t){if((t=t instanceof a.default.Color?"rgba("+t.levels[0]+","+t.levels[1]+","+t.levels[2]+","+t.levels[3]/255+")":t)===void 0){if(n.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(n);for(var r=n.split(";"),i=0;i<r.length;i++){var f=r[i].split(":");f[0]&&f[1]&&(this.elt.style[f[0].trim()]=f[1].trim())}}else this.elt.style[n]=t,n!=="width"&&n!=="height"&&n!=="left"&&n!=="top"||(t=window.getComputedStyle(this.elt).getPropertyValue(n).replace(/[^\d.]/g,""),this[n]=Math.round(parseFloat(t,10)));return this},a.default.Element.prototype.attribute=function(n,t){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return t===void 0?this.elt.getAttribute(n):(this.elt.setAttribute(n,t),this);if(t===void 0)return this.elt.firstChild.getAttribute(n);for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].setAttribute(n,t)},a.default.Element.prototype.removeAttribute=function(n){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var t=0;t<this.elt.childNodes.length;t++)this.elt.childNodes[t].removeAttribute(n);return this.elt.removeAttribute(n),this},a.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},a.default.Element.prototype.show=function(){return this.elt.style.display="block",this},a.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},a.default.Element.prototype.size=function(n,t){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var r=n,i=t,f=a.default.prototype.AUTO;if(r!==f||i!==f){if(r===f?r=t*this.width/this.height:i===f&&(i=n*this.height/this.width),this.elt instanceof HTMLCanvasElement){var h,g={},v=this.elt.getContext("2d");for(h in v)g[h]=v[h];for(h in this.elt.setAttribute("width",r*this._pInst._pixelDensity),this.elt.setAttribute("height",i*this._pInst._pixelDensity),this.elt.style.width=r+"px",this.elt.style.height=i+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),g)this.elt.getContext("2d")[h]=g[h]}else this.elt.style.width=r+"px",this.elt.style.height=i+"px",this.elt.width=r,this.elt.height=i;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},a.default.Element.prototype.remove=function(){this instanceof a.default.MediaElement&&(this.stop(),(t=this.elt.srcObject)!==null&&t.getTracks().forEach(function(r){r.stop()}));var n,t=this._pInst._elements.indexOf(this);for(n in t!==-1&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(n,this._events[n]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},a.default.Element.prototype.drop=function(n,t){var r;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",r=function(i){i.preventDefault()}),this.elt.addEventListener("dragleave",r)),a.default.Element._attachListener("drop",function(i){i.preventDefault(),typeof t=="function"&&t.call(this,i);for(var f=i.dataTransfer.files,h=0;h<f.length;h++){var g=f[h];a.default.File._load(g,n)}},this)):console.log("The File APIs are not fully supported in this browser."),this},a.default.MediaElement=function(n,t){a.default.Element.call(this,n,t);var r=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(r,"src",{get:function(){var i=r.elt.children[0].src,f=r.elt.src===window.location.href?"":r.elt.src;return i===window.location.href?f:i},set:function(i){for(var f=0;f<r.elt.children.length;f++)r.elt.removeChild(r.elt.children[f]);var h=document.createElement("source");h.src=i,n.appendChild(h),r.elt.src=i,r.modified=!0}}),r._onended=function(){},r.elt.onended=function(){r._onended(r)}},a.default.MediaElement.prototype=Object.create(a.default.Element.prototype),a.default.MediaElement.prototype.play=function(){var n;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(n=this.elt.play())&&n.catch&&n.catch(function(t){t.name==="NotAllowedError"?console.error(t):console.error("Media play method encountered an unexpected error",t)}),this},a.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},a.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},a.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},a.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},a.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var n=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(n)},{passive:!0,once:!0})},a.default.MediaElement.prototype.autoplay=function(n){var t=this,r=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",n),n&&!r&&(n=function(){return t._setupAutoplayFailDetection()},this.elt.readyState===4?n():this.elt.addEventListener("canplay",n,{passive:!0,once:!0})),this},a.default.MediaElement.prototype.volume=function(n){if(n===void 0)return this.elt.volume;this.elt.volume=n},a.default.MediaElement.prototype.speed=function(n){if(n===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=n:this.presetPlaybackRate=n},a.default.MediaElement.prototype.time=function(n){return n===void 0?this.elt.currentTime:(this.elt.currentTime=n,this)},a.default.MediaElement.prototype.duration=function(){return this.elt.duration},a.default.MediaElement.prototype.pixels=[],a.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},a.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),a.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},a.default.MediaElement.prototype.updatePixels=function(n,t,r,i){return this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.updatePixels.call(this,n,t,r,i)),this.setModified(!0),this},a.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),a.default.Renderer2D.prototype.get.apply(this,arguments)},a.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),a.default.Renderer2D.prototype._getPixel.apply(this,arguments)},a.default.MediaElement.prototype.set=function(n,t,r){this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.set.call(this,n,t,r),this.setModified(!0))},a.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),a.default.prototype.copy.apply(this,arguments)},a.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),a.default.Image.prototype.mask.apply(this,arguments)},a.default.MediaElement.prototype.isModified=function(){return this._modified},a.default.MediaElement.prototype.setModified=function(n){this._modified=n},a.default.MediaElement.prototype.onended=function(n){return this._onended=n,this},a.default.MediaElement.prototype.connect=function(n){var t,r;if(typeof a.default.prototype.getAudioContext=="function")t=a.default.prototype.getAudioContext(),r=a.default.soundOut.input;else try{r=(t=n.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=t.createMediaElementSource(this.elt),this.audioSourceNode.connect(r)),n?n.input?this.audioSourceNode.connect(n.input):this.audioSourceNode.connect(n):this.audioSourceNode.connect(r)},a.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},a.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},a.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function d(n,t,r,i){this.callback=n,this.time=t,this.id=r,this.val=i}a.default.MediaElement.prototype.addCue=function(n,f,r){var i=this._cueIDCounter++,f=new d(f,n,i,r);return this._cues.push(f),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),i},a.default.MediaElement.prototype.removeCue=function(n){for(var t=0;t<this._cues.length;t++)this._cues[t].id===n&&(console.log(n),this._cues.splice(t,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},a.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},a.default.MediaElement.prototype._onTimeUpdate=function(){for(var n=this.time(),t=0;t<this._cues.length;t++){var r=this._cues[t].time,i=this._cues[t].val;this._prevTime<r&&r<=n&&this._cues[t].callback(i)}this._prevTime=n},a.default.File=function(n,t){this.file=n,this._pInst=t,t=n.type.split("/"),this.type=t[0],this.subtype=t[1],this.name=n.name,this.size=n.size,this.data=void 0},a.default.File._createLoader=function(n,t){var r=new FileReader;return r.onload=function(i){var f,h=new a.default.File(n);h.file.type==="application/json"?h.data=JSON.parse(i.target.result):h.file.type==="text/xml"?(f=new DOMParser().parseFromString(i.target.result,"text/xml"),h.data=new a.default.XML(f.documentElement)):h.data=i.target.result,t(h)},r},a.default.File._load=function(n,t){var r;/^text\//.test(n.type)||n.type==="application/json"?a.default.File._createLoader(n,t).readAsText(n):/^(video|audio)\//.test(n.type)?((r=new a.default.File(n)).data=URL.createObjectURL(n),t(r)):a.default.File._createLoader(n,t).readAsDataURL(n)},o=a.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(o,P,y){function c(b){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(b)}function a(b){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(m){return c(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":c(m)})(b)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(v=o("../core/main"))&&v.__esModule?v:{default:v},l=function(b){if(b&&b.__esModule)return b;if(b===null||a(b)!=="object"&&typeof b!="function")return{default:b};var m=u();if(m&&m.has(b))return m.get(b);var w,j={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var T;Object.prototype.hasOwnProperty.call(b,w)&&((T=S?Object.getOwnPropertyDescriptor(b,w):null)&&(T.get||T.set)?Object.defineProperty(j,w,T):j[w]=b[w])}return j.default=b,m&&m.set(b,j),j}(o("../core/constants"));function u(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,u=function(){return b},b)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var d=s.default.prototype.pRotationZ=0,n=0,t=0,r="clockwise",i="clockwise",f="clockwise",h=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),g=30,v=(s.default.prototype.setMoveThreshold=function(b){s.default._validateParameters("setMoveThreshold",arguments),h=b},s.default.prototype.setShakeThreshold=function(b){s.default._validateParameters("setShakeThreshold",arguments),g=b},s.default.prototype._ondeviceorientation=function(b){this._updatePRotations(),this._angleMode===l.radians&&(b.beta=b.beta*(_PI/180),b.gamma=b.gamma*(_PI/180),b.alpha=b.alpha*(_PI/180)),this._setProperty("rotationX",b.beta),this._setProperty("rotationY",b.gamma),this._setProperty("rotationZ",b.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(b){this._updatePAccelerations(),this._setProperty("accelerationX",2*b.acceleration.x),this._setProperty("accelerationY",2*b.acceleration.y),this._setProperty("accelerationZ",2*b.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var b,m,w,j,S,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(m=this.rotationX+180,b=this.pRotationX+180,w=d+180,0<m-b&&m-b<270||m-b<-270?r="clockwise":(m-b<0||270<m-b)&&(r="counter-clockwise"),r!==this.pRotateDirectionX&&(w=m),90<Math.abs(m-w)&&Math.abs(m-w)<270&&(w=m,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=r,d=w-180,b=this.rotationY+180,m=this.pRotationY+180,w=n+180,0<b-m&&b-m<270||b-m<-270?i="clockwise":(b-m<0||270<b-this.pRotationY)&&(i="counter-clockwise"),i!==this.pRotateDirectionY&&(w=b),90<Math.abs(b-w)&&Math.abs(b-w)<270&&(w=b,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=i,n=w-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?f="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(f="counter-clockwise"),f!==this.pRotateDirectionZ&&(t=this.rotationZ),90<Math.abs(this.rotationZ-t)&&Math.abs(this.rotationZ-t)<270&&(t=this.rotationZ,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=f,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(j=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),g<j+S&&T.deviceShaken())},s.default);y.default=v},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.prototype.isKeyPressed=!1,c.default.prototype.keyIsPressed=!1,c.default.prototype.key="",c.default.prototype.keyCode=0,c.default.prototype._onkeydown=function(a){var s;this._downKeys[a.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",a.which),this._downKeys[a.which]=!0,this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||a.charCode||s.keyPressed(a)===!1&&a.preventDefault())},c.default.prototype._onkeyup=function(a){this._downKeys[a.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),this._setProperty("keyCode",a.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(a)===!1&&a.preventDefault()},c.default.prototype._onkeypress=function(a){var s;a.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",a.which),this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(a)===!1&&a.preventDefault())},c.default.prototype._onblur=function(a){this._downKeys={}},c.default.prototype.keyIsDown=function(a){return c.default._validateParameters("keyIsDown",arguments),this._downKeys[a]||!1},c.default.prototype._areDownKeys=function(){for(var a in this._downKeys)if(this._downKeys.hasOwnProperty(a)&&this._downKeys[a]===!0)return!0;return!1},o=c.default,y.default=o},{"../core/main":267}],286:[function(o,P,y){function c(d){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(d)}function a(d){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(n){return c(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":c(n)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(s=o("../core/main"))&&s.__esModule?s:{default:s},l=function(d){if(d&&d.__esModule)return d;if(d===null||a(d)!=="object"&&typeof d!="function")return{default:d};var n=u();if(n&&n.has(d))return n.get(d);var t,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in d){var f;Object.prototype.hasOwnProperty.call(d,t)&&((f=i?Object.getOwnPropertyDescriptor(d,t):null)&&(f.get||f.set)?Object.defineProperty(r,t,f):r[t]=d[t])}return r.default=d,n&&n.set(d,r),r}(o("../core/constants"));function u(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,u=function(){return d},d)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(d){var n,t,r,i,f;this._curElement!==null&&(!d.touches||0<d.touches.length)&&(n=this._curElement.elt,t=this.width,r=this.height,(i=d)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),f=n.getBoundingClientRect(),t=n.scrollWidth/t||1,n=n.scrollHeight/r||1,r={x:(i.clientX-f.left)/t,y:(i.clientY-f.top)/n,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",d.movementX),this._setProperty("movedY",d.movementY),this._setProperty("mouseX",r.x),this._setProperty("mouseY",r.y),this._setProperty("winMouseX",r.winX),this._setProperty("winMouseY",r.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(d){d.button===1?this._setProperty("mouseButton",l.CENTER):d.button===2?this._setProperty("mouseButton",l.RIGHT):this._setProperty("mouseButton",l.LEFT)},s.default.prototype._onmousemove=function(d){var n=this._isGlobal?window:this;this._updateNextMouseCoords(d),this.mouseIsPressed?typeof n.mouseDragged=="function"?n.mouseDragged(d)===!1&&d.preventDefault():typeof n.touchMoved=="function"&&n.touchMoved(d)===!1&&d.preventDefault():typeof n.mouseMoved=="function"&&n.mouseMoved(d)===!1&&d.preventDefault()},s.default.prototype._onmousedown=function(d){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(d),this._updateNextMouseCoords(d),typeof n.mousePressed=="function"?n.mousePressed(d)===!1&&d.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof n.touchStarted=="function"&&n.touchStarted(d)===!1&&d.preventDefault()},s.default.prototype._onmouseup=function(d){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof n.mouseReleased=="function"?n.mouseReleased(d)===!1&&d.preventDefault():typeof n.touchEnded=="function"&&n.touchEnded(d)===!1&&d.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(d){var n=this._isGlobal?window:this;typeof n.mouseClicked=="function"&&n.mouseClicked(d)===!1&&d.preventDefault()},s.default.prototype._ondblclick=function(d){var n=this._isGlobal?window:this;typeof n.doubleClicked=="function"&&n.doubleClicked(d)===!1&&d.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(d){var n=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",d.deltaY),typeof n.mouseWheel=="function"&&(d.delta=d.deltaY,n.mouseWheel(d)===!1&&d.preventDefault())},s.default.prototype.requestPointerLock=function(){var d=this._curElement.elt;return d.requestPointerLock=d.requestPointerLock||d.mozRequestPointerLock,d.requestPointerLock?(d.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},o=s.default,y.default=o},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(o,P,y){o("core-js/modules/es.array.includes"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(c){if(this._curElement!==null){for(var a=[],s=0;s<c.touches.length;s++)a[s]=function(f,i,h,n){var t=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,r=f.getBoundingClientRect(),i=f.scrollWidth/i||1,f=f.scrollHeight/h||1,h=n.touches[t]||n.changedTouches[t];return{x:(h.clientX-r.left)/i,y:(h.clientY-r.top)/f,winX:h.clientX,winY:h.clientY,id:h.identifier}}(this._curElement.elt,this.width,this.height,c,s);this._setProperty("touches",a)}},o.default.prototype._ontouchstart=function(c){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(c),this._updateNextMouseCoords(c),this._updateMouseCoords(),typeof a.touchStarted=="function"?a.touchStarted(c)===!1&&c.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof a.mousePressed=="function"&&a.mousePressed(c)===!1&&c.preventDefault()},o.default.prototype._ontouchmove=function(c){var a=this._isGlobal?window:this;this._updateTouchCoords(c),this._updateNextMouseCoords(c),typeof a.touchMoved=="function"?a.touchMoved(c)===!1&&c.preventDefault():typeof a.mouseDragged=="function"&&a.mouseDragged(c)===!1&&c.preventDefault()},o.default.prototype._ontouchend=function(c){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(c),this._updateNextMouseCoords(c);var a=this._isGlobal?window:this;typeof a.touchEnded=="function"?a.touchEnded(c)===!1&&c.preventDefault():typeof a.mouseReleased=="function"&&a.mouseReleased(c)===!1&&c.preventDefault()},o=o.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(o,P,y){o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c,a,s,l,u={};function d(n,t){for(var r,i,f,h,g,v,b,m,w,j,S=u._toPixels(n),T=n.width,E=n.height,C=T*E,L=new Int32Array(C),k=0;k<C;k++)L[k]=u._getARGB(S,k);var D,F,V,G=new Int32Array(C),H=new Int32Array(C),z=new Int32Array(C),X=new Int32Array(C),Y=0,ee=3.5*t|0;if(c!==(ee=ee<1?1:ee<248?ee:248)){a=1+(c=ee)<<1,s=new Int32Array(a),l=new Array(a);for(var O,R,B=0;B<a;B++)l[B]=new Int32Array(256);for(var W=1,K=ee-1;W<ee;W++){s[ee+W]=s[K]=R=K*K;for(var ne=l[ee+W],ie=l[K--],ce=0;ce<256;ce++)ne[ce]=ie[ce]=R*ce}O=s[ee]=ee*ee,ne=l[ee];for(var oe=0;oe<256;oe++)ne[oe]=O*oe}for(F=0;F<E;F++){for(D=0;D<T;D++){if(h=f=i=g=r=0,(v=D-c)<0)j=-v,v=0;else{if(T<=v)break;j=0}for(V=j;V<a&&!(T<=v);V++){var se,me=L[v+Y];g+=(se=l[V])[(-16777216&me)>>>24],i+=se[(16711680&me)>>16],f+=se[(65280&me)>>8],h+=se[255&me],r+=s[V],v++}G[b=Y+D]=g/r,H[b]=i/r,z[b]=f/r,X[b]=h/r}Y+=T}for(w=(m=-c)*T,F=Y=0;F<E;F++){for(D=0;D<T;D++){if(m<(h=f=i=g=r=0))j=b=-m,v=D;else{if(E<=m)break;j=0,b=m,v=D+w}for(V=j;V<a&&!(E<=b);V++)g+=(se=l[V])[G[v]],i+=se[H[v]],f+=se[z[v]],h+=se[X[v]],r+=s[V],b++,v+=T;L[D+Y]=g/r<<24|i/r<<16|f/r<<8|h/r}Y+=T,w+=T,m++}u._setPixels(S,L)}u._toPixels=function(n){var t,r;return n instanceof ImageData?n.data:n.getContext("2d")?n.getContext("2d").getImageData(0,0,n.width,n.height).data:n.getContext("webgl")?(r=(t=n.getContext("webgl")).drawingBufferWidth*t.drawingBufferHeight*4,r=new Uint8Array(r),t.readPixels(0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,r),r):void 0},u._getARGB=function(n,t){return t*=4,n[3+t]<<24&4278190080|n[t]<<16&16711680|n[1+t]<<8&65280|255&n[2+t]},u._setPixels=function(n,t){for(var r,i=0,f=n.length;i<f;i++)n[0+(r=4*i)]=(16711680&t[i])>>>16,n[1+r]=(65280&t[i])>>>8,n[2+r]=255&t[i],n[3+r]=(4278190080&t[i])>>>24},u._toImageData=function(n){return n instanceof ImageData?n:n.getContext("2d").getImageData(0,0,n.width,n.height)},u._createImageData=function(n,t){return u._tmpCanvas=document.createElement("canvas"),u._tmpCtx=u._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(n,t)},u.apply=function(n,h,r){var i=n.getContext("2d"),f=i.getImageData(0,0,n.width,n.height),h=h(f,r);h instanceof ImageData?i.putImageData(h,0,0,0,0,n.width,n.height):i.putImageData(f,0,0,0,0,n.width,n.height)},u.threshold=function(n,t){for(var r=u._toPixels(n),i=(t===void 0&&(t=.5),Math.floor(255*t)),f=0;f<r.length;f+=4){var h=void 0,h=i<=.2126*r[f]+.7152*r[f+1]+.0722*r[f+2]?255:0;r[f]=r[f+1]=r[f+2]=h}},u.gray=function(n){for(var t=u._toPixels(n),r=0;r<t.length;r+=4){var i=t[r],f=t[r+1],h=t[r+2];t[r]=t[r+1]=t[r+2]=.2126*i+.7152*f+.0722*h}},u.opaque=function(n){for(var t=u._toPixels(n),r=0;r<t.length;r+=4)t[r+3]=255;return t},u.invert=function(n){for(var t=u._toPixels(n),r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},u.posterize=function(n,t){var r=u._toPixels(n);if(t<2||255<t)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=t-1,f=0;f<r.length;f+=4){var h=r[f],g=r[f+1],v=r[f+2];r[f]=255*(h*t>>8)/i,r[f+1]=255*(g*t>>8)/i,r[f+2]=255*(v*t>>8)/i}},u.dilate=function(n){for(var t,r,i,f,h,g,v,b,m,w=u._toPixels(n),j=0,S=w.length?w.length/4:0,T=new Int32Array(S);j<S;)for(r=(t=j)+n.width;j<r;)f=i=u._getARGB(w,j),(m=j-1)<t&&(m=j),r<=(b=j+1)&&(b=j),(h=j-n.width)<0&&(h=0),S<=(g=j+n.width)&&(g=j),h=u._getARGB(w,h),m=u._getARGB(w,m),g=u._getARGB(w,g),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(v=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(i=m,f=v),f<(v=77*((m=u._getARGB(w,b))>>16&255)+151*(m>>8&255)+28*(255&m))&&(i=m,f=v),f<(b=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(i=h,f=b),f<(m=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(i=g,f=m),T[j++]=i;u._setPixels(w,T)},u.erode=function(n){for(var t,r,i,f,h,g,v,b,m,w=u._toPixels(n),j=0,S=w.length?w.length/4:0,T=new Int32Array(S);j<S;)for(r=(t=j)+n.width;j<r;)f=i=u._getARGB(w,j),(m=j-1)<t&&(m=j),r<=(b=j+1)&&(b=j),(h=j-n.width)<0&&(h=0),S<=(g=j+n.width)&&(g=j),h=u._getARGB(w,h),m=u._getARGB(w,m),g=u._getARGB(w,g),(v=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(i=m,f=v),(v=77*((m=u._getARGB(w,b))>>16&255)+151*(m>>8&255)+28*(255&m))<f&&(i=m,f=v),(b=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<f&&(i=h,f=b),(m=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<f&&(i=g,f=m),T[j++]=i;u._setPixels(w,T)},u.blur=function(n,t){d(n,t)},y.default=u},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=s(o("../core/main")),a=s(o("omggif"));function s(u){return u&&u.__esModule?u:{default:u}}function l(u){return function(d){if(Array.isArray(d)){for(var n=0,t=new Array(d.length);n<d.length;n++)t[n]=d[n];return t}}(u)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c.default.prototype.createImage=function(u,d){return c.default._validateParameters("createImage",arguments),new c.default.Image(u,d)},c.default.prototype.saveCanvas=function(){c.default._validateParameters("saveCanvas",arguments);var u,d,n,t,r=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(u=arguments[0],r.shift()):arguments[0]instanceof c.default.Element?(u=arguments[0].elt,r.shift()):u=this._curElement&&this._curElement.elt,1<=r.length&&(d=r[0]),n=(n=2<=r.length?r[1]:n)||c.default.prototype._checkFileExtension(d,n)[1]||"png"){default:t="image/png";break;case"jpeg":case"jpg":t="image/jpeg"}u.toBlob(function(i){c.default.prototype.downloadFile(i,d,n)},t)},c.default.prototype.encodeAndDownloadGif=function(u,d){for(var n=u.gifProperties,t=n.loopLimit,r=(t===1?t=null:t===null&&(t=0),new Uint8Array(u.width*u.height*n.numFrames)),i=[],f={},h=0;h<n.numFrames;h++){for(var g=new Set,v=n.frames[h].image.data,b=v.length,m=new Uint32Array(u.width*u.height),w=0,j=0;w<b;w+=4,j++){var S=v[w+0]<<16|v[w+1]<<8|v[w+2]<<0;g.add(S),m[j]=S}var T=l(g).sort().toString();f[T]===void 0?f[T]={freq:1,frames:[h]}:(f[T].freq+=1,f[T].frames.push(h)),i.push(m)}for(var L=[],E=Object.keys(f).sort(function(O,R){return f[R].freq-f[O].freq}),C=E[0].split(",").map(function(O){return parseInt(O)}),L=L.concat(f[C].frames),k=new Set(C),D=1;D<E.length;D++){var F=E[D].split(",").map(function(O){return parseInt(O)}).filter(function(O){return!k.has(O)});if(C.length+F.length<=256){for(var V=0;V<F.length;V++)C.push(F[V]),k.add(F[V]);L=L.concat(f[E[D]].frames)}}L=new Set(L);for(var G={},H=0;H<C.length;H++)G[C[H]]||(G[C[H]]=H);for(var z=1;z<C.length;)z<<=1;C.length=z;for(var t={loop:t,palette:new Uint32Array(C)},X=new a.default.GifWriter(r,u.width,u.height,t),Y={},ee=0;ee<n.numFrames;ee++)(function(R){for(var B=!L.has(R),W=B?[]:C,K=new Uint8Array(u.width*u.height),ne={},ie=new Set,ce=0;ce<i[R].length;ce++){var oe=i[R][ce];B?(ne[oe]===void 0&&(ne[oe]=W.length,W.push(oe)),K[ce]=ne[oe]):K[ce]=G[oe],0<R&&i[R-1][ce]!==oe&&ie.add(oe)}var se={},me=W.filter(function(ye){return!ie.has(ye)});if(0<me.length){var me=me[0],J=(B?ne:G)[me];if(0<R){for(var ue=0;ue<i[R].length;ue++)i[R-1][ue]===i[R][ue]&&(K[ue]=J);se.transparent=J,Y.frameOpts.disposal=1}}if(se.delay=n.frames[R].delay/10,B){for(var pe=1;pe<W.length;)pe<<=1;W.length=pe,se.palette=new Uint32Array(W)}0<R&&X.addFrame(0,0,u.width,u.height,Y.pixelPaletteIndex,Y.frameOpts),Y={pixelPaletteIndex:K,frameOpts:se}})(ee);Y.frameOpts.disposal=1,X.addFrame(0,0,u.width,u.height,Y.pixelPaletteIndex,Y.frameOpts),t=new Blob([r.slice(0,X.end())],{type:"image/gif"}),c.default.prototype.downloadFile(t,d,"gif")},c.default.prototype.saveFrames=function(u,d,n,i,r){c.default._validateParameters("saveFrames",arguments),n=c.default.prototype.constrain(n=n||3,0,15),n*=1e3;var i=c.default.prototype.constrain(i||15,0,22),f=0,h=c.default.prototype._makeFrame,g=this._curElement.elt,v=[],b=setInterval(function(){v.push(h(u+f,d,g)),f++},1e3/i);setTimeout(function(){if(clearInterval(b),r)r(v);else{var m=!0,w=!1,j=void 0;try{for(var S,T=v[Symbol.iterator]();!(m=(S=T.next()).done);m=!0){var E=S.value;c.default.prototype.downloadFile(E.imageData,E.filename,E.ext)}}catch(C){w=!0,j=C}finally{try{m||T.return==null||T.return()}finally{if(w)throw j}}}v=[]},.01+n)},c.default.prototype._makeFrame=function(u,d,r){var t,r=this?this._curElement.elt:r;if(d)switch(d.toLowerCase()){case"png":t="image/png";break;case"jpeg":case"jpg":t="image/jpeg";break;default:t="image/png"}else d="png",t="image/png";var r=(r=r.toDataURL(t)).replace(t,"image/octet-stream"),i={};return i.imageData=r,i.filename=u,i.ext=d,i},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(o,P,y){function c(g){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function a(g){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(v){return c(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":c(v)})(g)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o("regenerator-runtime/runtime");var s=r(o("../core/main")),l=r(o("../core/helpers")),u=function(g){if(g&&g.__esModule)return g;if(g===null||a(g)!=="object"&&typeof g!="function")return{default:g};var v=t();if(v&&v.has(g))return v.get(g);var b,m={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in g){var j;Object.prototype.hasOwnProperty.call(g,b)&&((j=w?Object.getOwnPropertyDescriptor(g,b):null)&&(j.get||j.set)?Object.defineProperty(m,b,j):m[b]=g[b])}return m.default=g,v&&v.set(g,m),m}(o("../core/constants")),d=r(o("omggif")),n=o("gifenc");function t(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,t=function(){return g},g)}function r(g){return g&&g.__esModule?g:{default:g}}function i(g,v,b,m,w,j,S){try{var T=g[j](S),E=T.value}catch(C){return void b(C)}T.done?v(E):Promise.resolve(E).then(m,w)}function f(g,v,b,m,w,j,S,T,E,C,L){var k,D,F,V,G,H,z,X,Y;return g===u.COVER&&(k=v,F=b,z=j,X=S,H=T,Y=E,D=C,V=L,G=Math.max(z/D,X/V),z/=G,X/=G,G=H,H=Y,k===u.CENTER?G+=(D-z)/2:k===u.RIGHT&&(G+=D-z),F===u.CENTER?H+=(V-X)/2:F===u.BOTTOM&&(H+=V-X),T=(Y={x:G,y:H,w:z,h:X}).x,E=Y.y,C=Y.w,L=Y.h),g===u.CONTAIN&&(k=v,D=b,F=m,V=w,G=j,H=S,z=C,X=L,Y=Math.max(z/G,X/H),z/=Y,X/=Y,Y=F,F=V,k===u.CENTER?Y+=(G-z)/2:k===u.RIGHT&&(Y+=G-z),D===u.CENTER?F+=(H-X)/2:D===u.BOTTOM&&(F+=H-X),m=(g={x:Y,y:F,w:z,h:X}).x,w=g.y,j=g.w,S=g.h),{sx:T,sy:E,sw:C,sh:L,dx:m,dy:w,dw:j,dh:S}}function h(g,v){return 0<g&&g<v?g:v}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(g,v,b){s.default._validateParameters("loadImage",arguments);var m=new s.default.Image(1,1,this),w=this,j=new Request(g,{method:"GET",mode:"cors"});return fetch(g,j).then(function(S){var T,E=S.headers.get("content-type");E===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),E&&E.includes("image/gif")?S.arrayBuffer().then(function(C){if(C){var C=new Uint8Array(C),L=m,k=v,D=b,F=function(B){w._decrementPreload()}.bind(w),V=new d.default.GifReader(C),G=(L.width=L.canvas.width=V.width,L.height=L.canvas.height=V.height,[]),H=V.numFrames(),z=new Uint8ClampedArray(L.width*L.height*4);if(1<H){for(var X=0;X<H;X++){var Y=V.frameInfo(X),ee=L.drawingContext.getImageData(0,0,L.width,L.height),O=(z=ee.data.slice(),function(B,W){try{W.decodeAndBlitFrameRGBA(B,z)}catch(K){s.default._friendlyFileLoadError(8,L.src),typeof D=="function"?D(K):console.error(K)}}(X,V),new ImageData(z,L.width,L.height)),O=(L.drawingContext.putImageData(O,0,0),Y.delay);O===0&&(O=10),G.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*O}),Y.disposal===2?L.drawingContext.clearRect(Y.x,Y.y,Y.width,Y.height):Y.disposal===3&&L.drawingContext.putImageData(ee,0,0,Y.x,Y.y,Y.width,Y.height)}C=V.loopCount(),C===null?C=1:C===0&&(C=null),L.drawingContext.putImageData(G[0].image,0,0),L.gifProperties={displayIndex:0,loopLimit:C,loopCount:0,frames:G,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof k=="function"&&k(L),F()}},function(C){typeof b=="function"?(b(C),w._decrementPreload()):console.error(C)}):((T=new Image).onload=function(){m.width=m.canvas.width=T.width,m.height=m.canvas.height=T.height,m.drawingContext.drawImage(T,0,0),m.modified=!0,typeof v=="function"&&v(m),w._decrementPreload()},T.onerror=function(C){s.default._friendlyFileLoadError(0,T.src),typeof b=="function"?(b(C),w._decrementPreload()):console.error(C)},g.indexOf("data:image/")!==0&&(T.crossOrigin="Anonymous"),T.src=g),m.modified=!0}).catch(function(S){s.default._friendlyFileLoadError(0,g),typeof b=="function"?(b(S),w._decrementPreload()):console.error(S)}),m},s.default.prototype.saveGif=function(){g=regeneratorRuntime.mark(function b(m,w){var j,S,T,E,C,L,k,D,F,V,G,H,z,X,Y,ee,O,R,B,W,K,ne,ie,ce=arguments;return regeneratorRuntime.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(j=2<ce.length&&ce[2]!==void 0?ce[2]:{delay:0,units:"seconds"},typeof m!="string")throw TypeError("fileName parameter must be a string");oe.next=3;break;case 3:if(typeof w!="number")throw TypeError("Duration parameter must be a number");oe.next=5;break;case 5:if(S=j&&j.delay||0,T=j&&j.units||"seconds",typeof S!="number")throw TypeError("Delay parameter must be a number");oe.next=9;break;case 9:if(T!=="seconds"&&T!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');oe.next=11;break;case 11:this._recording=!0,k=this._targetFrameRate,E=(E=1/(k=k!==1/0&&k!==void 0&&k!==0?k:60)*1e3)<20?20:E,L=(C=T==="seconds"?w*k:w)+(k=T==="seconds"?S*k:S),k=k,this.frameCount=k,D=this._pixelDensity,this.pixelDensity(1),F=[],V="p5.gif.progressBar",document.getElementById(V)!==null&&document.getElementById(V).remove(),(V=this.createP("")).id("progressBar"),V.style("font-size","16px"),V.style("font-family","Montserrat"),V.style("background-color","#ffffffa0"),V.style("padding","8px"),V.style("border-radius","10px"),V.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(H=document.getElementById("defaultCanvas0").getContext("webgl"),G=new Uint8Array(H.drawingBufferWidth*H.drawingBufferHeight*4)),this.noLoop();case 36:if(k<L)return this.redraw(),K=void 0,K=this.drawingContext instanceof WebGLRenderingContext?(G=new Uint8Array(H.drawingBufferWidth*H.drawingBufferHeight*4),H.readPixels(0,0,H.drawingBufferWidth,H.drawingBufferHeight,H.RGBA,H.UNSIGNED_BYTE,G),function(se){for(var me=parseInt(height/2),J=4*width,ue=new Uint8Array(4*width),pe=0;pe<me;++pe){var ye=pe*J,de=(height-pe-1)*J;ue.set(se.subarray(ye,ye+J)),se.copyWithin(ye,de,de+J),se.set(ue,de)}return se}(G)):this.drawingContext.getImageData(0,0,this.width,this.height).data,F.push(K),k++,V.html("Saved frame <b>"+F.length.toString()+"</b> out of "+C.toString()),oe.next=45,new Promise(function(se){return setTimeout(se,0)});oe.next=47;break;case 45:oe.next=36;break;case 47:V.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(D),z=(0,n.GIFEncoder)(),X=function(se){for(var me=new Uint8Array(se.length*se[0].length),J=0;J<se.length;J++)me.set(se[J],J*se[0].length);var ue=(0,n.quantize)(me,256,{format:"rgba4444",oneBitAlpha:!0});return ue.length===256?ue[ue.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ue.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ue}(F),Y={},ee=function(se){for(var me=se.length/4,J=new Uint8Array(me),ue=0;ue<me;ue++){var pe=se[4*ue]<<24|se[4*ue+1]<<16|se[4*ue+2]<<8|se[4*ue+3];Y[pe]===void 0&&(Y[pe]=(0,n.nearestColorIndex)(X,se.slice(4*ue,4*(ue+1)))),J[ue]=Y[pe]}return J},O=X.length-1,R=[],B=0;case 57:if(!(B<F.length)){oe.next=68;break}if(W=ee(F[B]),K=W.slice(),B===0)z.writeFrame(W,this.width,this.height,{palette:X,delay:E,dispose:1});else{for(ne=0;ne<W.length;ne++)W[ne]===R[ne]&&(W[ne]=O);z.writeFrame(W,this.width,this.height,{delay:E,transparent:!0,transparentIndex:O,dispose:1})}return R=K,V.html("Rendered frame <b>"+B.toString()+"</b> out of "+C.toString()),oe.next=65,new Promise(function(se){return setTimeout(se,0)});case 65:B++,oe.next=57;break;case 68:z.finish(),ie=z.bytesView(),ie=new Blob([ie],{type:"image/gif"}),F=[],this._recording=!1,this.loop(),V.html("Done. Downloading your gif!"),s.default.prototype.downloadFile(ie,m,"gif");case 77:case"end":return oe.stop()}},b,this)});var g,v=function(){var b=this,m=arguments;return new Promise(function(w,j){var S=g.apply(b,m);function T(C){i(S,w,j,T,E,"next",C)}function E(C){i(S,w,j,T,E,"throw",C)}T(void 0)})};return function(b,m){return v.apply(this,arguments)}}(),s.default.prototype.image=function(g,v,b,m,V,G,H,z,Y,C,L,k){s.default._validateParameters("image",arguments);var X=g.width,D=g.height,F=(k=k||u.CENTER,L=L||u.CENTER,g.elt&&g.elt.videoWidth&&!g.canvas&&(X=g.elt.videoWidth,D=g.elt.videoHeight),m||X),V=V||D,G=G||0,H=H||0,z=h(z||X,X),X=h(Y||D,D),Y=1;g.elt&&!g.canvas&&g.elt.style.width&&(Y=g.elt.videoWidth&&!m?g.elt.videoWidth:g.elt.width,Y/=parseInt(g.elt.style.width,10)),G*=Y,H*=Y,X*=Y,z*=Y,D=f(C,L,k,(D=l.default.modeAdjust(v,b,F,V,this._renderer._imageMode)).x,D.y,D.w,D.h,G,H,z,X),this._renderer.image(g,D.sx,D.sy,D.sw,D.sh,D.dx,D.dy,D.dw,D.dh)},s.default.prototype.tint=function(){for(var g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];s.default._validateParameters("tint",v);var m=this.color.apply(this,v);this._renderer._tint=m.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(g){s.default._validateParameters("imageMode",arguments),g!==u.CORNER&&g!==u.CORNERS&&g!==u.CENTER||(this._renderer._imageMode=g)},o=s.default,y.default=o},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=s(o("../core/main")),a=s(o("./filters"));function s(l){return l&&l.__esModule?l:{default:l}}c.default.Image=function(l,u){this.width=l,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},c.default.Image.prototype._animateGif=function(n){var u,d=this.gifProperties,n=n._lastFrameTime;d.lastChangeTime===0&&(d.lastChangeTime=n),d.playing&&(d.timeDisplayed=n-d.lastChangeTime,u=d.frames[d.displayIndex].delay,d.timeDisplayed>=u&&(u=Math.floor(d.timeDisplayed/u),d.timeDisplayed=0,d.lastChangeTime=n,d.displayIndex+=u,d.loopCount=Math.floor(d.displayIndex/d.numFrames),d.loopLimit!==null&&d.loopCount>=d.loopLimit?d.playing=!1:(n=d.displayIndex%d.numFrames,this.drawingContext.putImageData(d.frames[n].image,0,0),d.displayIndex=n,this.setModified(!0))))},c.default.Image.prototype._setProperty=function(l,u){this[l]=u,this.setModified(!0)},c.default.Image.prototype.loadPixels=function(){c.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},c.default.Image.prototype.updatePixels=function(l,u,d,n){c.default.Renderer2D.prototype.updatePixels.call(this,l,u,d,n),this.setModified(!0)},c.default.Image.prototype.get=function(l,u,d,n){return c.default._validateParameters("p5.Image.get",arguments),c.default.Renderer2D.prototype.get.apply(this,arguments)},c.default.Image.prototype._getPixel=c.default.Renderer2D.prototype._getPixel,c.default.Image.prototype.set=function(l,u,d){c.default.Renderer2D.prototype.set.call(this,l,u,d),this.setModified(!0)},c.default.Image.prototype.resize=function(l,u){l===0&&u===0?(l=this.canvas.width,u=this.canvas.height):l===0?l=this.canvas.width*u/this.canvas.height:u===0&&(u=this.canvas.height*l/this.canvas.width),l=Math.floor(l),u=Math.floor(u);var d=document.createElement("canvas");if(d.width=l,d.height=u,this.gifProperties)for(var n=this.gifProperties,t=0;t<n.numFrames;t++){for(var r=this.drawingContext.createImageData(l,u),i=(b=b=v=g=h=void 0,n.frames[t].image),f=r,h=0,g=0;g<f.height;g++)for(var v=0;v<f.width;v++){var b=Math.floor(v*i.width/f.width),b=4*(Math.floor(g*i.height/f.height)*i.width+b);f.data[h++]=i.data[b++],f.data[h++]=i.data[b++],f.data[h++]=i.data[b++],f.data[h++]=i.data[+b]}n.frames[t].image=r}d.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,d.width,d.height),this.canvas.width=this.width=l,this.canvas.height=this.height=u,this.drawingContext.drawImage(d,0,0,l,u,0,0,l,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},c.default.Image.prototype.copy=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];c.default.prototype.copy.apply(this,u)},c.default.Image.prototype.mask=function(l){var u=this.drawingContext.globalCompositeOperation,d=1,n=[l=l===void 0?this:l,0,0,(d=l instanceof c.default.Renderer?l._pInst._pixelDensity:d)*l.width,d*l.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var t=0;t<this.gifProperties.frames.length;t++)this.drawingContext.putImageData(this.gifProperties.frames[t].image,0,0),c.default.Image.prototype.copy.apply(this,n),this.gifProperties.frames[t].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else c.default.Image.prototype.copy.apply(this,n);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)},c.default.Image.prototype.filter=function(l,u){a.default.apply(this.canvas,a.default[l],u),this.setModified(!0)},c.default.Image.prototype.blend=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];c.default._validateParameters("p5.Image.blend",arguments),c.default.prototype.blend.apply(this,u),this.setModified(!0)},c.default.Image.prototype.setModified=function(l){this._modified=l},c.default.Image.prototype.isModified=function(){return this._modified},c.default.Image.prototype.save=function(l,u){this.gifProperties?c.default.prototype.encodeAndDownloadGif(this,l):c.default.prototype.saveCanvas(this.canvas,l,u)},c.default.Image.prototype.reset=function(){var l;this.gifProperties&&((l=this.gifProperties).playing=!0,l.timeSinceStart=0,l.timeDisplayed=0,l.lastChangeTime=0,l.loopCount=0,l.displayIndex=0,this.drawingContext.putImageData(l.frames[0].image,0,0))},c.default.Image.prototype.getCurrentFrame=function(){var l;if(this.gifProperties)return(l=this.gifProperties).displayIndex%l.numFrames},c.default.Image.prototype.setFrame=function(l){var u;this.gifProperties&&(l<(u=this.gifProperties).numFrames&&0<=l?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=l,this.drawingContext.putImageData(u.frames[l].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},c.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},c.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},c.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},c.default.Image.prototype.delay=function(l,u){if(this.gifProperties){var d=this.gifProperties;if(u<d.numFrames&&0<=u)d.frames[u].delay=l;else{var n=!0,u=!1,t=void 0;try{for(var r,i=d.frames[Symbol.iterator]();!(n=(r=i.next()).done);n=!0)r.value.delay=l}catch(h){u=!0,t=h}finally{try{n||i.return==null||i.return()}finally{if(u)throw t}}}}},o=c.default.Image,y.default=o},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(o,P,y){o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=s(o("../core/main")),a=s(o("./filters"));function s(l){return l&&l.__esModule?l:{default:l}}o("../color/p5.Color"),c.default.prototype.pixels=[],c.default.prototype.blend=function(){for(var l,u=arguments.length,d=new Array(u),n=0;n<u;n++)d[n]=arguments[n];c.default._validateParameters("blend",d),this._renderer?(l=this._renderer).blend.apply(l,d):c.default.Renderer2D.prototype.blend.apply(this,d)},c.default.prototype.copy=function(){for(var l,u,d,n,t,r,i,f,h,g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];if(c.default._validateParameters("copy",v),v.length===9)l=v[0],u=v[1],d=v[2],n=v[3],t=v[4],r=v[5],i=v[6],f=v[7],h=v[8];else{if(v.length!==8)throw new Error("Signature not supported");l=this,u=v[0],d=v[1],n=v[2],t=v[3],r=v[4],i=v[5],f=v[6],h=v[7]}c.default.prototype._copyHelper(this,l,u,d,n,t,r,i,f,h)},c.default.prototype._copyHelper=function(l,u,d,n,t,r,i,f,h,g){u.loadPixels();var v=u.canvas.width/u.width,b=0,m=0;u._renderer&&u._renderer.isP3D&&(b=u.width/2,m=u.height/2),l._renderer&&l._renderer.isP3D?c.default.RendererGL.prototype.image.call(l._renderer,u,d+b,n+m,t,r,i,f,h,g):l.drawingContext.drawImage(u.canvas,v*(d+b),v*(n+m),v*t,v*r,i,f,h,g)},c.default.prototype.filter=function(l,u){c.default._validateParameters("filter",arguments),this.canvas!==void 0?a.default.apply(this.canvas,a.default[l],u):a.default.apply(this.elt,a.default[l],u)},c.default.prototype.get=function(l,u,d,n){var t;return c.default._validateParameters("get",arguments),(t=this._renderer).get.apply(t,arguments)},c.default.prototype.loadPixels=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];c.default._validateParameters("loadPixels",u),this._renderer.loadPixels()},c.default.prototype.set=function(l,u,d){this._renderer.set(l,u,d)},c.default.prototype.updatePixels=function(l,u,d,n){c.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(l,u,d,n)},o=c.default,y.default=o},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(o,P,y){function c(r){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=u(o("../core/main")),s=(o("whatwg-fetch"),o("es6-promise/auto"),u(o("fetch-jsonp"))),l=u(o("file-saver"));function u(r){return r&&r.__esModule?r:{default:r}}function d(r){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(r)}function n(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function t(r,i){i&&i!==!0&&i!=="true"||(i="");var f="";return(r=r||"untitled")&&r.includes(".")&&(f=r.split(".").pop()),i&&f!==i&&(f=i,r="".concat(r,".").concat(f)),[r,f]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),a.default.prototype.loadJSON=function(){for(var r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];a.default._validateParameters("loadJSON",i);for(var h,g,v,b=i[0],m={},w="json",j=1;j<i.length;j++){var S=i[j];typeof S=="string"?S!=="jsonp"&&S!=="json"||(w=S):typeof S=="function"?h?g=S:h=S:d(S)==="object"&&(S.hasOwnProperty("jsonpCallback")||S.hasOwnProperty("jsonpCallbackFunction"))&&(w="jsonp",v=S)}var T=this;return this.httpDo(b,"GET",v,w,function(E){for(var C in E)m[C]=E[C];h!==void 0&&h(E),T._decrementPreload()},function(E){if(a.default._friendlyFileLoadError(5,b),!g)throw E;g(E)}),m},a.default.prototype.loadStrings=function(){for(var r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];a.default._validateParameters("loadStrings",i);for(var h,g,v=[],b=1;b<i.length;b++){var m=i[b];typeof m=="function"&&(h===void 0?h=m:g===void 0&&(g=m))}var w=this;return a.default.prototype.httpDo.call(this,i[0],"GET","text",function(j){for(var S=j.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),T=0,E=S.length;T<E;T+=32768)Array.prototype.push.apply(v,S.slice(T,Math.min(T+32768,E)));h!==void 0&&h(v),w._decrementPreload()},function(j){if(a.default._friendlyFileLoadError(3,j),!g)throw j;g(j)}),v},a.default.prototype.loadTable=function(r){var i,f,h,g=!1,v=r.substring(r.lastIndexOf(".")+1,r.length);v==="csv"?h=",":v==="ssv"?h=";":v==="tsv"&&(h="	");for(var b=1;b<arguments.length;b++)typeof arguments[b]=="function"?i===void 0?i=arguments[b]:f===void 0&&(f=arguments[b]):typeof arguments[b]=="string"&&(arguments[b]==="header"&&(g=!0),arguments[b]==="csv"?h=",":arguments[b]==="ssv"?h=";":arguments[b]==="tsv"&&(h="	"));var m=new a.default.Table,w=this;return this.httpDo(r,"GET","table",function(j){for(var S,T,E={},C=0,L=[],k=0,D=null,F=function(){E.currentState=C,E.token=""},V=function(){D.push(E.token),F()},G=function(){E.currentState=4,L.push(D),D=null};;){if((S=j[k++])==null){if(E.escaped)throw new Error("Unclosed quote in file.");if(D){V(),G();break}}if(D===null&&(E.escaped=!1,D=[],F()),E.currentState===C){if(S==='"'){E.escaped=!0,E.currentState=1;continue}E.currentState=1}if(E.currentState===1&&E.escaped)if(S==='"')j[k]==='"'?(E.token+='"',k++):(E.escaped=!1,E.currentState=2);else{if(S==="\r")continue;E.token+=S}else S==="\r"?(j[k]===`
`&&k++,V(),G()):S===`
`?(V(),G()):S===h?V():E.currentState===1&&(E.token+=S)}if(g)m.columns=L.shift();else for(var H=0;H<L[0].length;H++)m.columns[H]="null";for(var z=0;z<L.length;z++)(L[z].length!==1||L[z][0]!=="undefined"&&L[z][0]!=="")&&((T=new a.default.TableRow).arr=L[z],T.obj=function(X,Y){var ee={};if((Y=Y||[])===void 0)for(var O=0;O<X.length;O++)Y[O.toString()]=O;for(var R=0;R<Y.length;R++){var B=Y[R],W=X[R];ee[B]=W}return ee}(L[z],m.columns),m.addRow(T));typeof i=="function"&&i(m),w._decrementPreload()},function(j){a.default._friendlyFileLoadError(2,r),f?f(j):console.error(j)}),m},a.default.prototype.loadXML=function(){for(var r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];for(var h,g,v=new a.default.XML,b=1;b<i.length;b++){var m=i[b];typeof m=="function"&&(h===void 0?h=m:g===void 0&&(g=m))}var w=this;return this.httpDo(i[0],"GET","xml",function(j){for(var S in j)v[S]=j[S];h!==void 0&&h(v),w._decrementPreload()},function(j){if(a.default._friendlyFileLoadError(1,j),!g)throw j;g(j)}),v},a.default.prototype.loadBytes=function(r,i,f){var h={},g=this;return this.httpDo(r,"GET","arrayBuffer",function(v){h.bytes=new Uint8Array(v),typeof i=="function"&&i(h),g._decrementPreload()},function(v){if(a.default._friendlyFileLoadError(6,r),!f)throw v;f(v)}),h},a.default.prototype.httpGet=function(){a.default._validateParameters("httpGet",arguments);var r=Array.prototype.slice.call(arguments);return r.splice(1,0,"GET"),a.default.prototype.httpDo.apply(this,r)},a.default.prototype.httpPost=function(){a.default._validateParameters("httpPost",arguments);var r=Array.prototype.slice.call(arguments);return r.splice(1,0,"POST"),a.default.prototype.httpDo.apply(this,r)},a.default.prototype.httpDo=function(){for(var r,i,f,h={},g=0,v="text/plain",b=arguments.length-1;0<b&&typeof(b<0||arguments.length<=b?void 0:arguments[b])=="function";b--)g++;var m=arguments.length-g,w=arguments.length<=0?void 0:arguments[0];if(m==2&&typeof w=="string"&&d(arguments.length<=1?void 0:arguments[1])==="object")L=new Request(w,arguments.length<=1?void 0:arguments[1]),i=arguments.length<=2?void 0:arguments[2],f=arguments.length<=3?void 0:arguments[3];else{for(var j,S="GET",T=1;T<arguments.length;T++){var E=T<0||arguments.length<=T?void 0:arguments[T];if(typeof E=="string")E==="GET"||E==="POST"||E==="PUT"||E==="DELETE"?S=E:E==="json"||E==="jsonp"||E==="binary"||E==="arrayBuffer"||E==="xml"||E==="text"||E==="table"?r=E:j=E;else if(typeof E=="number")j=E.toString();else if(d(E)==="object")if(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))for(var C in E)h[C]=E[C];else v=E instanceof a.default.XML?(j=E.serialize(),"application/xml"):(j=JSON.stringify(E),"application/json");else typeof E=="function"&&(i?f=E:i=E)}var m=S==="GET"?new Headers:new Headers({"Content-Type":v}),L=new Request(w,{method:S,mode:"cors",body:j,headers:m})}return(m=(m=(r=r||(w.includes("json")?"json":w.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(w,h):fetch(L)).then(function(k){if(!k.ok)throw(D=new Error(k.body)).status=k.status,D.ok=!1,D;var D=0;switch((D=r!=="jsonp"?k.headers.get("content-length"):D)&&64e6<D&&a.default._friendlyFileLoadError(7,w),r){case"json":case"jsonp":return k.json();case"binary":return k.blob();case"arrayBuffer":return k.arrayBuffer();case"xml":return k.text().then(function(F){return F=new DOMParser().parseFromString(F,"text/xml"),new a.default.XML(F.documentElement)});default:return k.text()}})).then(i||function(){}),m.catch(f||console.error),m},window.URL=window.URL||window.webkitURL,a.default.prototype._pWriters=[],a.default.prototype.createWriter=function(r,i){var f,h;for(h in a.default.prototype._pWriters)if(a.default.prototype._pWriters[h].name===r)return f=new a.default.PrintWriter(r+this.millis(),i),a.default.prototype._pWriters.push(f),f;return f=new a.default.PrintWriter(r,i),a.default.prototype._pWriters.push(f),f},a.default.PrintWriter=function(r,i){var f=this;this.name=r,this.content="",this.write=function(h){this.content+=h},this.print=function(h){this.content+="".concat(h,`
`)},this.clear=function(){this.content=""},this.close=function(){var h,g=[];for(h in g.push(this.content),a.default.prototype.writeFile(g,r,i),a.default.prototype._pWriters)a.default.prototype._pWriters[h].name===this.name&&a.default.prototype._pWriters.splice(h,1);f.clear(),f={}}},a.default.prototype.save=function(r,i,f){var h=arguments,g=(this._curElement||this).elt;if(h.length===0)a.default.prototype.saveCanvas(g);else if(h[0]instanceof a.default.Renderer||h[0]instanceof a.default.Graphics)a.default.prototype.saveCanvas(h[0].elt,h[1],h[2]);else if(h.length===1&&typeof h[0]=="string")a.default.prototype.saveCanvas(g,h[0]);else switch(t(h[1],h[2])[1]){case"json":return void a.default.prototype.saveJSON(h[0],h[1],h[2]);case"txt":return void a.default.prototype.saveStrings(h[0],h[1],h[2]);default:h[0]instanceof Array?a.default.prototype.saveStrings(h[0],h[1],h[2]):h[0]instanceof a.default.Table?a.default.prototype.saveTable(h[0],h[1],h[2]):h[0]instanceof a.default.Image?a.default.prototype.saveCanvas(h[0].canvas,h[1]):h[0]instanceof a.default.SoundFile&&a.default.prototype.saveSound(h[0],h[1],h[2],h[3])}},a.default.prototype.saveJSON=function(r,i,f){a.default._validateParameters("saveJSON",arguments),f=f?JSON.stringify(r):JSON.stringify(r,void 0,2),this.saveStrings(f.split(`
`),i,"json")},a.default.prototype.saveJSONObject=a.default.prototype.saveJSON,a.default.prototype.saveJSONArray=a.default.prototype.saveJSON,a.default.prototype.saveStrings=function(r,i,f,h){a.default._validateParameters("saveStrings",arguments);for(var g=this.createWriter(i,f||"txt"),v=0;v<r.length;v++)h?g.write(r[v]+`\r
`):g.write(r[v]+`
`);g.close(),g.clear()},a.default.prototype.saveTable=function(r,i,f){a.default._validateParameters("saveTable",arguments),h=f===void 0?i.substring(i.lastIndexOf(".")+1,i.length):f;var h,g=this.createWriter(i,h),v=r.columns,b=h==="tsv"?"	":",";if(h!=="html"){if(v[0]!=="0"){for(var m=0;m<v.length;m++)m<v.length-1?g.write(v[m]+b):g.write(v[m]);g.write(`
`)}for(var w=0;w<r.rows.length;w++){for(var j=void 0,j=0;j<r.rows[w].arr.length;j++)j<r.rows[w].arr.length-1?h==="csv"&&String(r.rows[w].arr[j]).includes(",")?g.write('"'+r.rows[w].arr[j]+'"'+b):g.write(r.rows[w].arr[j]+b):h==="csv"&&String(r.rows[w].arr[j]).includes(",")?g.write('"'+r.rows[w].arr[j]+'"'):g.write(r.rows[w].arr[j]);g.write(`
`)}}else{if(g.print("<html>"),g.print("<head>"),g.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),g.print("</head>"),g.print("<body>"),g.print("  <table>"),v[0]!=="0"){g.print("    <tr>");for(var S=0;S<v.length;S++){var T=n(v[S]);g.print("      <td>".concat(T)),g.print("      </td>")}g.print("    </tr>")}for(var E=0;E<r.rows.length;E++){g.print("    <tr>");for(var C=0;C<r.columns.length;C++){var L=n(r.rows[E].getString(C));g.print("      <td>".concat(L)),g.print("      </td>")}g.print("    </tr>")}g.print("  </table>"),g.print("</body>"),g.print("</html>")}g.close(),g.clear()},a.default.prototype.writeFile=function(g,i,f){var h="application/octet-stream",g=(a.default.prototype._isSafari()&&(h="text/plain"),new Blob(g,{type:h}));a.default.prototype.downloadFile(g,i,f)},a.default.prototype.downloadFile=function(r,g,v){var h,g=t(g,v),v=g[0];r instanceof Blob?l.default.saveAs(r,v):((h=document.createElement("a")).href=r,h.download=v,h.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},h.style.display="none",document.body.appendChild(h),a.default.prototype._isSafari()&&(r=(r=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(g[1],'"'),alert(r)),h.click())},a.default.prototype._checkFileExtension=t,a.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},o=a.default,y.default=o},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.Table=function(a){this.columns=[],this.rows=[]},c.default.Table.prototype.addRow=function(a){if(a=a||new c.default.TableRow,a.arr===void 0||a.obj===void 0)throw new Error("invalid TableRow: ".concat(a));return(a.table=this).rows.push(a),a},c.default.Table.prototype.removeRow=function(a){this.rows[a].table=null,a=this.rows.splice(a+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(a)},c.default.Table.prototype.getRow=function(a){return this.rows[a]},c.default.Table.prototype.getRows=function(){return this.rows},c.default.Table.prototype.findRow=function(a,s){if(typeof s=="string"){for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[s]===a)return this.rows[l]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[s]===a)return this.rows[u];return null},c.default.Table.prototype.findRows=function(a,s){var l=[];if(typeof s=="string")for(var u=0;u<this.rows.length;u++)this.rows[u].obj[s]===a&&l.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].arr[s]===a&&l.push(this.rows[d]);return l},c.default.Table.prototype.matchRow=function(a,s){if(typeof s=="number"){for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[s].match(a))return this.rows[l]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[s].match(a))return this.rows[u];return null},c.default.Table.prototype.matchRows=function(a,s){var l=[];if(typeof s=="number")for(var u=0;u<this.rows.length;u++)this.rows[u].arr[s].match(a)&&l.push(this.rows[u]);else for(var d=0;d<this.rows.length;d++)this.rows[d].obj[s].match(a)&&l.push(this.rows[d]);return l},c.default.Table.prototype.getColumn=function(a){var s=[];if(typeof a=="string")for(var l=0;l<this.rows.length;l++)s.push(this.rows[l].obj[a]);else for(var u=0;u<this.rows.length;u++)s.push(this.rows[u].arr[a]);return s},c.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},c.default.Table.prototype.addColumn=function(a){this.columns.push(a||null)},c.default.Table.prototype.getColumnCount=function(){return this.columns.length},c.default.Table.prototype.getRowCount=function(){return this.rows.length},c.default.Table.prototype.removeTokens=function(a,s){for(var l=[],u=0;u<a.length;u++)l.push(a.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var d=new RegExp(l.join("|"),"g");if(s===void 0)for(var n=0;n<this.columns.length;n++)for(var t=0;t<this.rows.length;t++){var r=(r=this.rows[t].arr[n]).replace(d,"");this.rows[t].arr[n]=r,this.rows[t].obj[this.columns[n]]=r}else if(typeof s=="string")for(var i=0;i<this.rows.length;i++){var f=(f=this.rows[i].obj[s]).replace(d,""),h=(this.rows[i].obj[s]=f,this.columns.indexOf(s));this.rows[i].arr[h]=f}else for(var g=0;g<this.rows.length;g++){var v=(v=this.rows[g].arr[s]).replace(d,"");this.rows[g].arr[s]=v,this.rows[g].obj[this.columns[s]]=v}},c.default.Table.prototype.trim=function(a){var s=new RegExp(" ","g");if(a===void 0)for(var l=0;l<this.columns.length;l++)for(var u=0;u<this.rows.length;u++){var d=(d=this.rows[u].arr[l]).replace(s,"");this.rows[u].arr[l]=d,this.rows[u].obj[this.columns[l]]=d}else if(typeof a=="string")for(var n=0;n<this.rows.length;n++){var t=(t=this.rows[n].obj[a]).replace(s,""),r=(this.rows[n].obj[a]=t,this.columns.indexOf(a));this.rows[n].arr[r]=t}else for(var i=0;i<this.rows.length;i++){var f=(f=this.rows[i].arr[a]).replace(s,"");this.rows[i].arr[a]=f,this.rows[i].obj[this.columns[a]]=f}},c.default.Table.prototype.removeColumn=function(u){typeof u=="string"?l=this.columns.indexOf(s=u):s=this.columns[l=u];var s,l,u=this.columns.splice(l+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(u);for(var d=0;d<this.rows.length;d++){var n=this.rows[d].arr,t=n.splice(l+1,n.length);n.pop(),this.rows[d].arr=n.concat(t),delete this.rows[d].obj[s]}},c.default.Table.prototype.set=function(a,s,l){this.rows[a].set(s,l)},c.default.Table.prototype.setNum=function(a,s,l){this.rows[a].setNum(s,l)},c.default.Table.prototype.setString=function(a,s,l){this.rows[a].setString(s,l)},c.default.Table.prototype.get=function(a,s){return this.rows[a].get(s)},c.default.Table.prototype.getNum=function(a,s){return this.rows[a].getNum(s)},c.default.Table.prototype.getString=function(a,s){return this.rows[a].getString(s)},c.default.Table.prototype.getObject=function(a){for(var s,l={},u=0;u<this.rows.length;u++)if(s=this.rows[u].obj,typeof a=="string"){if(!(0<=this.columns.indexOf(a)))throw new Error('This table has no column named "'.concat(a,'"'));l[s[a]]=s}else l[u]=this.rows[u].obj;return l},c.default.Table.prototype.getArray=function(){for(var a=[],s=0;s<this.rows.length;s++)a.push(this.rows[s].arr);return a},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(o,P,y){o("core-js/modules/es.array.index-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.TableRow=function(c,a){var s=[],l={};c&&(s=c.split(a=a||","));for(var u=0;u<s.length;u++){var d=u,n=s[u];l[d]=n}this.arr=s,this.obj=l,this.table=null},o.default.TableRow.prototype.set=function(c,a){if(typeof c=="string"){var s=this.table.columns.indexOf(c);if(!(0<=s))throw new Error('This table has no column named "'.concat(c,'"'));this.obj[c]=a,this.arr[s]=a}else{if(!(c<this.table.columns.length))throw new Error("Column #".concat(c," is out of the range of this table"));this.arr[c]=a,s=this.table.columns[c],this.obj[s]=a}},o.default.TableRow.prototype.setNum=function(c,a){a=parseFloat(a),this.set(c,a)},o.default.TableRow.prototype.setString=function(c,a){a=a.toString(),this.set(c,a)},o.default.TableRow.prototype.get=function(c){return(typeof c=="string"?this.obj:this.arr)[c]},o.default.TableRow.prototype.getNum=function(c){var a=parseFloat(typeof c=="string"?this.obj[c]:this.arr[c]);if(a.toString()==="NaN")throw"Error: ".concat(this.obj[c]," is NaN (Not a Number)");return a},o.default.TableRow.prototype.getString=function(c){return(typeof c=="string"?this.obj:this.arr)[c].toString()},o=o.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};function a(s){for(var l=[],u=0;u<s.length;u++)l.push(new c.default.XML(s[u]));return l}c.default.XML=function(s){s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))},c.default.XML.prototype.getParent=function(){return new c.default.XML(this.DOM.parentElement)},c.default.XML.prototype.getName=function(){return this.DOM.tagName},c.default.XML.prototype.setName=function(s){var l=this.DOM.innerHTML,u=this.DOM.attributes,d=document.implementation.createDocument(null,"default").createElement(s);d.innerHTML=l;for(var n=0;n<u.length;n++)d.setAttribute(u[n].nodeName,u.nodeValue);this.DOM=d},c.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},c.default.XML.prototype.listChildren=function(){for(var s=[],l=0;l<this.DOM.childNodes.length;l++)s.push(this.DOM.childNodes[l].nodeName);return s},c.default.XML.prototype.getChildren=function(s){return a(s?this.DOM.getElementsByTagName(s):this.DOM.children)},c.default.XML.prototype.getChild=function(s){if(typeof s!="string")return new c.default.XML(this.DOM.children[s]);var l=!0,u=!1,d=void 0;try{for(var n,t=this.DOM.children[Symbol.iterator]();!(l=(n=t.next()).done);l=!0){var r=n.value;if(r.tagName===s)return new c.default.XML(r)}}catch(i){u=!0,d=i}finally{try{l||t.return==null||t.return()}finally{if(u)throw d}}},c.default.XML.prototype.addChild=function(s){s instanceof c.default.XML&&this.DOM.appendChild(s.DOM)},c.default.XML.prototype.removeChild=function(s){var l=-1;if(typeof s=="string"){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===s){l=u;break}}else l=s;l!==-1&&this.DOM.removeChild(this.DOM.children[l])},c.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},c.default.XML.prototype.listAttributes=function(){var s=[],l=!0,u=!1,d=void 0;try{for(var n,t=this.DOM.attributes[Symbol.iterator]();!(l=(n=t.next()).done);l=!0){var r=n.value;s.push(r.nodeName)}}catch(i){u=!0,d=i}finally{try{l||t.return==null||t.return()}finally{if(u)throw d}}return s},c.default.XML.prototype.hasAttribute=function(s){var l={},u=!0,d=!1,n=void 0;try{for(var t,r=this.DOM.attributes[Symbol.iterator]();!(u=(t=r.next()).done);u=!0){var i=t.value;l[i.nodeName]=i.nodeValue}}catch(f){d=!0,n=f}finally{try{u||r.return==null||r.return()}finally{if(d)throw n}}return!!l[s]},c.default.XML.prototype.getNum=function(s,l){var u={},d=!0,n=!1,t=void 0;try{for(var r,i=this.DOM.attributes[Symbol.iterator]();!(d=(r=i.next()).done);d=!0){var f=r.value;u[f.nodeName]=f.nodeValue}}catch(h){n=!0,t=h}finally{try{d||i.return==null||i.return()}finally{if(n)throw t}}return Number(u[s])||l||0},c.default.XML.prototype.getString=function(s,l){var u={},d=!0,n=!1,t=void 0;try{for(var r,i=this.DOM.attributes[Symbol.iterator]();!(d=(r=i.next()).done);d=!0){var f=r.value;u[f.nodeName]=f.nodeValue}}catch(h){n=!0,t=h}finally{try{d||i.return==null||i.return()}finally{if(n)throw t}}return u[s]?String(u[s]):l||null},c.default.XML.prototype.setAttribute=function(s,l){this.DOM.setAttribute(s,l)},c.default.XML.prototype.getContent=function(s){var l=this.DOM.textContent;return(l=l.replace(/\s\s+/g,","))||s||null},c.default.XML.prototype.setContent=function(s){this.DOM.children.length||(this.DOM.textContent=s)},c.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(o,P,y){o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};function a(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var s=arguments.length,l=[],u=0,d=0;d<s;d++){var n=arguments[d];if((n=+n)===1/0||n===-1/0)return 1/0;u<(n=Math.abs(n))&&(u=n),l[d]=n}u===0&&(u=1);for(var h=0,f=0,t=0;t<s;t++)var r=l[t]/u,r=r*r-f,i=h+r,f=i-h-r,h=i;return Math.sqrt(h)*u}c.default.prototype.abs=Math.abs,c.default.prototype.ceil=Math.ceil,c.default.prototype.constrain=function(s,l,u){return c.default._validateParameters("constrain",arguments),Math.max(Math.min(s,u),l)},c.default.prototype.dist=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return c.default._validateParameters("dist",l),l.length===4?a(l[2]-l[0],l[3]-l[1]):l.length===6?a(l[3]-l[0],l[4]-l[1],l[5]-l[2]):void 0},c.default.prototype.exp=Math.exp,c.default.prototype.floor=Math.floor,c.default.prototype.lerp=function(s,l,u){return c.default._validateParameters("lerp",arguments),u*(l-s)+s},c.default.prototype.log=Math.log,c.default.prototype.mag=function(s,l){return c.default._validateParameters("mag",arguments),a(s,l)},c.default.prototype.map=function(s,l,u,d,n,t){return c.default._validateParameters("map",arguments),s=(s-l)/(u-l)*(n-d)+d,t?d<n?this.constrain(s,d,n):this.constrain(s,n,d):s},c.default.prototype.max=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return l[0]instanceof Array?Math.max.apply(null,l[0]):Math.max.apply(null,l)},c.default.prototype.min=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return l[0]instanceof Array?Math.min.apply(null,l[0]):Math.min.apply(null,l)},c.default.prototype.norm=function(s,l,u){return c.default._validateParameters("norm",arguments),this.map(s,l,u,0,1)},c.default.prototype.pow=Math.pow,c.default.prototype.round=function(s,l){return l?(l=Math.pow(10,l),Math.round(s*l)/l):Math.round(s)},c.default.prototype.sq=function(s){return s*s},c.default.prototype.sqrt=Math.sqrt,c.default.prototype.fract=function(d){c.default._validateParameters("fract",arguments);var l,u=0,d=Number(d);return isNaN(d)||Math.abs(d)===1/0?d:(d<0&&(d=-d,u=1),String(d).includes(".")&&!String(d).includes("e")?(l=String(d),l=+("0"+l.slice(l.indexOf("."))),Math.abs(u-l)):d<1?Math.abs(u-d):0)},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};function a(l,u,d){return(a=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(n,t,r){var i=[null];return i.push.apply(i,t),t=new(Function.bind.apply(n,i)),r&&s(t,r.prototype),t}).apply(null,arguments)}function s(l,u){return(s=Object.setPrototypeOf||function(d,n){return d.__proto__=n,d})(l,u)}c.default.prototype.createVector=function(l,u,d){return this instanceof c.default?a(c.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new c.default.Vector(l,u,d)},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(d,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,d=(d=d("../core/main"))&&d.__esModule?d:{default:d};function c(n){return .5*(1-Math.cos(n*Math.PI))}var a,s=4095,l=4,u=.5,d=(d.default.prototype.noise=function(n){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(a==null){a=new Array(4096);for(var i=0;i<4096;i++)a[i]=Math.random()}n<0&&(n=-n),t<0&&(t=-t),r<0&&(r=-r);for(var f,h,g=Math.floor(n),v=Math.floor(t),b=Math.floor(r),m=n-g,w=t-v,j=r-b,S=0,T=.5,E=0;E<l;E++){var C=g+(v<<4)+(b<<8),L=c(m),k=c(w),D=a[C&s];D+=L*(a[C+1&s]-D),f=a[C+16&s],D+=k*((f+=L*(a[C+16+1&s]-f))-D),f=a[(C+=256)&s],f+=L*(a[C+1&s]-f),h=a[C+16&s],f+=k*((h+=L*(a[C+16+1&s]-h))-f),S+=(D+=c(j)*(f-D))*T,T*=u,g<<=1,v<<=1,b<<=1,1<=(m*=2)&&(g++,m--),1<=(w*=2)&&(v++,w--),1<=(j*=2)&&(b++,j--)}return S},d.default.prototype.noiseDetail=function(n,t){0<n&&(l=n),0<t&&(u=t)},d.default.prototype.noiseSeed=function(n){i=4294967296;var t,r,i,f={setSeed:function(g){r=t=(g??Math.random()*i)>>>0},getSeed:function(){return t},rand:function(){return(r=(1664525*r+1013904223)%i)/i}};f.setSeed(n),a=new Array(4096);for(var h=0;h<4096;h++)a[h]=f.rand()},d.default);y.default=d},{"../core/main":267}],300:[function(o,P,y){function c(r){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function a(r){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(r)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(t=o("../core/main"))&&t.__esModule?t:{default:t},l=function(r){if(r&&r.__esModule)return r;if(r===null||a(r)!=="object"&&typeof r!="function")return{default:r};var i=u();if(i&&i.has(r))return i.get(r);var f,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in r){var v;Object.prototype.hasOwnProperty.call(r,f)&&((v=g?Object.getOwnPropertyDescriptor(r,f):null)&&(v.get||v.set)?Object.defineProperty(h,f,v):h[f]=r[f])}return h.default=r,i&&i.set(r,h),h}(o("../core/constants"));function u(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,u=function(){return r},r)}s.default.Vector=function(){var r,i,f={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],r=arguments[2]||0,i=arguments[3]||0,arguments[4]||0):(r=arguments[0]||0,i=arguments[1]||0,arguments[2]||0);this.x=r,this.y=i,this.z=f},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(r,i,f){return r instanceof s.default.Vector?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):r instanceof Array?(this.x=r[0]||0,this.y=r[1]||0,this.z=r[2]||0):(this.x=r||0,this.y=i||0,this.z=f||0),this},s.default.Vector.prototype.copy=function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(r,i,f){return r instanceof s.default.Vector?(this.x+=r.x||0,this.y+=r.y||0,this.z+=r.z||0):r instanceof Array?(this.x+=r[0]||0,this.y+=r[1]||0,this.z+=r[2]||0):(this.x+=r||0,this.y+=i||0,this.z+=f||0),this};function d(r,i){return r!==0&&(this.x=this.x%r),i!==0&&(this.y=this.y%i),this}function n(r,i,f){return r!==0&&(this.x=this.x%r),i!==0&&(this.y=this.y%i),f!==0&&(this.z=this.z%f),this}s.default.Vector.prototype.rem=function(r,i,f){var h;if(r instanceof s.default.Vector){if(Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z))return g=parseFloat(r.x),v=parseFloat(r.y),h=parseFloat(r.z),n.call(this,g,v,h)}else if(r instanceof Array){if(r.every(function(b){return Number.isFinite(b)}))return r.length===2?d.call(this,r[0],r[1]):r.length===3?n.call(this,r[0],r[1],r[2]):void 0}else if(arguments.length===1){if(Number.isFinite(r)&&r!==0)return this.x=this.x%r,this.y=this.y%r,this.z=this.z%r,this}else if(arguments.length===2){var g=Array.prototype.slice.call(arguments);if(g.every(function(b){return Number.isFinite(b)})&&g.length===2)return d.call(this,g[0],g[1])}else if(arguments.length===3){var v=Array.prototype.slice.call(arguments);if(v.every(function(b){return Number.isFinite(b)})&&v.length===3)return n.call(this,v[0],v[1],v[2])}},s.default.Vector.prototype.sub=function(r,i,f){return r instanceof s.default.Vector?(this.x-=r.x||0,this.y-=r.y||0,this.z-=r.z||0):r instanceof Array?(this.x-=r[0]||0,this.y-=r[1]||0,this.z-=r[2]||0):(this.x-=r||0,this.y-=i||0,this.z-=f||0),this},s.default.Vector.prototype.mult=function(r,i,f){var h;return r instanceof s.default.Vector?Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.z=="number"?(this.x*=r.x,this.y*=r.y,this.z*=r.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):r instanceof Array?r.every(function(g){return Number.isFinite(g)})&&r.every(function(g){return typeof g=="number"})?r.length===1?(this.x*=r[0],this.y*=r[0],this.z*=r[0]):r.length===2?(this.x*=r[0],this.y*=r[1]):r.length===3&&(this.x*=r[0],this.y*=r[1],this.z*=r[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(h=Array.prototype.slice.call(arguments)).every(function(g){return Number.isFinite(g)})&&h.every(function(g){return typeof g=="number"})?(arguments.length===1&&(this.x*=r,this.y*=r,this.z*=r),arguments.length===2&&(this.x*=r,this.y*=i),arguments.length===3&&(this.x*=r,this.y*=i,this.z*=f)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(r,i,f){if(r instanceof s.default.Vector)if(Number.isFinite(r.x)&&Number.isFinite(r.y)&&Number.isFinite(r.z)&&typeof r.x=="number"&&typeof r.y=="number"&&typeof r.z=="number"){var h=r.z===0&&this.z===0;if(r.x===0||r.y===0||!h&&r.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=r.x,this.y/=r.y,h||(this.z/=r.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(r instanceof Array)if(r.every(function(g){return Number.isFinite(g)})&&r.every(function(g){return typeof g=="number"})){if(r.some(function(g){return g===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;r.length===1?(this.x/=r[0],this.y/=r[0],this.z/=r[0]):r.length===2?(this.x/=r[0],this.y/=r[1]):r.length===3&&(this.x/=r[0],this.y/=r[1],this.z/=r[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(h=Array.prototype.slice.call(arguments),h.every(function(g){return Number.isFinite(g)})&&h.every(function(g){return typeof g=="number"})){if(h.some(function(g){return g===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=r,this.y/=r,this.z/=r),arguments.length===2&&(this.x/=r,this.y/=i),arguments.length===3&&(this.x/=r,this.y/=i,this.z/=f)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var r=this.x,i=this.y,f=this.z;return r*r+i*i+f*f},s.default.Vector.prototype.dot=function(r,i,f){return r instanceof s.default.Vector?this.dot(r.x,r.y,r.z):this.x*(r||0)+this.y*(i||0)+this.z*(f||0)},s.default.Vector.prototype.cross=function(h){var i=this.y*h.z-this.z*h.y,f=this.z*h.x-this.x*h.z,h=this.x*h.y-this.y*h.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,i,f,h):new s.default.Vector(i,f,h)},s.default.Vector.prototype.dist=function(r){return r.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var r=this.mag();return r!==0&&this.mult(1/r),this},s.default.Vector.prototype.limit=function(r){var i=this.magSq();return r*r<i&&this.div(Math.sqrt(i)).mult(r),this},s.default.Vector.prototype.setMag=function(r){return this.normalize().mult(r)},s.default.Vector.prototype.heading=function(){var r=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(r):r},s.default.Vector.prototype.setHeading=function(r){this.isPInst&&(r=this._toRadians(r));var i=this.mag();return this.x=i*Math.cos(r),this.y=i*Math.sin(r),this},s.default.Vector.prototype.rotate=function(i){var i=this.heading()+i,f=(this.isPInst&&(i=this._toRadians(i)),this.mag());return this.x=Math.cos(i)*f,this.y=Math.sin(i)*f,this},s.default.Vector.prototype.angleBetween=function(r){var i=this.dot(r)/(this.mag()*r.mag()),i=Math.acos(Math.min(1,Math.max(-1,i)));return i*=Math.sign(this.cross(r).z||1),i=this.isPInst?this._fromRadians(i):i},s.default.Vector.prototype.lerp=function(r,i,f,h){return r instanceof s.default.Vector?this.lerp(r.x,r.y,r.z,i):(this.x+=(r-this.x)*h||0,this.y+=(i-this.y)*h||0,this.z+=(f-this.z)*h||0,this)},s.default.Vector.prototype.reflect=function(r){return r.normalize(),this.sub(r.mult(2*this.dot(r)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(v,i,f){var h,g,v=v instanceof s.default.Vector?(h=v.x||0,g=v.y||0,v.z||0):v instanceof Array?(h=v[0]||0,g=v[1]||0,v[2]||0):(h=v||0,g=i||0,f||0);return this.x===h&&this.y===g&&this.z===v},s.default.Vector.fromAngle=function(r,i){return new s.default.Vector((i=i===void 0?1:i)*Math.cos(r),i*Math.sin(r),0)},s.default.Vector.fromAngles=function(b,g,f){f===void 0&&(f=1);var h=Math.cos(g),g=Math.sin(g),v=Math.cos(b),b=Math.sin(b);return new s.default.Vector(f*b*g,-f*v,f*b*h)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*l.TWO_PI)},s.default.Vector.random3D=function(){var r=Math.random()*l.TWO_PI,i=2*Math.random()-1,h=Math.sqrt(1-i*i),f=h*Math.cos(r),h=h*Math.sin(r);return new s.default.Vector(f,h,i)},s.default.Vector.copy=function(r){return r.copy(r)},s.default.Vector.add=function(r,i,f){return f?f.set(r):(f=r.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),f.add(i),f},s.default.Vector.rem=function(r,i){if(r instanceof s.default.Vector&&i instanceof s.default.Vector)return(r=r.copy()).rem(i),r},s.default.Vector.sub=function(r,i,f){return f?f.set(r):(f=r.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),f.sub(i),f},s.default.Vector.mult=function(r,i,f){return f?f.set(r):(f=r.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),f.mult(i),f},s.default.Vector.rotate=function(r,i,f){return arguments.length===2?f=r.copy():(f instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),f.set(r)),f.rotate(i),f},s.default.Vector.div=function(r,i,f){return f?f.set(r):(f=r.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),f.div(i),f},s.default.Vector.dot=function(r,i){return r.dot(i)},s.default.Vector.cross=function(r,i){return r.cross(i)},s.default.Vector.dist=function(r,i){return r.dist(i)},s.default.Vector.lerp=function(r,i,f,h){return h?h.set(r):(h=r.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),h.lerp(i,f),h},s.default.Vector.mag=function(r){return r.mag()},s.default.Vector.magSq=function(r){return r.magSq()},s.default.Vector.normalize=function(r,i){return arguments.length<2?i=r.copy():(i instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),i.set(r)),i.normalize()},s.default.Vector.limit=function(r,i,f){return arguments.length<3?f=r.copy():(f instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),f.set(r)),f.limit(i)},s.default.Vector.setMag=function(r,i,f){return arguments.length<3?f=r.copy():(f instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),f.set(r)),f.setMag(i)},s.default.Vector.heading=function(r){return r.heading()},s.default.Vector.angleBetween=function(r,i){return r.angleBetween(i)},s.default.Vector.reflect=function(r,i,f){return arguments.length<3?f=r.copy():(f instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),f.set(r)),f.reflect(i)},s.default.Vector.array=function(r){return r.array()},s.default.Vector.equals=function(r,i){var f;return r instanceof s.default.Vector?f=r:r instanceof Array?f=new s.default.Vector().set(r):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),f.equals(i)};var t=s.default.Vector;y.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(u,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(u=u("../core/main"))&&u.__esModule?u:{default:u},a="_lcg_random_state",s=4294967296,l=0,u=(c.default.prototype._lcg=function(d){return this[d]=(1664525*this[d]+1013904223)%s,this[d]/s},c.default.prototype._lcgSetSeed=function(d,n){this[d]=(n??Math.random()*s)>>>0},c.default.prototype.randomSeed=function(d){this._lcgSetSeed(a,d),this._gaussian_previous=!1},c.default.prototype.random=function(d,n){var t,r;return c.default._validateParameters("random",arguments),t=this[a]!=null?this._lcg(a):Math.random(),d===void 0?t:n===void 0?d instanceof Array?d[Math.floor(t*d.length)]:t*d:(n<d&&(r=d,d=n,n=r),t*(n-d)+d)},c.default.prototype.randomGaussian=function(d){var n,t,r,i,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=l,this._gaussian_previous=!1;else{for(;1<=(i=(t=this.random(2)-1)*t+(r=this.random(2)-1)*r););n=t*(i=Math.sqrt(-2*Math.log(i)/i)),l=r*i,this._gaussian_previous=!0}return n*f+(d||0)},c.default);y.default=u},{"../core/main":267}],302:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}s.default.prototype._angleMode=l.RADIANS,s.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},s.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},s.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},s.default.prototype.atan2=function(n,t){return this._fromRadians(Math.atan2(n,t))},s.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},s.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},s.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},s.default.prototype.degrees=function(n){return n*l.RAD_TO_DEG},s.default.prototype.radians=function(n){return n*l.DEG_TO_RAD},s.default.prototype.angleMode=function(n){if(s.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==l.DEGREES&&n!==l.RADIANS||(this._angleMode=n)},s.default.prototype._toRadians=function(n){return this._angleMode===l.DEGREES?n*l.DEG_TO_RAD:n},s.default.prototype._toDegrees=function(n){return this._angleMode===l.RADIANS?n*l.RAD_TO_DEG:n},s.default.prototype._fromRadians=function(n){return this._angleMode===l.DEGREES?n*l.RAD_TO_DEG:n};var d=s.default;y.default=d},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.prototype.textAlign=function(a,s){var l;return c.default._validateParameters("textAlign",arguments),(l=this._renderer).textAlign.apply(l,arguments)},c.default.prototype.textLeading=function(a){var s;return c.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},c.default.prototype.textSize=function(a){var s;return c.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},c.default.prototype.textStyle=function(a){var s;return c.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},c.default.prototype.textWidth=function(){for(var a,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return l[0]+="",c.default._validateParameters("textWidth",l),l[0].length===0?0:(a=this._renderer).textWidth.apply(a,l)},c.default.prototype.textAscent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return c.default._validateParameters("textAscent",s),this._renderer.textAscent()},c.default.prototype.textDescent=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return c.default._validateParameters("textDescent",s),this._renderer.textDescent()},c.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},c.default.prototype.textWrap=function(a){if(a!=="WORD"&&a!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(a)},o=c.default,y.default=o},{"../core/main":267}],304:[function(o,P,y){function c(r){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function a(r){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(r)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(t=o("../core/main"))&&t.__esModule?t:{default:t},l=n(o("../core/constants")),u=n(o("opentype.js"));function d(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,d=function(){return r},r)}function n(r){if(r&&r.__esModule)return r;if(r===null||a(r)!=="object"&&typeof r!="function")return{default:r};var i=d();if(i&&i.has(r))return i.get(r);var f,h,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in r)Object.prototype.hasOwnProperty.call(r,f)&&((h=v?Object.getOwnPropertyDescriptor(r,f):null)&&(h.get||h.set)?Object.defineProperty(g,f,h):g[f]=r[f]);return g.default=r,i&&i.set(r,g),g}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(r,i,f){s.default._validateParameters("loadFont",arguments);var h=new s.default.Font(this),g=this;return u.load(r,function(m,w){if(m)return s.default._friendlyFileLoadError(4,r),f!==void 0?f(m):void console.error(m,r);h.font=w,i!==void 0&&i(h),g._decrementPreload();var m=r.split("\\").pop().split("/").pop(),w=m.lastIndexOf("."),j=w<1?null:m.slice(w+1);["ttf","otf","woff","woff2"].includes(j)&&(j=m.slice(0,w!==-1?w:0),(m=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(j,`;
src: url(`).concat(r,`);
}
`))),document.head.appendChild(m))}),h},s.default.prototype.text=function(r,i,f,h,g){var v;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(v=this._renderer).text.apply(v,arguments):this},s.default.prototype.textFont=function(r,i){if(s.default._validateParameters("textFont",arguments),arguments.length){if(r)return this._renderer._setProperty("_textFont",r),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*l._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var t=s.default;y.default=t},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(o,P,y){function c(j){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(j)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var a=(a=o("../core/main"))&&a.__esModule?a:{default:a},s=function(j){if(j&&j.__esModule)return j;if(j===null||u(j)!=="object"&&typeof j!="function")return{default:j};var S=l();if(S&&S.has(j))return S.get(j);var T,E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in j){var L;Object.prototype.hasOwnProperty.call(j,T)&&((L=C?Object.getOwnPropertyDescriptor(j,T):null)&&(L.get||L.set)?Object.defineProperty(E,T,L):E[T]=j[T])}return E.default=j,S&&S.set(j,E),E}(o("../core/constants"));function l(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,l=function(){return j},j)}function u(j){return(u=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(S){return c(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":c(S)})(j)}function d(j,S){var T=j.length;return j[S<0?S%T+T:S%T]}function n(j,S,T,E){var C,L,k;return E?(n.tmpPoint1===void 0&&(n.tmpPoint1=[],n.tmpPoint2=[]),L=n.tmpPoint1,k=n.tmpPoint2,L.x=S.x-j.x,L.y=S.y-j.y,k.x=T.x-S.x,k.y=T.y-S.y,C=L.x*k.x+L.y*k.y,L=Math.sqrt(L.x*L.x+L.y*L.y),k=Math.sqrt(k.x*k.x+k.y*k.y),Math.acos(C/(L*k))<E):(S[0]-j[0])*(T[1]-j[1])-(T[0]-j[0])*(S[1]-j[1])==0}function t(O,B,R,W,K,L,k,D,F){var V=1-F,H=Math.pow(V,3),z=Math.pow(V,2),ee=F*F,X=ee*F,G=H*O+3*z*F*R+3*V*F*F*K+X*k,H=H*B+3*z*F*W+3*V*F*F*L+X*D,z=O+2*F*(R-O)+ee*(K-2*R+O),X=B+2*F*(W-B)+ee*(L-2*W+B),Y=R+2*F*(K-R)+ee*(k-2*K+R),ee=W+2*F*(L-W)+ee*(D-2*L+W),O=V*O+F*R,R=V*B+F*W,B=V*K+F*k,W=V*L+F*D,K=90-180*Math.atan2(z-Y,X-ee)/Math.PI;return(Y<z||X<ee)&&(K+=180),{x:G,y:H,m:{x:z,y:X},n:{x:Y,y:ee},start:{x:O,y:R},end:{x:B,y:W},alpha:K}}function r(j,S,T,E,C,L,k,D,F){return F==null?m(j,S,T,E,C,L,k,D):t(j,S,T,E,C,L,k,D,function(V,G,H,z,X,Y,ee,O,R){if(!(R<0||m(V,G,H,z,X,Y,ee,O)<R)){var B,W=.5,K=1-W;for(B=m(V,G,H,z,X,Y,ee,O,K);.01<Math.abs(B-R);)B=m(V,G,H,z,X,Y,ee,O,K+=(B<R?1:-1)*(W/=2));return K}}(j,S,T,E,C,L,k,D,F))}function i(j,S,T){for(var E,C,L,k,D,F=0,V=0,G=(j=function(H,z){function X(ye,de,Ce){var Te,Ae;if(!ye)return["C",de.x,de.y,de.x,de.y,de.x,de.y];switch(ye[0]in{T:1,Q:1}||(de.qx=de.qy=null),ye[0]){case"M":de.X=ye[1],de.Y=ye[2];break;case"A":ye=["C"].concat(h.apply(0,[de.x,de.y].concat(ye.slice(1))));break;case"S":Ae=Ce==="C"||Ce==="S"?(Te=2*de.x-de.bx,2*de.y-de.by):(Te=de.x,de.y),ye=["C",Te,Ae].concat(ye.slice(1));break;case"T":Ce==="Q"||Ce==="T"?(de.qx=2*de.x-de.qx,de.qy=2*de.y-de.qy):(de.qx=de.x,de.qy=de.y),ye=["C"].concat(b(de.x,de.y,de.qx,de.qy,ye[1],ye[2]));break;case"Q":de.qx=ye[1],de.qy=ye[2],ye=["C"].concat(b(de.x,de.y,ye[1],ye[2],ye[3],ye[4]));break;case"L":ye=["C"].concat(v(de.x,de.y,ye[1],ye[2]));break;case"H":ye=["C"].concat(v(de.x,de.y,ye[1],de.y));break;case"V":ye=["C"].concat(v(de.x,de.y,de.x,ye[1]));break;case"Z":ye=["C"].concat(v(de.x,de.y,de.X,de.Y))}return ye}function Y(ye,de){if(7<ye[de].length){ye[de].shift();for(var Ce=ye[de];Ce.length;)ne[de]="A",B&&(ie[de]="A"),ye.splice(de++,0,["C"].concat(Ce.splice(0,6)));ye.splice(de,1),O=Math.max(R.length,B&&B.length||0)}}function ee(ye,de,Ce,Te,Ae){ye&&de&&ye[Ae][0]==="M"&&de[Ae][0]!=="M"&&(de.splice(Ae,0,["M",Te.x,Te.y]),Ce.bx=0,Ce.by=0,Ce.x=ye[Ae][1],Ce.y=ye[Ae][2],O=Math.max(R.length,B&&B.length||0))}var O,R=f(H),B=z&&f(z),W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},K={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ne=[],ie=[],ce="",oe="";O=Math.max(R.length,B&&B.length||0);for(var se=0;se<O;se++){(ce=R[se]?R[se][0]:ce)!=="C"&&(ne[se]=ce,se&&(oe=ne[se-1])),R[se]=X(R[se],W,oe),ne[se]!=="A"&&ce==="C"&&(ne[se]="C"),Y(R,se),B&&((ce=B[se]?B[se][0]:ce)!=="C"&&(ie[se]=ce,se&&(oe=ie[se-1])),B[se]=X(B[se],K,oe),ie[se]!=="A"&&ce==="C"&&(ie[se]="C"),Y(B,se)),ee(R,B,W,K,se),ee(B,R,K,W,se);var me=R[se],J=B&&B[se],ue=me.length,pe=B&&J.length;W.x=me[ue-2],W.y=me[ue-1],W.bx=parseFloat(me[ue-4])||W.x,W.by=parseFloat(me[ue-3])||W.y,K.bx=B&&(parseFloat(J[pe-4])||K.x),K.by=B&&(parseFloat(J[pe-3])||K.y),K.x=B&&J[pe-2],K.y=B&&J[pe-1]}return B?[R,B]:R}(j)).length;V<G;V++){if((L=j[V])[0]==="M")E=+L[1],C=+L[2];else{if(S<F+(k=r(E,C,L[1],L[2],L[3],L[4],L[5],L[6]))&&!T)return{x:(D=r(E,C,L[1],L[2],L[3],L[4],L[5],L[6],S-F)).x,y:D.y,alpha:D.alpha};F+=k,E=+L[5],C=+L[6]}L.shift()}return D=(D=T?F:t(E,C,L[0],L[1],L[2],L[3],L[4],L[5],1)).alpha?{x:D.x,y:D.y,alpha:D.alpha}:D}function f(j){var S=[],T=0,E=0,C=0,L=0,k=0;if(j){j[0][0]==="M"&&(C=T=+j[0][1],L=E=+j[0][2],k++,S[0]=["M",T,E]);for(var D,F,V=j.length===3&&j[0][0]==="M"&&j[1][0].toUpperCase()==="R"&&j[2][0].toUpperCase()==="Z",G=k,H=j.length;G<H;G++){if(S.push(D=[]),(F=j[G])[0]!==String.prototype.toUpperCase.call(F[0]))switch(D[0]=String.prototype.toUpperCase.call(F[0]),D[0]){case"A":D[1]=F[1],D[2]=F[2],D[3]=F[3],D[4]=F[4],D[5]=F[5],D[6]=+(F[6]+T),D[7]=+(F[7]+E);break;case"V":D[1]=+F[1]+E;break;case"H":D[1]=+F[1]+T;break;case"R":for(var z,X=2,Y=(z=[T,E].concat(F.slice(1))).length;X<Y;X++)z[X]=+z[X]+T,z[++X]=+z[X]+E;S.pop(),S=S.concat(g(z,V));break;case"M":C=+F[1]+T,L=+F[2]+E;break;default:for(var ee=1,O=F.length;ee<O;ee++)D[ee]=+F[ee]+(ee%2?T:E)}else if(F[0]==="R")z=[T,E].concat(F.slice(1)),S.pop(),S=S.concat(g(z,V)),D=["R"].concat(F.slice(-2));else for(var R=0,B=F.length;R<B;R++)D[R]=F[R];switch(D[0]){case"Z":T=C,E=L;break;case"H":T=D[1];break;case"V":E=D[1];break;case"M":C=D[D.length-2],L=D[D.length-1];break;default:T=D[D.length-2],E=D[D.length-1]}}}return S}function h(j,S,T,E,B,ne,W,D,F,V){function G(pe,ye,de){return{x:pe*Math.cos(de)-ye*Math.sin(de),y:pe*Math.sin(de)+ye*Math.cos(de)}}var H,O=Math.PI,R=120*O/180,z=O/180*(+B||0),X=[],Y=(V?(se=V[0],H=V[1],ce=V[2],oe=V[3]):(j=(K=G(j,S,-z)).x,S=K.y,1<(Y=(ee=(j-(D=(K=G(D,F,-z)).x))/2)*ee/(T*T)+(K=(S-(F=K.y))/2)*K/(E*E))&&(T*=Y=Math.sqrt(Y),E*=Y),Y=T*T,ie=E*E,ce=(ne=(ne===W?-1:1)*Math.sqrt(Math.abs((Y*ie-Y*K*K-ie*ee*ee)/(Y*K*K+ie*ee*ee))))*T*K/E+(j+D)/2,oe=ne*-E*ee/T+(S+F)/2,se=Math.asin(((S-oe)/E).toFixed(9)),H=Math.asin(((F-oe)/E).toFixed(9)),(se=j<ce?O-se:se)<0&&(se=2*O+se),(H=D<ce?O-H:H)<0&&(H=2*O+H),W&&H<se&&(se-=2*O),!W&&se<H&&(H-=2*O)),H-se),ee=(Math.abs(Y)>R&&(ie=H,K=D,ne=F,H=se+R*(W&&se<H?1:-1),X=h(D=ce+T*Math.cos(H),F=oe+E*Math.sin(H),T,E,B,0,W,K,ne,[H,ie,ce,oe])),Y=H-se,Math.cos(se)),O=Math.sin(se),R=Math.cos(H),B=Math.sin(H),W=Math.tan(Y/4),K=4/3*T*W,ne=4/3*E*W,ie=[j,S],ce=[j+K*O,S-ne*ee],oe=[D+K*B,F-ne*R],se=[D,F];if(ce[0]=2*ie[0]-ce[0],ce[1]=2*ie[1]-ce[1],V)return[ce,oe,se].concat(X);for(var me=[],J=0,ue=(X=[ce,oe,se].concat(X).join().split(",")).length;J<ue;J++)me[J]=J%2?G(X[J-1],X[J],z).y:G(X[J],X[J+1],z).x;return me}function g(j,S){for(var T=[],E=0,C=j.length;E<C-2*!S;E+=2){var L=[{x:+j[E-2],y:+j[E-1]},{x:+j[E],y:+j[E+1]},{x:+j[E+2],y:+j[E+3]},{x:+j[E+4],y:+j[E+5]}];S?E?C-4===E?L[3]={x:+j[0],y:+j[1]}:C-2===E&&(L[2]={x:+j[0],y:+j[1]},L[3]={x:+j[2],y:+j[3]}):L[0]={x:+j[C-2],y:+j[C-1]}:C-4===E?L[3]=L[2]:E||(L[0]={x:+j[E],y:+j[E+1]}),T.push(["C",(-L[0].x+6*L[1].x+L[2].x)/6,(-L[0].y+6*L[1].y+L[2].y)/6,(L[1].x+6*L[2].x-L[3].x)/6,(L[1].y+6*L[2].y-L[3].y)/6,L[2].x,L[2].y])}return T}function v(j,S,T,E){return[j,S,T,E,T,E]}function b(j,S,T,E,C,L){return[1/3*j+2/3*T,1/3*S+2/3*E,1/3*C+2/3*T,1/3*L+2/3*E,C,L]}function m(j,S,T,E,C,L,k,D,F){for(var V=(F=1<(F=F??1)?1:F<0?0:F)/2,G=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],X=0;X<12;X++){var ee=V*G[X]+V,Y=w(ee,j,T,C,k),ee=w(ee,S,E,L,D);H+=z[X]*Math.sqrt(Y*Y+ee*ee)}return V*H}function w(j,S,T,E,C){return j*(j*(-3*S+9*T-9*E+3*C)+6*S-12*T+6*E)-3*S+3*T}a.default.Font=function(j){this.parent=j,this.cache={},this.font=void 0},a.default.Font.prototype.textBounds=function(j){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,k=3<arguments.length?arguments[3]:void 0,E=4<arguments.length?arguments[4]:void 0,C=E&&E.renderer&&E.renderer._pInst||this.parent,L=C._renderer.drawingContext,k=(L.textAlign||s.LEFT,L.textBaseline||s.BASELINE,k||C._renderer._textSize);if(!R){for(var D=[],F=[],V=[],G=(V[0]=[],[]),H=this._scale(k),z=C._renderer.textLeading(),X=0,Y=(this.font.forEachGlyph(j,S,T,k,E,function(K,ne,ie,ce){var oe=K.getMetrics();K.index===0||K.index===10?V[X+=1]=[]:(V[X].push(ne+oe.xMin*H),V[X].push(ne+oe.xMax*H),G.push(ie+X*z+-oe.yMin*H),G.push(ie+X*z+-oe.yMax*H))}),0<V[X].length&&(D[X]=Math.min.apply(null,V[X]),F[X]=Math.max.apply(null,V[X])),0),ee=0;ee<=X;ee++){D[ee]=Math.min.apply(null,V[ee]),F[ee]=Math.max.apply(null,V[ee]);var O=F[ee]-D[ee];Y<O&&(Y=O)}var L=Math.min.apply(null,D),R={x:L,y:T=Math.min.apply(null,G),h:Math.max.apply(null,G)-T,w:Y,advance:L-S},k=this._handleAlignment(C._renderer,j,R.x,R.y,R.w+R.advance);R.x=k.x,R.y=k.y}return R},a.default.Font.prototype.textToPoints=function(j,S,T,E,C){var L=0,k=[],D=this._getGlyphs(j);E=E||this.parent._renderer._textSize;for(var F,V=0;V<D.length;V++){if(!(D[F=V].name&&D[F].name==="space"||j.length===D.length&&j[F]===" "))for(var G=function(Y){for(var ee,O=[],R=0;R<Y.length;R++)Y[R].type==="M"&&(ee&&O.push(ee),ee=[]),ee.push(function(B){var W=[B.type];return B.type==="M"||B.type==="L"?W.push(B.x,B.y):B.type==="C"?W.push(B.x1,B.y1,B.x2,B.y2,B.x,B.y):B.type==="Q"&&W.push(B.x1,B.y1,B.x,B.y),W}(Y[R]));return O.push(ee),O}(D[V].getPath(S,T,E).commands),H=0;H<G.length;H++)for(var z=function(Y,ee){for(var ee=function(ne,ie){if(u(ne)!=="object")ne=ie;else for(var ce in ie)ne[ce]===void 0&&(ne[ce]=ie[ce]);return ne}(ee,{sampleFactor:.1,simplifyThreshold:0}),O=i(Y,0,1),R=O/(O*ee.sampleFactor),B=[],W=0;W<O;W+=R)B.push(i(Y,W));return ee.simplifyThreshold&&function(K){for(var ne=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ie=0,ce=K.length-1;3<K.length&&0<=ce;--ce)n(d(K,ce-1),d(K,ce),d(K,ce+1),ne)&&(K.splice(ce%K.length,1),ie++)}(B,ee.simplifyThreshold),B}(G[H],C),X=0;X<z.length;X++)z[X].x+=L,k.push(z[X]);L+=D[V].advanceWidth*this._scale(E)}return k},a.default.Font.prototype._getGlyphs=function(j){return this.font.stringToGlyphs(j)},a.default.Font.prototype._getPath=function(j,L,T,E){var C=(E&&E.renderer&&E.renderer._pInst||this.parent)._renderer,L=this._handleAlignment(C,j,L,T);return this.font.getPath(j,L.x,L.y,C._textSize,E)},a.default.Font.prototype._getPathData=function(j,S,T,E){var C=3;return typeof j=="string"&&2<arguments.length?j=this._getPath(j,S,T,E):u(S)==="object"&&(E=S),E&&typeof E.decimals=="number"&&(C=E.decimals),j.toPathData(C)},a.default.Font.prototype._getSVG=function(j,S,T,E){var C=3;return typeof j=="string"&&2<arguments.length?j=this._getPath(j,S,T,E):u(S)==="object"&&(E=S),E&&(typeof E.decimals=="number"&&(C=E.decimals),typeof E.strokeWidth=="number"&&(j.strokeWidth=E.strokeWidth),E.fill!==void 0&&(j.fill=E.fill),E.stroke!==void 0&&(j.stroke=E.stroke)),j.toSVG(C)},a.default.Font.prototype._renderPath=function(k,F,V,E){var C=E&&E.renderer||this.parent._renderer,L=C.drawingContext,k=(u(k)==="object"&&k.commands?k:this._getPath(k,F,V,E)).commands,D=(L.beginPath(),!0),F=!1,V=void 0;try{for(var G,H=k[Symbol.iterator]();!(D=(G=H.next()).done);D=!0){var z=G.value;z.type==="M"?L.moveTo(z.x,z.y):z.type==="L"?L.lineTo(z.x,z.y):z.type==="C"?L.bezierCurveTo(z.x1,z.y1,z.x2,z.y2,z.x,z.y):z.type==="Q"?L.quadraticCurveTo(z.x1,z.y1,z.x,z.y):z.type==="Z"&&L.closePath()}}catch(X){F=!0,V=X}finally{try{D||H.return==null||H.return()}finally{if(F)throw V}}return C._doStroke&&C._strokeSet&&L.stroke(),C._doFill&&(C._fillSet||C._setFill(s._DEFAULT_TEXT_FILL),L.fill()),this},a.default.Font.prototype._textWidth=function(j,S){return this.font.getAdvanceWidth(j,S)},a.default.Font.prototype._textAscent=function(j){return this.font.ascender*this._scale(j)},a.default.Font.prototype._textDescent=function(j){return-this.font.descender*this._scale(j)},a.default.Font.prototype._scale=function(j){return 1/this.font.unitsPerEm*(j||this.parent._renderer._textSize)},a.default.Font.prototype._handleAlignment=function(j,S,T,E,C){var L=j._textSize;switch(C===void 0&&(C=this._textWidth(S,L)),j._textAlign){case s.CENTER:T-=C/2;break;case s.RIGHT:T-=C}switch(j._textBaseline){case s.TOP:E+=this._textAscent(L);break;case s.CENTER:E+=this._textAscent(L)/2;break;case s.BOTTOM:E-=this._textDescent(L)}return{x:T,y:E}},o=a.default,y.default=o},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.prototype.append=function(c,a){return c.push(a),c},o.default.prototype.arrayCopy=function(c,a,s,l,u){var d,n;c=u!==void 0?(n=Math.min(u,c.length),d=l,c.slice(a,n+a)):(n=s!==void 0?(n=s,Math.min(n,c.length)):c.length,s=a,c.slice(d=0,n)),Array.prototype.splice.apply(s,[d,n].concat(c))},o.default.prototype.concat=function(c,a){return c.concat(a)},o.default.prototype.reverse=function(c){return c.reverse()},o.default.prototype.shorten=function(c){return c.pop(),c},o.default.prototype.shuffle=function(c,a){for(var s,l,u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(c),d=(c=a||u?c:c.slice()).length;1<d;)s=this.random(0,1)*d|0,l=c[--d],c[d]=c[s],c[s]=l;return c},o.default.prototype.sort=function(c,l){var s=l?c.slice(0,Math.min(l,c.length)):c,l=l?c.slice(Math.min(l,c.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(u,d){return u-d})).concat(l)},o.default.prototype.splice=function(c,a,s){return Array.prototype.splice.apply(c,[s,0].concat(a)),c},o.default.prototype.subset=function(c,a,s){return s!==void 0?c.slice(a,a+s):c.slice(a,c.length)},o=o.default,y.default=o},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(o,P,y){o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.prototype.float=function(a){return a instanceof Array?a.map(parseFloat):parseFloat(a)},c.default.prototype.int=function(a){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return a===1/0||a==="Infinity"?1/0:a===-1/0||a==="-Infinity"?-1/0:typeof a=="string"?parseInt(a,s):typeof a=="number"?0|a:typeof a=="boolean"?a?1:0:a instanceof Array?a.map(function(l){return c.default.prototype.int(l,s)}):void 0},c.default.prototype.str=function(a){return a instanceof Array?a.map(c.default.prototype.str):String(a)},c.default.prototype.boolean=function(a){return typeof a=="number"?a!==0:typeof a=="string"?a.toLowerCase()==="true":typeof a=="boolean"?a:a instanceof Array?a.map(c.default.prototype.boolean):void 0},c.default.prototype.byte=function(a){return a=c.default.prototype.int(a,10),typeof a=="number"?(a+128)%256-128:a instanceof Array?a.map(c.default.prototype.byte):void 0},c.default.prototype.char=function(a){return typeof a!="number"||isNaN(a)?a instanceof Array?a.map(c.default.prototype.char):typeof a=="string"?c.default.prototype.char(parseInt(a,10)):void 0:String.fromCharCode(a)},c.default.prototype.unchar=function(a){return typeof a=="string"&&a.length===1?a.charCodeAt(0):a instanceof Array?a.map(c.default.prototype.unchar):void 0},c.default.prototype.hex=function(a,s){if(s=s??8,a instanceof Array)return a.map(function(u){return c.default.prototype.hex(u,s)});if(a===1/0||a===-1/0)return(a===1/0?"F":"0").repeat(s);if(typeof a=="number"){a<0&&(a=4294967295+a+1);for(var l=Number(a).toString(16).toUpperCase();l.length<s;)l="0".concat(l);return l=l.length>=s?l.substring(l.length-s,l.length):l}},c.default.prototype.unhex=function(a){return a instanceof Array?a.map(c.default.prototype.unhex):parseInt("0x".concat(a),16)},o=c.default,y.default=o},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(o,P,y){o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(d=o("../core/main"))&&d.__esModule?d:{default:d};function a(f,t,r){var i=f<0,f=i?f.toString().substring(1):f.toString(),h=f.indexOf("."),g=h!==-1?f.substring(0,h):f,v=h!==-1?f.substring(h+1):"",b=i?"-":"";if(r!==void 0){i="",(h!==-1||0<r-v.length)&&(i="."),v.length>r&&(v=v.substring(0,r));for(var m=0;m<t-g.length;m++)b+="0";for(var b=(b+=g)+i+v,w=0;w<r-v.length;w++)b+="0";return b}for(var j=0;j<Math.max(t-g.length,0);j++)b+="0";return b+=f}function s(f,t){var r=(f=f.toString()).indexOf("."),i=r!==-1?f.substring(r):"",f=(f=r!==-1?f.substring(0,r):f).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(t===0)i="";else if(t!==void 0)if(t>i.length)for(var h=t-(i+=r===-1?".":"").length+1,g=0;g<h;g++)i+="0";else i=i.substring(0,t+1);return f+i}function l(n){return 0<parseFloat(n)?"+".concat(n.toString()):n.toString()}function u(n){return 0<=parseFloat(n)?" ".concat(n.toString()):n.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),c.default.prototype.join=function(n,t){return c.default._validateParameters("join",arguments),n.join(t)},c.default.prototype.match=function(n,t){return c.default._validateParameters("match",arguments),n.match(t)},c.default.prototype.matchAll=function(n,t){c.default._validateParameters("matchAll",arguments);for(var r=new RegExp(t,"g"),i=r.exec(n),f=[];i!==null;)f.push(i),i=r.exec(n);return f},c.default.prototype.nf=function(n,t,r){return c.default._validateParameters("nf",arguments),n instanceof Array?n.map(function(i){return a(i,t,r)}):Object.prototype.toString.call(n)==="[object Arguments]"?n.length===3?this.nf(n[0],n[1],n[2]):n.length===2?this.nf(n[0],n[1]):this.nf(n[0]):a(n,t,r)},c.default.prototype.nfc=function(n,t){return c.default._validateParameters("nfc",arguments),n instanceof Array?n.map(function(r){return s(r,t)}):s(n,t)},c.default.prototype.nfp=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];c.default._validateParameters("nfp",t);var i=c.default.prototype.nf.apply(this,t);return i instanceof Array?i.map(l):l(i)},c.default.prototype.nfs=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];c.default._validateParameters("nfs",t);var i=c.default.prototype.nf.apply(this,t);return i instanceof Array?i.map(u):u(i)},c.default.prototype.split=function(n,t){return c.default._validateParameters("split",arguments),n.split(t)},c.default.prototype.splitTokens=function(n,t){var r,i;return c.default._validateParameters("splitTokens",arguments),i=t!==void 0?(i=/\]/g.exec(t=t),(r=/\[/g.exec(t))&&i?(t=t.slice(0,i.index)+t.slice(i.index+1),r=/\[/g.exec(t),t=t.slice(0,r.index)+t.slice(r.index+1),new RegExp("[\\[".concat(t,"\\]]"),"g")):i?(t=t.slice(0,i.index)+t.slice(i.index+1),new RegExp("[".concat(t,"\\]]"),"g")):r?(t=t.slice(0,r.index)+t.slice(r.index+1),new RegExp("[".concat(t,"\\[]"),"g")):new RegExp("[".concat(t,"]"),"g")):/\s/g,n.split(i).filter(function(f){return f})},c.default.prototype.trim=function(n){return c.default._validateParameters("trim",arguments),n instanceof Array?n.map(this.trim):n.trim()};var d=c.default;y.default=d},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.prototype.day=function(){return new Date().getDate()},o.default.prototype.hour=function(){return new Date().getHours()},o.default.prototype.minute=function(){return new Date().getMinutes()},o.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return new Date().getMonth()+1},o.default.prototype.second=function(){return new Date().getSeconds()},o.default.prototype.year=function(){return new Date().getFullYear()},o=o.default,y.default=o},{"../core/main":267}],310:[function(o,P,y){function c(t){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function a(t){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(r){return c(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":c(r)})(t)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(n=o("../core/main"))&&n.__esModule?n:{default:n},l=(o("./p5.Geometry"),function(t){if(t&&t.__esModule)return t;if(t===null||a(t)!=="object"&&typeof t!="function")return{default:t};var r=u();if(r&&r.has(t))return r.get(t);var i,f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var g;Object.prototype.hasOwnProperty.call(t,i)&&((g=h?Object.getOwnPropertyDescriptor(t,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=t[i])}return f.default=t,r&&r.set(t,f),f}(o("../core/constants")));function u(){var t;return typeof WeakMap!="function"?null:(t=new WeakMap,u=function(){return t},t)}s.default.prototype.plane=function(t,r,i,f){this._assert3d("plane"),s.default._validateParameters("plane",arguments),t===void 0&&(t=50),r===void 0&&(r=t),f===void 0&&(f=1);var h,g="plane|".concat(i=i===void 0?1:i,"|").concat(f);return this._renderer.geometryInHash(g)||((h=new s.default.Geometry(i,f,function(){for(var v,b,m=0;m<=this.detailY;m++)for(var w=m/this.detailY,j=0;j<=this.detailX;j++)v=j/this.detailX,b=new s.default.Vector(v-.5,w-.5,0),this.vertices.push(b),this.uvs.push(v,w)})).computeFaces().computeNormals(),i<=1&&f<=1?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(g,h)),this._renderer.drawBuffersScaled(g,t,r,1),this},s.default.prototype.box=function(t,r,i,f,h){this._assert3d("box"),s.default._validateParameters("box",arguments),t===void 0&&(t=50),r===void 0&&(r=t),i===void 0&&(i=r);var g,v=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,v=(h===void 0&&(h=v?1:4),"box|".concat(f=f===void 0?v?1:4:f,"|").concat(h));return this._renderer.geometryInHash(v)||((g=new s.default.Geometry(f,h,function(){var b=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var m=0;m<b.length;m++){for(var w=b[m],j=4*m,S=0;S<4;S++){var T=w[S],T=new s.default.Vector((2*(1&T)-1)/2,((2&T)-1)/2,((4&T)/2-1)/2);this.vertices.push(T),this.uvs.push(1&S,(2&S)/2)}this.faces.push([j,1+j,2+j]),this.faces.push([2+j,1+j,3+j])}})).computeNormals(),f<=4&&h<=4?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(v,g)),this._renderer.drawBuffersScaled(v,t,r,i),this},s.default.prototype.sphere=function(t,r,i){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(t=t===void 0?50:t,t,t,r=r===void 0?24:r,i=i===void 0?16:i),this};function d(t,r,i,f,h,g,v){t=t<=0?1:t,r=r<0?0:r,i=i<=0?t:i,f=f<3?3:f;for(var b,m,w=(g=g===void 0||g)?-2:0,j=(h=h<1?1:h)+((v=v===void 0?r!==0:v)?2:0),S=Math.atan2(t-r,i),T=Math.sin(S),E=Math.cos(S),C=w;C<=j;++C){var L=C/h,k=i*L,D=void 0,D=C<0?(L=k=0,t):h<C?(k=i,L=1,r):t+(r-t)*L;for(C!==-2&&C!==h+2||(D=0),k-=i/2,b=0;b<f;++b){var F=b/(f-1),G=2*Math.PI*F,V=Math.sin(G),G=Math.cos(G),H=(this.vertices.push(new s.default.Vector(V*D,k,G*D)),void 0),H=C<0?new s.default.Vector(0,-1,0):h<C&&r?new s.default.Vector(0,1,0):new s.default.Vector(V*E,T,G*E);this.vertexNormals.push(H),this.uvs.push(F,L)}}var z=0;if(g){for(m=0;m<f;++m)this.faces.push([z+m,z+f+(m+1)%f,z+f+m]);z+=2*f}for(C=0;C<h;++C){for(b=0;b<f;++b){var X=(b+1)%f;this.faces.push([z+b,z+X,z+f+X]),this.faces.push([z+b,z+f+X,z+f+b])}z+=f}if(v)for(z+=f,b=0;b<f;++b)this.faces.push([z+b,z+(b+1)%f,z+f])}s.default.prototype.cylinder=function(t,r,i,f,h,g){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),t===void 0&&(t=50),r===void 0&&(r=t),f===void 0&&(f=1),g===void 0&&(g=!0),h===void 0&&(h=!0);var v,b="cylinder|".concat(i=i===void 0?24:i,"|").concat(f,"|").concat(h,"|").concat(g);return this._renderer.geometryInHash(b)||(v=new s.default.Geometry(i,f),d.call(v,1,1,1,i,f,h,g),i<=24&&f<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,v)),this._renderer.drawBuffersScaled(b,t,r,t),this},s.default.prototype.cone=function(t,r,i,f,h){this._assert3d("cone"),s.default._validateParameters("cone",arguments),t===void 0&&(t=50),r===void 0&&(r=t),f===void 0&&(f=1),h===void 0&&(h=!0);var g,v="cone|".concat(i=i===void 0?24:i,"|").concat(f,"|").concat(h);return this._renderer.geometryInHash(v)||(g=new s.default.Geometry(i,f),d.call(g,1,0,1,i,f,h,!1),i<=24&&f<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,g)),this._renderer.drawBuffersScaled(v,t,r,t),this},s.default.prototype.ellipsoid=function(t,r,i,f,h){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),t===void 0&&(t=50),r===void 0&&(r=t),i===void 0&&(i=t),h===void 0&&(h=16);var g,v="ellipsoid|".concat(f=f===void 0?24:f,"|").concat(h);return this._renderer.geometryInHash(v)||((g=new s.default.Geometry(f,h,function(){for(var b=0;b<=this.detailY;b++)for(var m=b/this.detailY,w=Math.PI*m-Math.PI/2,j=Math.cos(w),S=Math.sin(w),T=0;T<=this.detailX;T++){var E=T/this.detailX,L=2*Math.PI*E,C=Math.cos(L),L=Math.sin(L),L=new s.default.Vector(j*L,S,j*C);this.vertices.push(L),this.vertexNormals.push(L),this.uvs.push(E,m)}})).computeFaces(),f<=24&&h<=24?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(v,g)),this._renderer.drawBuffersScaled(v,t,r,i),this},s.default.prototype.torus=function(t,v,i,f){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),t===void 0)t=50;else if(!t)return;if(v===void 0)v=10;else if(!v)return;i===void 0&&(i=24),f===void 0&&(f=16);var h,g=(v/t).toPrecision(4),v="torus|".concat(g,"|").concat(i,"|").concat(f);return this._renderer.geometryInHash(v)||((h=new s.default.Geometry(i,f,function(){for(var b=0;b<=this.detailY;b++)for(var m=b/this.detailY,w=2*Math.PI*m,j=Math.cos(w),S=Math.sin(w),T=1+g*j,E=0;E<=this.detailX;E++){var C=E/this.detailX,L=2*Math.PI*C,D=Math.cos(L),L=Math.sin(L),k=new s.default.Vector(T*D,T*L,g*S),D=new s.default.Vector(j*D,j*L,S);this.vertices.push(k),this.vertexNormals.push(D),this.uvs.push(C,m)}})).computeFaces(),i<=24&&f<=16?h._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,h)),this._renderer.drawBuffersScaled(v,t,t,t),this},s.default.RendererGL.prototype.point=function(t,r,i){var f=[];return f.push(new s.default.Vector(t,r,i=i===void 0?0:i)),this._drawPoints(f,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(v){var r=v[0],i=v[1],f=v[2],h=v[3],g=v[4],v=v[5],b=(this.geometryInHash("tri")||((b=new s.default.Geometry(1,1,function(){var w=[];w.push(new s.default.Vector(0,0,0)),w.push(new s.default.Vector(1,0,0)),w.push(new s.default.Vector(0,1,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=w,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._makeTriangleEdges()._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var m=new s.default.Matrix([f-r,h-i,0,0,g-r,v-i,0,0,0,0,1,0,r,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=m,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},s.default.RendererGL.prototype.ellipse=function(t){this.arc(t[0],t[1],t[2],t[3],0,l.TWO_PI,l.OPEN,t[4])},s.default.RendererGL.prototype.arc=function(t){var r,i=arguments[1],f=arguments[2],h=arguments[3],g=arguments[4],v=arguments[5],b=arguments[6],m=arguments[7]||25,w=(Math.abs(v-g)>=l.TWO_PI?"".concat(j="ellipse","|"):"".concat(j="arc","|").concat(g,"|").concat(v,"|").concat(b,"|")).concat(m,"|"),j=(this.geometryInHash(w)||((r=new s.default.Geometry(m,1,function(){if(this.strokeIndices=[],g.toFixed(10)!==v.toFixed(10)){b!==l.PIE&&b!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var S=0;S<=m;S++){var E=(v-g)*(S/m)+g,T=.5+Math.cos(E)/2,E=.5+Math.sin(E)/2;this.vertices.push(new s.default.Vector(T,E,0)),this.uvs.push([T,E]),S<m-1&&(this.faces.push([0,S+1,S+2]),this.strokeIndices.push([S+1,S+2]))}switch(b){case l.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case l.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case l.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),m<=50?r._makeTriangleEdges()._edgesToVertices(r):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(j," with more than 50 detail")),this.createBuffers(w,r)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([t,i,0]),this.uMVMatrix.scale(f,h,1),this.drawBuffers(w)}finally{this.uMVMatrix=j}return this},s.default.RendererGL.prototype.rect=function(t){var r=t[0],i=t[1],f=t[2],h=t[3];if(t[4]===void 0){var b=this._pInst._glAttributes.perPixelLighting,g=t[4]||(b?1:24),v=t[5]||(b?1:16),b="rect|".concat(g,"|").concat(v),m=(this.geometryInHash(b)||((m=new s.default.Geometry(g,v,function(){for(var H=0;H<=this.detailY;H++)for(var z=H/this.detailY,X=0;X<=this.detailX;X++){var Y=X/this.detailX,ee=new s.default.Vector(Y,z,0);this.vertices.push(ee),this.uvs.push(Y,z)}0<g&&0<v&&(this.strokeIndices=[[0,g],[g,(g+1)*(v+1)-1],[(g+1)*(v+1)-1,(g+1)*v],[(g+1)*v,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(b,m)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([r,i,0]),this.uMVMatrix.scale(f,h,1),this.drawBuffers(b)}finally{this.uMVMatrix=m}}else{var b=t[4],m=t[5]===void 0?b:t[5],w=t[6]===void 0?m:t[6],t=t[7]===void 0?w:t[7],L=f,j=h,E=((L+=r)<r&&(E=r,r=L,L=E),(j+=i)<i&&(E=i,i=j,j=E),Math.min((L-r)/2,(j-i)/2)),S=(E<b&&(b=E),E<m&&(m=E),E<w&&(w=E),E<t&&(t=E),r),T=i,E=L,r=j,C=(this.beginShape(),m!==0?(this.vertex(E-m,T),this.quadraticVertex(E,T,E,T+m)):this.vertex(E,T),w!==0?(this.vertex(E,r-w),this.quadraticVertex(E,r,E-w,r)):this.vertex(E,r),t!==0?(this.vertex(S+t,r),this.quadraticVertex(S,r,S,r-t)):this.vertex(S,r),b!==0?(this.vertex(S,T+b),this.quadraticVertex(S,T,S+b,T)):this.vertex(S,T),!(this.immediateMode.geometry.uvs.length=0)),i=!1,L=void 0;try{for(var k,D=this.immediateMode.geometry.vertices[Symbol.iterator]();!(C=(k=D.next()).done);C=!0){var F=k.value,V=(F.x-S)/f,G=(F.y-T)/h;this.immediateMode.geometry.uvs.push(V,G)}}catch(O){i=!0,L=O}finally{try{C||D.return==null||D.return()}finally{if(i)throw L}}this.endShape(l.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(t,r,i,f,h,g,v,b,m,w,j,S,T,E){T===void 0&&(T=2),E===void 0&&(E=2);var C="quad|".concat(t,"|").concat(r,"|").concat(i,"|").concat(f,"|").concat(h,"|").concat(g,"|").concat(v,"|").concat(b,"|").concat(m,"|").concat(w,"|").concat(j,"|").concat(S,"|").concat(T,"|").concat(E);if(!this.geometryInHash(C)){var L=new s.default.Geometry(T,E,function(){for(var H=1/(this.detailX-1),z=1/(this.detailY-1),X=0;X<this.detailY;X++)for(var Y=0;Y<this.detailX;Y++){var ee=Y*H,O=X*z;this.vertices.push(new s.default.Vector((1-ee)*((1-O)*t+O*w)+ee*((1-O)*f+O*v),(1-ee)*((1-O)*r+O*j)+ee*((1-O)*h+O*b),(1-ee)*((1-O)*i+O*S)+ee*((1-O)*g+O*m))),this.uvs.push([ee,O])}});L.faces=[];for(var k=0;k<E-1;k++)for(var D=0;D<T-1;D++){var F=D+k*T,V=D+1+(k+1)*T,G=D+(k+1)*T;L.faces.push([F,D+1+k*T,V]),L.faces.push([F,V,G])}L.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(C,L)}return this.drawBuffers(C),this},s.default.RendererGL.prototype.bezier=function(t,r,i,f,h,g,v,b,m,w,j,S){arguments.length===8&&(j=b,w=v,b=g,v=h,h=f,f=i,i=g=m=S=0);var T=this._pInst._bezierDetail||20;this.beginShape();for(var E=0;E<=T;E++){var C=Math.pow(1-E/T,3),L=E/T*3*Math.pow(1-E/T,2),k=3*Math.pow(E/T,2)*(1-E/T),D=Math.pow(E/T,3);this.vertex(t*C+f*L+v*k+w*D,r*C+h*L+b*k+j*D,i*C+g*L+m*k+S*D)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(t,r,i,f,h,g,v,b,m,w,j,S){arguments.length===8&&(w=v,j=b,v=h,b=f,h=f=i,i=g=m=S=0);var T=this._pInst._curveDetail;this.beginShape();for(var E=0;E<=T;E++){var C=.5*Math.pow(E/T,3),L=.5*Math.pow(E/T,2),k=E/T*.5;this.vertex(C*(3*f-t-3*v+w)+L*(2*t-5*f+4*v-w)+k*(-t+v)+2*f*.5,C*(3*h-r-3*b+j)+L*(2*r-5*h+4*b-j)+k*(-r+b)+2*h*.5,C*(3*g-i-3*m+S)+L*(2*i-5*g+4*m-S)+k*(-i+m)+2*g*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(l.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(l.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var t,r,i,f,h,g,v=[],b=[],m=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var w=1/this._lutBezierDetail,j=0,S=1,T=0;j<1;){if(g=parseFloat(j.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(g),S.toFixed(6)===w.toFixed(6)){g=parseFloat(S.toFixed(6))+parseFloat(j.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(g);break}j+=w,S-=w,++T}}for(var E=this._lookUpTableBezier.length,C=[],L=0;L<4;L++)C.push([]);C[0]=this.immediateMode.geometry.vertexColors.slice(-4),C[3]=this.curFillColor.slice();var k=[];for(L=0;L<4;L++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[3]=this.curStrokeColor.slice(),m===6){this.isBezier=!0;var v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],D=Math.hypot(v[0]-v[1],b[0]-b[1]),V=Math.hypot(v[1]-v[2],b[1]-b[2]),F=Math.hypot(v[2]-v[3],b[2]-b[3]),V=D+V+F;for(D/=V,F/=V,h=0;h<4;h++)C[1].push(C[0][h]*(1-D)+C[3][h]*D),C[2].push(C[0][h]*F+C[3][h]*(1-F)),k[1].push(k[0][h]*(1-D)+k[3][h]*D),k[2].push(k[0][h]*F+k[3][h]*(1-F));for(f=0;f<E;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=t=r=0;L<4;L++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[f][L]*C[L][h],this.curStrokeColor[h]+=this._lookUpTableBezier[f][L]*k[L][h];t+=v[L]*this._lookUpTableBezier[f][L],r+=b[L]*this._lookUpTableBezier[f][L]}this.vertex(t,r)}this.curFillColor=C[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(m===9){this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var G=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(v[0]-v[1],b[0]-b[1],G[0]-G[1]),V=Math.hypot(v[1]-v[2],b[1]-b[2],G[1]-G[2]),z=Math.hypot(v[2]-v[3],b[2]-b[3],G[2]-G[3]),m=H+V+z;for(H/=m,z/=m,h=0;h<4;h++)C[1].push(C[0][h]*(1-H)+C[3][h]*H),C[2].push(C[0][h]*z+C[3][h]*(1-z)),k[1].push(k[0][h]*(1-H)+k[3][h]*H),k[2].push(k[0][h]*z+k[3][h]*(1-z));for(f=0;f<E;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=t=r=i=0;L<4;L++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableBezier[f][L]*C[L][h],this.curStrokeColor[h]+=this._lookUpTableBezier[f][L]*k[L][h];t+=v[L]*this._lookUpTableBezier[f][L],r+=b[L]*this._lookUpTableBezier[f][L],i+=G[L]*this._lookUpTableBezier[f][L]}this.vertex(t,r,i)}this.curFillColor=C[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var t,r,i,f,h,g,v=[],b=[],m=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var w=1/this._lutQuadraticDetail,j=0,S=1,T=0;j<1;){if(g=parseFloat(j.toFixed(6)),this._lookUpTableQuadratic[T]=this._quadraticCoefficients(g),S.toFixed(6)===w.toFixed(6)){g=parseFloat(S.toFixed(6))+parseFloat(j.toFixed(6)),++T,this._lookUpTableQuadratic[T]=this._quadraticCoefficients(g);break}j+=w,S-=w,++T}}for(var E=this._lookUpTableQuadratic.length,C=[],L=0;L<3;L++)C.push([]);C[0]=this.immediateMode.geometry.vertexColors.slice(-4),C[2]=this.curFillColor.slice();var k=[];for(L=0;L<3;L++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[2]=this.curStrokeColor.slice(),m===4){this.isQuadratic=!0;var v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],D=Math.hypot(v[0]-v[1],b[0]-b[1]);for(D/=D+Math.hypot(v[1]-v[2],b[1]-b[2]),h=0;h<4;h++)C[1].push(C[0][h]*(1-D)+C[2][h]*D),k[1].push(k[0][h]*(1-D)+k[2][h]*D);for(f=0;f<E;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=t=r=0;L<3;L++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[f][L]*C[L][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[f][L]*k[L][h];t+=v[L]*this._lookUpTableQuadratic[f][L],r+=b[L]*this._lookUpTableQuadratic[f][L]}this.vertex(t,r)}this.curFillColor=C[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(m===6){this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var F=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(v[0]-v[1],b[0]-b[1],F[0]-F[1]);for(V/=V+Math.hypot(v[1]-v[2],b[1]-b[2],F[1]-F[2]),h=0;h<4;h++)C[1].push(C[0][h]*(1-V)+C[2][h]*V),k[1].push(k[0][h]*(1-V)+k[2][h]*V);for(f=0;f<E;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=t=r=i=0;L<3;L++){for(h=0;h<4;h++)this.curFillColor[h]+=this._lookUpTableQuadratic[f][L]*C[L][h],this.curStrokeColor[h]+=this._lookUpTableQuadratic[f][L]*k[L][h];t+=v[L]*this._lookUpTableQuadratic[f][L],r+=b[L]*this._lookUpTableQuadratic[f][L],i+=F[L]*this._lookUpTableQuadratic[f][L]}this.vertex(t,r,i)}this.curFillColor=C[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var t,r,i,f,h,g,v=[],b=[],m=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var w=1/this._lutBezierDetail,j=0,S=1,T=0;j<1;){if(g=parseFloat(j.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(g),S.toFixed(6)===w.toFixed(6)){g=parseFloat(S.toFixed(6))+parseFloat(j.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(g);break}j+=w,S-=w,++T}}var E=this._lookUpTableBezier.length;if(m===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),h=0;h<E;h++)r=v[0]*this._lookUpTableBezier[h][0]+v[1]*this._lookUpTableBezier[h][1]+v[2]*this._lookUpTableBezier[h][2]+v[3]*this._lookUpTableBezier[h][3],i=b[0]*this._lookUpTableBezier[h][0]+b[1]*this._lookUpTableBezier[h][1]+b[2]*this._lookUpTableBezier[h][2]+b[3]*this._lookUpTableBezier[h][3],this.vertex(r,i);for(h=0;h<m;h++)this.immediateMode._curveVertex.shift()}}else if(m===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),t=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),h=0;h<E;h++)r=v[0]*this._lookUpTableBezier[h][0]+v[1]*this._lookUpTableBezier[h][1]+v[2]*this._lookUpTableBezier[h][2]+v[3]*this._lookUpTableBezier[h][3],i=b[0]*this._lookUpTableBezier[h][0]+b[1]*this._lookUpTableBezier[h][1]+b[2]*this._lookUpTableBezier[h][2]+b[3]*this._lookUpTableBezier[h][3],f=t[0]*this._lookUpTableBezier[h][0]+t[1]*this._lookUpTableBezier[h][1]+t[2]*this._lookUpTableBezier[h][2]+t[3]*this._lookUpTableBezier[h][3],this.vertex(r,i,f);for(h=0;h<m;h++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(t,S,i,T,h,g,v,b,m){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(t),this._pInst.textureMode(l.NORMAL);var w=0,j=(S<=t.width&&(w=S/t.width),1),S=(S+T<=t.width&&(j=(S+T)/t.width),0),T=(i<=t.height&&(S=i/t.height),1);i+h<=t.height&&(T=(i+h)/t.height),this.beginShape(),this.vertex(g,v,0,w,S),this.vertex(g+b,v,0,j,S),this.vertex(g+b,v+m,0,j,T),this.vertex(g,v+m,0,w,T),this.endShape(l.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(l.REMOVE)};var n=s.default;y.default=n},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}s.default.prototype.orbitControl=function(n,t,r){var i,f;if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return i=this._renderer._curCamera,n===void 0&&(n=1),t===void 0&&(t=n),r===void 0&&(r=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),f=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,r*f):this._renderer._curCamera._orbit(0,0,-r*f)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(r=-n*(this.mouseX-this.pmouseX)/f,f=t*(this.mouseY-this.pmouseY)/f,this._renderer._curCamera._orbit(r,f,0)):this.mouseButton===this.RIGHT&&(r=i._getLocalAxes(),(f=Math.sqrt(r.x[0]*r.x[0]+r.x[2]*r.x[2]))!==0&&(r.x[0]/=f,r.x[2]/=f),(f=Math.sqrt(r.y[0]*r.y[0]+r.y[2]*r.y[2]))!==0&&(r.y[0]/=f,r.y[2]/=f),f=-1*n*(this.mouseX-this.pmouseX),n=-1*t*(this.mouseY-this.pmouseY),i.setPosition(i.eyeX+f*r.x[0]+n*r.z[0],i.eyeY,i.eyeZ+f*r.x[2]+n*r.z[2]))),this},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];s.default._validateParameters("debugMode",t);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);t[0]===l.GRID?this.registerMethod("post",this._grid.call(this,t[1],t[2],t[3],t[4],t[5])):t[0]===l.AXES?this.registerMethod("post",this._axesIcon.call(this,t[1],t[2],t[3],t[4])):(this.registerMethod("post",this._grid.call(this,t[0],t[1],t[2],t[3],t[4])),this.registerMethod("post",this._axesIcon.call(this,t[5],t[6],t[7],t[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},s.default.prototype._grid=function(n,t,r,i,f){n===void 0&&(n=this.width/2),t===void 0&&(t=Math.round(n/30)<4?4:Math.round(n/30)),r===void 0&&(r=0),i===void 0&&(i=0),f===void 0&&(f=0);var h=n/t,g=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var v=0;v<=t;v++)this.beginShape(this.LINES),this.vertex(-g+r,i,v*h-g+f),this.vertex(g+r,i,v*h-g+f),this.endShape();for(var b=0;b<=t;b++)this.beginShape(this.LINES),this.vertex(b*h-g+r,i,-g+f),this.vertex(b*h-g+r,i,g+f),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(n,t,r,i){return n===void 0&&(n=40<this.width/20?this.width/20:40),t===void 0&&(t=-this.width/4),r===void 0&&(r=t),i===void 0&&(i=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,r,i),this.vertex(t+n,r,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,r,i),this.vertex(t,r+n,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,r,i),this.vertex(t,r,i+n),this.endShape(),this.pop()}};var d=s.default;y.default=d},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}s.default.prototype.ambientLight=function(n,t,r,i){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var f=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(f._array[0],f._array[1],f._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(n,t,r){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var i=this.color.apply(this,arguments);return this._renderer.specularColors=[i._array[0],i._array[1],i._array[2]],this},s.default.prototype.directionalLight=function(n,m,b,i,f,h){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),n=n instanceof s.default.Color?n:this.color(n,m,b);var g,v,m=arguments[arguments.length-1],b=typeof m=="number"?(g=arguments[arguments.length-3],v=arguments[arguments.length-2],arguments[arguments.length-1]):(g=m.x,v=m.y,m.z),m=Math.sqrt(g*g+v*v+b*b);return this._renderer.directionalLightDirections.push(g/m,v/m,b/m),this._renderer.directionalLightDiffuseColors.push(n._array[0],n._array[1],n._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(n,b,m,i,f,h){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),n=n instanceof s.default.Color?n:this.color(n,b,m);var g,v,b=arguments[arguments.length-1],m=typeof b=="number"?(g=arguments[arguments.length-3],v=arguments[arguments.length-2],arguments[arguments.length-1]):(g=b.x,v=b.y,b.z);return this._renderer.pointLightPositions.push(g,v,m),this._renderer.pointLightDiffuseColors.push(n._array[0],n._array[1],n._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){var n;return this._assert3d("lights"),this._colorMode===l.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(n=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,n),this.directionalLight(0,0,n,0,0,-1)),this},s.default.prototype.lightFalloff=function(n,t,r){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),n<0&&(n=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),t<0&&(t=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),n===0&&t===0&&r===0&&(n=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=n,this._renderer.linearAttenuation=t,this._renderer.quadraticAttenuation=r,this},s.default.prototype.spotLight=function(n,t,r,i,f,h,g,v,b,m,w){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var j,S,T,E=arguments.length;switch(E){case 11:case 10:j=this.color(n,t,r),S=new s.default.Vector(i,f,h),T=new s.default.Vector(g,v,b);break;case 9:n instanceof s.default.Color?(j=n,S=new s.default.Vector(t,r,i),T=new s.default.Vector(f,h,g),m=v,w=b):i instanceof s.default.Vector?(j=this.color(n,t,r),S=i,T=new s.default.Vector(f,h,g),m=v,w=b):g instanceof s.default.Vector?(j=this.color(n,t,r),S=new s.default.Vector(i,f,h),T=g,m=v,w=b):(j=this.color(n,t,r),S=new s.default.Vector(i,f,h),T=new s.default.Vector(g,v,b));break;case 8:m=(T=n instanceof s.default.Color?(j=n,S=new s.default.Vector(t,r,i),new s.default.Vector(f,h,g)):i instanceof s.default.Vector?(j=this.color(n,t,r),S=i,new s.default.Vector(f,h,g)):(j=this.color(n,t,r),S=new s.default.Vector(i,f,h),g),v);break;case 7:n instanceof s.default.Color&&t instanceof s.default.Vector?(j=n,S=t,T=new s.default.Vector(r,i,f),m=h,w=g):n instanceof s.default.Color&&f instanceof s.default.Vector?(j=n,S=new s.default.Vector(t,r,i),T=f,m=h,w=g):i instanceof s.default.Vector&&f instanceof s.default.Vector?(j=this.color(n,t,r),S=i,T=f,m=h,w=g):T=n instanceof s.default.Color?(j=n,S=new s.default.Vector(t,r,i),new s.default.Vector(f,h,g)):i instanceof s.default.Vector?(j=this.color(n,t,r),S=i,new s.default.Vector(f,h,g)):(j=this.color(n,t,r),S=new s.default.Vector(i,f,h),g);break;case 6:i instanceof s.default.Vector&&f instanceof s.default.Vector?(j=this.color(n,t,r),S=i,T=f,m=h):n instanceof s.default.Color&&f instanceof s.default.Vector?(j=n,S=new s.default.Vector(t,r,i),T=f,m=h):n instanceof s.default.Color&&t instanceof s.default.Vector&&(j=n,S=t,T=new s.default.Vector(r,i,f),m=h);break;case 5:n instanceof s.default.Color&&t instanceof s.default.Vector&&r instanceof s.default.Vector?(j=n,S=t,T=r,m=i,w=f):i instanceof s.default.Vector&&f instanceof s.default.Vector?(j=this.color(n,t,r),S=i,T=f):n instanceof s.default.Color&&f instanceof s.default.Vector?(j=n,S=new s.default.Vector(t,r,i),T=f):n instanceof s.default.Color&&t instanceof s.default.Vector&&(j=n,S=t,T=new s.default.Vector(r,i,f));break;case 4:j=n,S=t,T=r,m=i;break;case 3:j=n,S=t,T=r;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(E<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(j._array[0],j._array[1],j._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(S.x,S.y,S.z),T.normalize(),this._renderer.spotLightDirections.push(T.x,T.y,T.z),m===void 0&&(m=Math.PI/3),w!==void 0&&w<1?(w=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):w===void 0&&(w=100),m=this._renderer._pInst._toRadians(m),this._renderer.spotLightAngle.push(Math.cos(m)),this._renderer.spotLightConc.push(w),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var d=s.default;y.default=d},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(o,P,y){o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(a=o("../core/main"))&&a.__esModule?a:{default:a};o("./p5.Geometry"),c.default.prototype.loadModel=function(s){c.default._validateParameters("loadModel",arguments);var l,u,d,n=s.slice(-4),t=(typeof arguments[1]=="boolean"?(l=arguments[1],u=arguments[2],d=arguments[3],arguments[4]!==void 0&&(n=arguments[4])):(l=!1,u=arguments[1],d=arguments[2],arguments[3]!==void 0&&(n=arguments[3])),new c.default.Geometry),r=(t.gid="".concat(s,"|").concat(l),this);return n.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(i){(function(f,h){if(function(g){for(var v=new DataView(g),b=[115,111,108,105,100],m=0;m<5;m++)if(function(w,j,S){for(var T=0,E=w.length;T<E;T++)if(w[T]!==j.getUint8(S+T,!1))return;return 1}(b,v,m))return;return 1}(h))(function(g,v){for(var b,m,w,j,S,T,E,C=new DataView(v),L=C.getUint32(80,!0),k=!1,D=0;D<70;D++)C.getUint32(D,!1)===1129270351&&C.getUint8(D+4)===82&&C.getUint8(D+5)===61&&(k=!0,j=[],S=C.getUint8(D+6)/255,T=C.getUint8(D+7)/255,E=C.getUint8(D+8)/255);for(var F=0;F<L;F++){for(var V,G=84+50*F,H=C.getFloat32(G,!0),z=C.getFloat32(4+G,!0),X=C.getFloat32(8+G,!0),Y=(k&&(V=C.getUint16(48+G,!0),w=32768&V?(b=S,m=T,E):(b=(31&V)/31,m=(V>>5&31)/31,(V>>10&31)/31)),new c.default.Vector(H,z,X)),ee=1;ee<=3;ee++){var O=G+12*ee,O=new c.default.Vector(C.getFloat32(O,!0),C.getFloat32(4+O,!0),C.getFloat32(8+O,!0));g.vertices.push(O),g.vertexNormals.push(Y),k&&j.push(b,m,w)}g.faces.push([3*F,3*F+1,3*F+2]),g.uvs.push([0,0],[0,0],[0,0])}})(f,h);else{if(h=new DataView(h),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");h=new TextDecoder("utf-8").decode(h).split(`
`),function(g,v){for(var b,m,w="",j=[],S=0;S<v.length;++S){for(var T=v[S].trim(),E=T.split(" "),C=0;C<E.length;++C)E[C]===""&&E.splice(C,1);if(E.length!==0)switch(w){case"":if(E[0]!=="solid")return console.error(T),console.error('Invalid state "'.concat(E[0],'", should be "solid"'));w="solid";break;case"solid":if(E[0]!=="facet"||E[1]!=="normal")return console.error(T),console.error('Invalid state "'.concat(E[0],'", should be "facet normal"'));b=new c.default.Vector(parseFloat(E[2]),parseFloat(E[3]),parseFloat(E[4])),g.vertexNormals.push(b,b,b),w="facet normal";break;case"facet normal":if(E[0]!=="outer"||E[1]!=="loop")return console.error(T),console.error('Invalid state "'.concat(E[0],'", should be "outer loop"'));w="vertex";break;case"vertex":if(E[0]==="vertex")m=new c.default.Vector(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])),g.vertices.push(m),g.uvs.push([0,0]),j.push(g.vertices.indexOf(m));else{if(E[0]!=="endloop")return console.error(T),console.error('Invalid state "'.concat(E[0],'", should be "vertex" or "endloop"'));g.faces.push(j),j=[],w="endloop"}break;case"endloop":if(E[0]!=="endfacet")return console.error(T),console.error('Invalid state "'.concat(E[0],'", should be "endfacet"'));w="endfacet";break;case"endfacet":if(E[0]!=="endsolid"){if(E[0]!=="facet"||E[1]!=="normal")return console.error(T),console.error('Invalid state "'.concat(E[0],'", should be "endsolid" or "facet normal"'));b=new c.default.Vector(parseFloat(E[2]),parseFloat(E[3]),parseFloat(E[4])),g.vertexNormals.push(b,b,b),w="facet normal"}break;default:console.error('Invalid state "'.concat(w,'"'))}}}(f,h)}})(t,i),l&&t.normalize(),r._decrementPreload(),typeof u=="function"&&u(t)},d):n.match(/\.obj$/i)?this.loadStrings(s,function(i){for(var f=t,h=i,g={v:[],vt:[],vn:[]},v={},b=0;b<h.length;++b){var m=h[b].trim().split(/\b\s+/);if(0<m.length){if(m[0]==="v"||m[0]==="vn"){var w=new c.default.Vector(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));g[m[0]].push(w)}else if(m[0]==="vt")w=[parseFloat(m[1]),1-parseFloat(m[2])],g[m[0]].push(w);else if(m[0]==="f")for(var j=3;j<m.length;++j){for(var S=[],T=[1,j-1,j],E=0;E<T.length;++E){var C=m[T[E]],L=0;if(v[C]!==void 0)L=v[C];else{for(var k=C.split("/"),D=0;D<k.length;D++)k[D]=parseInt(k[D])-1;L=v[C]=f.vertices.length,f.vertices.push(g.v[k[0]].copy()),g.vt[k[1]]?f.uvs.push(g.vt[k[1]].slice()):f.uvs.push([0,0]),g.vn[k[2]]&&f.vertexNormals.push(g.vn[k[2]].copy())}S.push(L)}S[0]!==S[1]&&S[0]!==S[2]&&S[1]!==S[2]&&f.faces.push(S)}}}f.vertexNormals.length===0&&f.computeNormals(),l&&t.normalize(),r._decrementPreload(),typeof u=="function"&&u(t)},d):(c.default._friendlyFileLoadError(3,s),d?d():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),t},c.default.prototype.model=function(s){this._assert3d("model"),c.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var a=c.default;y.default=a},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.join"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}o("./p5.Texture"),s.default.prototype.loadShader=function(n,t,r,i){s.default._validateParameters("loadShader",arguments),i=i||console.error;function f(){g._decrementPreload(),r&&r(h)}var h=new s.default.Shader,g=this,v=!1,b=!1;return this.loadStrings(n,function(m){h._vertSrc=m.join(`
`),b=!0,v&&f()},i),this.loadStrings(t,function(m){h._fragSrc=m.join(`
`),v=!0,b&&f()},i),h},s.default.prototype.createShader=function(n,t){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,n,t)},s.default.prototype.shader=function(n){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),n._renderer===void 0&&(n._renderer=this._renderer),n.init(),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(n){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=l.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(n){n!==l.IMAGE&&n!==l.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},s.default.prototype.textureWrap=function(n){for(var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,r=(this._renderer.textureWrapX=n,this._renderer.textureWrapY=t,this._renderer.textures),i=0;i<r.length;i++)r[i].setWrapMode(n,t)},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return s.default._validateParameters("normalMaterial",t),this._renderer.drawMode=l.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(n,t,r){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var i=s.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=i._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(n,t,r,i){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var f=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=f._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(n,t,r,i){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var f=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=f._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(n){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=n=n<1?1:n,this},s.default.RendererGL.prototype._applyColorBlend=function(n){var t=this.GL,r=this.drawMode===l.TEXTURE,r=this.userFillShader||this.userStrokeShader||this.userPointShader||r||this.curBlendMode!==l.BLEND||n[n.length-1]<1||this._isErasing;return r!==this._isBlending&&(r||this.curBlendMode!==l.BLEND&&this.curBlendMode!==l.ADD?t.enable(t.BLEND):t.disable(t.BLEND),t.depthMask(!0),this._isBlending=r),this._applyBlendMode(),n},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case l.BLEND:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case l.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE);break;case l.REMOVE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_ALPHA);break;case l.MULTIPLY:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA);break;case l.SCREEN:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_COLOR);break;case l.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case l.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case l.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case l.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case l.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var d=s.default;y.default=d},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(o,P,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.prototype.camera=function(){var a;this._assert3d("camera");for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return c.default._validateParameters("camera",l),(a=this._renderer._curCamera).camera.apply(a,l),this},c.default.prototype.perspective=function(){var a;this._assert3d("perspective");for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return c.default._validateParameters("perspective",l),(a=this._renderer._curCamera).perspective.apply(a,l),this},c.default.prototype.ortho=function(){var a;this._assert3d("ortho");for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return c.default._validateParameters("ortho",l),(a=this._renderer._curCamera).ortho.apply(a,l),this},c.default.prototype.frustum=function(){var a;this._assert3d("frustum");for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return c.default._validateParameters("frustum",l),(a=this._renderer._curCamera).frustum.apply(a,l),this},c.default.prototype.createCamera=function(){this._assert3d("createCamera");var a=new c.default.Camera(this._renderer);return a._computeCameraDefaultSettings(),a._setDefaultCamera(),this._renderer._curCamera=a},c.default.Camera=function(a){this._renderer=a,this.cameraType="default",this.cameraMatrix=new c.default.Matrix,this.projMatrix=new c.default.Matrix},c.default.Camera.prototype.perspective=function(d,s,l,u){this.cameraType=0<arguments.length?"custom":"default",d===void 0?(d=this.defaultCameraFOV,this.cameraFOV=d):this.cameraFOV=this._renderer._pInst._toRadians(d),s===void 0&&(s=this.defaultAspectRatio),l===void 0&&(l=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),l<=1e-4&&(l=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<l&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=l,this.cameraFar=u,this.projMatrix=c.default.Matrix.identity();var d=1/Math.tan(this.cameraFOV/2),n=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(d/s,0,0,0,0,-d,0,0,0,0,(u+l)*n,-1,0,0,2*u*l*n,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},c.default.Camera.prototype.ortho=function(v,g,l,u,d,n){v===void 0&&(v=-this._renderer.width/2),g===void 0&&(g=+this._renderer.width/2),l===void 0&&(l=-this._renderer.height/2),d===void 0&&(d=0);var b=g-v,t=(u=u===void 0?+this._renderer.height/2:u)-l,r=(n=n===void 0?Math.max(this._renderer.width,this._renderer.height):n)-d,i=2/b,f=2/t,h=-2/r,g=-(g+v)/b,v=-(u+l)/t,b=-(n+d)/r;this.projMatrix=c.default.Matrix.identity(),this.projMatrix.set(i,0,0,0,0,-f,0,0,0,0,h,0,g,v,b,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},c.default.Camera.prototype.frustum=function(v,g,l,u,d,n){v===void 0&&(v=-this._renderer.width/2),g===void 0&&(g=+this._renderer.width/2),l===void 0&&(l=-this._renderer.height/2),d===void 0&&(d=0);var b=g-v,t=(u=u===void 0?+this._renderer.height/2:u)-l,r=(n=n===void 0?Math.max(this._renderer.width,this._renderer.height):n)-d,i=2*d/b,f=2*d/t,h=-2*n*d/r,g=(g+v)/b,v=(u+l)/t,b=-(n+d)/r;this.projMatrix=c.default.Matrix.identity(),this.projMatrix.set(i,0,0,0,0,f,0,0,g,v,b,-1,0,0,h,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},c.default.Camera.prototype._rotateView=function(i,s,l,u){var d=this.centerX,n=this.centerY,t=this.centerZ,r=(d-=this.eyeX,n-=this.eyeY,t-=this.eyeZ,c.default.Matrix.identity(this._renderer._pInst)),i=(r.rotate(this._renderer._pInst._toRadians(i),s,l,u),[d*r.mat4[0]+n*r.mat4[4]+t*r.mat4[8],d*r.mat4[1]+n*r.mat4[5]+t*r.mat4[9],d*r.mat4[2]+n*r.mat4[6]+t*r.mat4[10]]);i[0]+=this.eyeX,i[1]+=this.eyeY,i[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,i[0],i[1],i[2],this.upX,this.upY,this.upZ)},c.default.Camera.prototype.pan=function(a){var s=this._getLocalAxes();this._rotateView(a,s.y[0],s.y[1],s.y[2])},c.default.Camera.prototype.tilt=function(a){var s=this._getLocalAxes();this._rotateView(a,s.x[0],s.x[1],s.x[2])},c.default.Camera.prototype.lookAt=function(a,s,l){this.camera(this.eyeX,this.eyeY,this.eyeZ,a,s,l,this.upX,this.upY,this.upZ)},c.default.Camera.prototype.camera=function(a,s,l,u,d,n,t,r,i){return a===void 0&&(a=this.defaultEyeX,s=this.defaultEyeY,l=this.defaultEyeZ,u=a,d=s,r=1,i=t=n=0),this.eyeX=a,this.eyeY=s,this.eyeZ=l,u!==void 0&&(this.centerX=u,this.centerY=d,this.centerZ=n),t!==void 0&&(this.upX=t,this.upY=r,this.upZ=i),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),d=-a,this.cameraMatrix.translate([d,-s,-l]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},c.default.Camera.prototype.move=function(u,d,l){var n=this._getLocalAxes(),u=[n.x[0]*u,n.x[1]*u,n.x[2]*u],d=[n.y[0]*d,n.y[1]*d,n.y[2]*d],n=[n.z[0]*l,n.z[1]*l,n.z[2]*l];this.camera(this.eyeX+u[0]+d[0]+n[0],this.eyeY+u[1]+d[1]+n[1],this.eyeZ+u[2]+d[2]+n[2],this.centerX+u[0]+d[0]+n[0],this.centerY+u[1]+d[1]+n[1],this.centerZ+u[2]+d[2]+n[2],this.upX,this.upY,this.upZ)},c.default.Camera.prototype.setPosition=function(a,s,l){var u=a-this.eyeX,d=s-this.eyeY,n=l-this.eyeZ;this.camera(a,s,l,this.centerX+u,this.centerY+d,this.centerZ+n,this.upX,this.upY,this.upZ)},c.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},c.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},c.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},c.default.Camera.prototype.copy=function(){var a=new c.default.Camera(this._renderer);return a.cameraFOV=this.cameraFOV,a.aspectRatio=this.aspectRatio,a.eyeX=this.eyeX,a.eyeY=this.eyeY,a.eyeZ=this.eyeZ,a.centerX=this.centerX,a.centerY=this.centerY,a.centerZ=this.centerZ,a.cameraNear=this.cameraNear,a.cameraFar=this.cameraFar,a.cameraType=this.cameraType,a.cameraMatrix=this.cameraMatrix.copy(),a.projMatrix=this.projMatrix.copy(),a},c.default.Camera.prototype._getLocalAxes=function(){var a=this.eyeX-this.centerX,s=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,t=Math.sqrt(a*a+s*s+l*l),t=(t!==0&&(a/=t,s/=t,l/=t),this.upX),u=(r=this.upY)*l-(i=this.upZ)*s,d=-t*l+i*a,n=t*s-r*a,t=s*n-l*d,r=-a*n+l*u,i=a*d-s*u,f=Math.sqrt(u*u+d*d+n*n),f=(f!==0&&(u/=f,d/=f,n/=f),Math.sqrt(t*t+r*r+i*i));return f!==0&&(t/=f,r/=f,i/=f),{x:[u,d,n],y:[t,r,i],z:[a,s,l]}},c.default.Camera.prototype._orbit=function(r,i,f){var d=this.eyeX-this.centerX,t=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ,u=Math.sqrt(d*d+t*t+n*n),d=Math.atan2(d,n),n=Math.acos(Math.max(-1,Math.min(1,t/u))),t=0<this.upY?1:-1,r=(d+=t*r,((n+=t*i)<=0||n>=Math.PI)&&(t*=-1),(u+=f)<0&&(u=.1),Math.sin(n)*u*Math.sin(d)),i=Math.cos(n)*u,f=Math.sin(n)*u*Math.cos(d);this.camera(r+this.centerX,i+this.centerY,f+this.centerZ,this.centerX,this.centerY,this.centerZ,0,t,0)},c.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},c.default.prototype.setCamera=function(a){this._renderer._curCamera=a,this._renderer.uPMatrix.set(a.projMatrix.mat4[0],a.projMatrix.mat4[1],a.projMatrix.mat4[2],a.projMatrix.mat4[3],a.projMatrix.mat4[4],a.projMatrix.mat4[5],a.projMatrix.mat4[6],a.projMatrix.mat4[7],a.projMatrix.mat4[8],a.projMatrix.mat4[9],a.projMatrix.mat4[10],a.projMatrix.mat4[11],a.projMatrix.mat4[12],a.projMatrix.mat4[13],a.projMatrix.mat4[14],a.projMatrix.mat4[15])},o=c.default.Camera,y.default=o},{"../core/main":267}],316:[function(o,P,y){o("core-js/modules/es.array.slice"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.Geometry=function(a,s,l){return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=a!==void 0?a:1,this.detailY=s!==void 0?s:1,this.dirtyFlags={},l instanceof Function&&l.call(this),this},c.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},c.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var a,s,l,u=this.detailX+1,d=0;d<this.detailY;d++)for(var n=0;n<this.detailX;n++)s=(d+1)*u+n+1,this.faces.push([d*u+n,a=d*u+n+1,l=(d+1)*u+n]),this.faces.push([l,a,s]);return this},c.default.Geometry.prototype._getFaceNormal=function(s){var s=this.faces[s],l=this.vertices[s[0]],d=this.vertices[s[1]],s=this.vertices[s[2]],d=c.default.Vector.sub(d,l),s=c.default.Vector.sub(s,l),l=c.default.Vector.cross(d,s),u=c.default.Vector.mag(l),d=u/(c.default.Vector.mag(d)*c.default.Vector.mag(s));return d===0||isNaN(d)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),l):(1<d&&(d=1),l.mult(Math.asin(d)/u))},c.default.Geometry.prototype.computeNormals=function(){for(var a=this.vertexNormals,s=this.vertices,l=this.faces,u=a.length=0;u<s.length;++u)a.push(new c.default.Vector);for(var d=0;d<l.length;++d)for(var n=l[d],t=this._getFaceNormal(d),r=0;r<3;++r)a[n[r]].add(t);for(u=0;u<s.length;++u)a[u].normalize();return this},c.default.Geometry.prototype.averageNormals=function(){for(var a=0;a<=this.detailY;a++){var s=this.detailX+1,l=c.default.Vector.add(this.vertexNormals[a*s],this.vertexNormals[a*s+this.detailX]),l=c.default.Vector.div(l,2);this.vertexNormals[a*s]=l,this.vertexNormals[a*s+this.detailX]=l}return this},c.default.Geometry.prototype.averagePoleNormals=function(){for(var a=new c.default.Vector(0,0,0),s=0;s<this.detailX;s++)a.add(this.vertexNormals[s]);for(var a=c.default.Vector.div(a,this.detailX),l=0;l<this.detailX;l++)this.vertexNormals[l]=a;a=new c.default.Vector(0,0,0);for(var u=this.vertices.length-1;u>this.vertices.length-1-this.detailX;u--)a.add(this.vertexNormals[u]);a=c.default.Vector.div(a,this.detailX);for(var d=this.vertices.length-1;d>this.vertices.length-1-this.detailX;d--)this.vertexNormals[d]=a;return this},c.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var a=0,s=this.strokeIndices.length;a<s;a++)this.edges.push(this.strokeIndices[a]);else for(var l=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this},c.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var a,s=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],l=!1,u=0;u<this.edges.length;u++){var d=this.edges[u-1],n=this.edges[u],t=this.vertices[n[0]],r=this.vertices[n[1]],i=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*n[0],4*(n[0]+1)):[0,0,0,0],f=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*n[1],4*(n[1]+1)):[0,0,0,0],h=r.copy().sub(t).normalize(),g=0<h.magSq();g&&this._addSegment(t,r,i,f,h),0<u&&d[1]===n[0]?(a&&g&&h.dot(a)<1-1e-8&&this._addJoin(t,a,h,i),!g||l||s||(this._addCap(t,h.copy().mult(-1),i),l=!0)):(l=!1,g&&(!s||0<u)&&(this._addCap(t,h.copy().mult(-1),i),l=!0),a&&(!s||u<this.edges.length-1)&&(this._addCap(this.vertices[d[1]],a,i),a=void 0)),u===this.edges.length-1&&(s?this._addJoin(r,h,this.vertices[this.edges[0][1]].copy().sub(r).normalize(),f):this._addCap(r,h,f)),g&&(a=h)}return this},c.default.Geometry.prototype._addSegment=function(n,t,l,u,d){var n=n.array(),t=t.array(),r=d.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var i=0,f=[this.lineTangentsIn,this.lineTangentsOut];i<f.length;i++)f[i].push(r,r,r,r,r,r);return this.lineVertices.push(n,n,t,t,n,t),this.lineVertexColors.push(l,l,u,u,l,u),this},c.default.Geometry.prototype._addCap=function(a,s,l){for(var u=a.array(),d=s.array(),n=[0,0,0],t=0;t<6;t++)this.lineVertices.push(u),this.lineTangentsIn.push(d),this.lineTangentsOut.push(n),this.lineVertexColors.push(l);return this.lineSides.push(-1,-2,2,2,1,-1),this},c.default.Geometry.prototype._addJoin=function(a,s,l,u){for(var d=a.array(),n=s.array(),t=l.array(),r=0;r<12;r++)this.lineVertices.push(d),this.lineTangentsIn.push(n),this.lineTangentsOut.push(t),this.lineVertexColors.push(u);for(var i=0,f=[-1,1];i<f.length;i++){var h=f[i];this.lineSides.push(h,2*h,3*h,h,3*h,0)}return this},c.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var a=this.vertices[0].copy(),s=this.vertices[0].copy(),l=0;l<this.vertices.length;l++)a.x=Math.max(a.x,this.vertices[l].x),s.x=Math.min(s.x,this.vertices[l].x),a.y=Math.max(a.y,this.vertices[l].y),s.y=Math.min(s.y,this.vertices[l].y),a.z=Math.max(a.z,this.vertices[l].z),s.z=Math.min(s.z,this.vertices[l].z);for(var u=c.default.Vector.lerp(a,s,.5),d=c.default.Vector.sub(a,s),n=200/Math.max(Math.max(d.x,d.y),d.z),t=0;t<this.vertices.length;t++)this.vertices[t].sub(u),this.vertices[t].mult(n)}return this},o=c.default.Geometry,y.default=o},{"../core/main":267,"core-js/modules/es.array.slice":162,"core-js/modules/es.string.sub":192}],317:[function(l,P,y){l("core-js/modules/es.array.iterator"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.typed-array.float32-array"),l("core-js/modules/es.typed-array.copy-within"),l("core-js/modules/es.typed-array.every"),l("core-js/modules/es.typed-array.fill"),l("core-js/modules/es.typed-array.filter"),l("core-js/modules/es.typed-array.find"),l("core-js/modules/es.typed-array.find-index"),l("core-js/modules/es.typed-array.for-each"),l("core-js/modules/es.typed-array.includes"),l("core-js/modules/es.typed-array.index-of"),l("core-js/modules/es.typed-array.iterator"),l("core-js/modules/es.typed-array.join"),l("core-js/modules/es.typed-array.last-index-of"),l("core-js/modules/es.typed-array.map"),l("core-js/modules/es.typed-array.reduce"),l("core-js/modules/es.typed-array.reduce-right"),l("core-js/modules/es.typed-array.reverse"),l("core-js/modules/es.typed-array.set"),l("core-js/modules/es.typed-array.slice"),l("core-js/modules/es.typed-array.some"),l("core-js/modules/es.typed-array.sort"),l("core-js/modules/es.typed-array.subarray"),l("core-js/modules/es.typed-array.to-locale-string"),l("core-js/modules/es.typed-array.to-string"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.typed-array.float32-array"),l("core-js/modules/es.typed-array.copy-within"),l("core-js/modules/es.typed-array.every"),l("core-js/modules/es.typed-array.fill"),l("core-js/modules/es.typed-array.filter"),l("core-js/modules/es.typed-array.find"),l("core-js/modules/es.typed-array.find-index"),l("core-js/modules/es.typed-array.for-each"),l("core-js/modules/es.typed-array.includes"),l("core-js/modules/es.typed-array.index-of"),l("core-js/modules/es.typed-array.iterator"),l("core-js/modules/es.typed-array.join"),l("core-js/modules/es.typed-array.last-index-of"),l("core-js/modules/es.typed-array.map"),l("core-js/modules/es.typed-array.reduce"),l("core-js/modules/es.typed-array.reduce-right"),l("core-js/modules/es.typed-array.reverse"),l("core-js/modules/es.typed-array.set"),l("core-js/modules/es.typed-array.slice"),l("core-js/modules/es.typed-array.some"),l("core-js/modules/es.typed-array.sort"),l("core-js/modules/es.typed-array.subarray"),l("core-js/modules/es.typed-array.to-locale-string"),l("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(l=l("../core/main"))&&l.__esModule?l:{default:l},a=Array,s=function(u){return u instanceof Array},l=(typeof Float32Array<"u"&&(a=Float32Array,s=function(u){return u instanceof Array||u instanceof Float32Array}),c.default.Matrix=function(){for(var u=new Array(arguments.length),d=0;d<u.length;++d)u[d]=arguments[d];return u.length&&u[u.length-1]instanceof c.default&&(this.p5=u[u.length-1]),u[0]==="mat3"?this.mat3=Array.isArray(u[1])?u[1]:new a([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(u[0])?u[0]:new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},c.default.Matrix.prototype.set=function(u){return u instanceof c.default.Matrix?this.mat4=u.mat4:s(u)?this.mat4=u:arguments.length===16&&(this.mat4[0]=u,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},c.default.Matrix.prototype.get=function(){return new c.default.Matrix(this.mat4,this.p5)},c.default.Matrix.prototype.copy=function(){var u=new c.default.Matrix(this.p5);return u.mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15],u},c.default.Matrix.identity=function(u){return new c.default.Matrix(u)},c.default.Matrix.prototype.transpose=function(u){var d,n,t,r,i,f;return u instanceof c.default.Matrix?(d=u.mat4[1],n=u.mat4[2],t=u.mat4[3],r=u.mat4[6],i=u.mat4[7],f=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=d,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=n,this.mat4[9]=r,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=t,this.mat4[13]=i,this.mat4[14]=f,this.mat4[15]=u.mat4[15]):s(u)&&(d=u[1],n=u[2],t=u[3],r=u[6],i=u[7],f=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=d,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=n,this.mat4[9]=r,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=t,this.mat4[13]=i,this.mat4[14]=f,this.mat4[15]=u[15]),this},c.default.Matrix.prototype.invert=function(C){C instanceof c.default.Matrix?(d=C.mat4[0],n=C.mat4[1],t=C.mat4[2],r=C.mat4[3],i=C.mat4[4],f=C.mat4[5],h=C.mat4[6],g=C.mat4[7],v=C.mat4[8],b=C.mat4[9],m=C.mat4[10],w=C.mat4[11],j=C.mat4[12],S=C.mat4[13],T=C.mat4[14],E=C.mat4[15]):s(C)&&(d=C[0],n=C[1],t=C[2],r=C[3],i=C[4],f=C[5],h=C[6],g=C[7],v=C[8],b=C[9],m=C[10],w=C[11],j=C[12],S=C[13],T=C[14],E=C[15]);var d,n,t,r,i,f,h,g,v,b,m,w,j,S,T,E,C=d*f-n*i,L=d*h-t*i,k=d*g-r*i,D=n*h-t*f,F=n*g-r*f,V=t*g-r*h,G=v*S-b*j,H=v*T-m*j,z=v*E-w*j,X=b*T-m*S,Y=b*E-w*S,ee=m*E-w*T,O=C*ee-L*Y+k*X+D*z-F*H+V*G;return O?(this.mat4[0]=(f*ee-h*Y+g*X)*(O=1/O),this.mat4[1]=(t*Y-n*ee-r*X)*O,this.mat4[2]=(S*V-T*F+E*D)*O,this.mat4[3]=(m*F-b*V-w*D)*O,this.mat4[4]=(h*z-i*ee-g*H)*O,this.mat4[5]=(d*ee-t*z+r*H)*O,this.mat4[6]=(T*k-j*V-E*L)*O,this.mat4[7]=(v*V-m*k+w*L)*O,this.mat4[8]=(i*Y-f*z+g*G)*O,this.mat4[9]=(n*z-d*Y-r*G)*O,this.mat4[10]=(j*F-S*k+E*C)*O,this.mat4[11]=(b*k-v*F-w*C)*O,this.mat4[12]=(f*H-i*X-h*G)*O,this.mat4[13]=(d*X-n*H+t*G)*O,this.mat4[14]=(S*L-j*D-T*C)*O,this.mat4[15]=(v*D-b*L+m*C)*O,this):null},c.default.Matrix.prototype.invert3x3=function(){var u=this.mat3[0],d=this.mat3[1],n=this.mat3[2],t=this.mat3[3],r=this.mat3[4],i=this.mat3[5],f=this.mat3[6],h=this.mat3[7],g=this.mat3[8],v=g*r-i*h,b=-g*t+i*f,m=h*t-r*f,w=u*v+d*b+n*m;return w?(this.mat3[0]=v*(w=1/w),this.mat3[1]=(-g*d+n*h)*w,this.mat3[2]=(i*d-n*r)*w,this.mat3[3]=b*w,this.mat3[4]=(g*u-n*f)*w,this.mat3[5]=(-i*u+n*t)*w,this.mat3[6]=m*w,this.mat3[7]=(-h*u+d*f)*w,this.mat3[8]=(r*u-d*t)*w,this):null},c.default.Matrix.prototype.transpose3x3=function(u){var d=u[1],n=u[2],t=u[5];return this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=d,this.mat3[5]=u[7],this.mat3[6]=n,this.mat3[7]=t,this},c.default.Matrix.prototype.inverseTranspose=function(u){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=u.mat4[0],this.mat3[1]=u.mat4[1],this.mat3[2]=u.mat4[2],this.mat3[3]=u.mat4[4],this.mat3[4]=u.mat4[5],this.mat3[5]=u.mat4[6],this.mat3[6]=u.mat4[8],this.mat3[7]=u.mat4[9],this.mat3[8]=u.mat4[10]),u=this.invert3x3(),u)u.transpose3x3(this.mat3);else for(var d=0;d<9;d++)this.mat3[d]=0;return this},c.default.Matrix.prototype.determinant=function(){var u=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],d=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],n=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],t=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],r=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],i=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],f=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],h=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],g=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],v=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],b=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return u*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-d*b+n*v+t*g-r*h+i*f},c.default.Matrix.prototype.mult=function(n){var d;if(n===this||n===this.mat4)d=this.copy().mat4;else if(n instanceof c.default.Matrix)d=n.mat4;else if(s(n))d=n;else{if(arguments.length!==16)return;d=arguments}var n=this.mat4[0],t=this.mat4[1],r=this.mat4[2],i=this.mat4[3];return this.mat4[0]=n*d[0]+t*d[4]+r*d[8]+i*d[12],this.mat4[1]=n*d[1]+t*d[5]+r*d[9]+i*d[13],this.mat4[2]=n*d[2]+t*d[6]+r*d[10]+i*d[14],this.mat4[3]=n*d[3]+t*d[7]+r*d[11]+i*d[15],n=this.mat4[4],t=this.mat4[5],r=this.mat4[6],i=this.mat4[7],this.mat4[4]=n*d[0]+t*d[4]+r*d[8]+i*d[12],this.mat4[5]=n*d[1]+t*d[5]+r*d[9]+i*d[13],this.mat4[6]=n*d[2]+t*d[6]+r*d[10]+i*d[14],this.mat4[7]=n*d[3]+t*d[7]+r*d[11]+i*d[15],n=this.mat4[8],t=this.mat4[9],r=this.mat4[10],i=this.mat4[11],this.mat4[8]=n*d[0]+t*d[4]+r*d[8]+i*d[12],this.mat4[9]=n*d[1]+t*d[5]+r*d[9]+i*d[13],this.mat4[10]=n*d[2]+t*d[6]+r*d[10]+i*d[14],this.mat4[11]=n*d[3]+t*d[7]+r*d[11]+i*d[15],n=this.mat4[12],t=this.mat4[13],r=this.mat4[14],i=this.mat4[15],this.mat4[12]=n*d[0]+t*d[4]+r*d[8]+i*d[12],this.mat4[13]=n*d[1]+t*d[5]+r*d[9]+i*d[13],this.mat4[14]=n*d[2]+t*d[6]+r*d[10]+i*d[14],this.mat4[15]=n*d[3]+t*d[7]+r*d[11]+i*d[15],this},c.default.Matrix.prototype.apply=function(n){var d;if(n===this||n===this.mat4)d=this.copy().mat4;else if(n instanceof c.default.Matrix)d=n.mat4;else if(s(n))d=n;else{if(arguments.length!==16)return;d=arguments}var n=this.mat4,t=n[0],r=n[4],i=n[8],f=n[12],t=(n[0]=d[0]*t+d[1]*r+d[2]*i+d[3]*f,n[4]=d[4]*t+d[5]*r+d[6]*i+d[7]*f,n[8]=d[8]*t+d[9]*r+d[10]*i+d[11]*f,n[12]=d[12]*t+d[13]*r+d[14]*i+d[15]*f,n[1]),r=n[5],i=n[9],f=n[13],t=(n[1]=d[0]*t+d[1]*r+d[2]*i+d[3]*f,n[5]=d[4]*t+d[5]*r+d[6]*i+d[7]*f,n[9]=d[8]*t+d[9]*r+d[10]*i+d[11]*f,n[13]=d[12]*t+d[13]*r+d[14]*i+d[15]*f,n[2]),r=n[6],i=n[10],f=n[14],t=(n[2]=d[0]*t+d[1]*r+d[2]*i+d[3]*f,n[6]=d[4]*t+d[5]*r+d[6]*i+d[7]*f,n[10]=d[8]*t+d[9]*r+d[10]*i+d[11]*f,n[14]=d[12]*t+d[13]*r+d[14]*i+d[15]*f,n[3]),r=n[7],i=n[11],f=n[15];return n[3]=d[0]*t+d[1]*r+d[2]*i+d[3]*f,n[7]=d[4]*t+d[5]*r+d[6]*i+d[7]*f,n[11]=d[8]*t+d[9]*r+d[10]*i+d[11]*f,n[15]=d[12]*t+d[13]*r+d[14]*i+d[15]*f,this},c.default.Matrix.prototype.scale=function(u,d,n){return u instanceof c.default.Vector?(d=u.y,n=u.z,u=u.x):u instanceof Array&&(d=u[1],n=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=d,this.mat4[5]*=d,this.mat4[6]*=d,this.mat4[7]*=d,this.mat4[8]*=n,this.mat4[9]*=n,this.mat4[10]*=n,this.mat4[11]*=n,this},c.default.Matrix.prototype.rotate=function(C,Y,X,t){Y instanceof c.default.Vector?(X=Y.y,t=Y.z,Y=Y.x):Y instanceof Array&&(X=Y[1],t=Y[2],Y=Y[0]);var r=Math.sqrt(Y*Y+X*X+t*t),r=(Y*=1/r,X*=1/r,t*=1/r,this.mat4[0]),i=this.mat4[1],f=this.mat4[2],h=this.mat4[3],g=this.mat4[4],v=this.mat4[5],b=this.mat4[6],m=this.mat4[7],w=this.mat4[8],j=this.mat4[9],S=this.mat4[10],T=this.mat4[11],E=Math.sin(C),C=Math.cos(C),L=1-C,k=Y*Y*L+C,D=X*Y*L+t*E,F=t*Y*L-X*E,V=Y*X*L-t*E,G=X*X*L+C,H=t*X*L+Y*E,z=Y*t*L+X*E,X=X*t*L-Y*E,Y=t*t*L+C;return this.mat4[0]=r*k+g*D+w*F,this.mat4[1]=i*k+v*D+j*F,this.mat4[2]=f*k+b*D+S*F,this.mat4[3]=h*k+m*D+T*F,this.mat4[4]=r*V+g*G+w*H,this.mat4[5]=i*V+v*G+j*H,this.mat4[6]=f*V+b*G+S*H,this.mat4[7]=h*V+m*G+T*H,this.mat4[8]=r*z+g*X+w*Y,this.mat4[9]=i*z+v*X+j*Y,this.mat4[10]=f*z+b*X+S*Y,this.mat4[11]=h*z+m*X+T*Y,this},c.default.Matrix.prototype.translate=function(t){var d=t[0],n=t[1],t=t[2]||0;this.mat4[12]+=this.mat4[0]*d+this.mat4[4]*n+this.mat4[8]*t,this.mat4[13]+=this.mat4[1]*d+this.mat4[5]*n+this.mat4[9]*t,this.mat4[14]+=this.mat4[2]*d+this.mat4[6]*n+this.mat4[10]*t,this.mat4[15]+=this.mat4[3]*d+this.mat4[7]*n+this.mat4[11]*t},c.default.Matrix.prototype.rotateX=function(u){this.rotate(u,1,0,0)},c.default.Matrix.prototype.rotateY=function(u){this.rotate(u,0,1,0)},c.default.Matrix.prototype.rotateZ=function(u){this.rotate(u,0,0,1)},c.default.Matrix.prototype.perspective=function(r,d,n,t){var r=1/Math.tan(r/2),i=1/(n-t);return this.mat4[0]=r/d,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=r,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(t+n)*i,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*t*n*i,this.mat4[15]=0,this},c.default.Matrix.prototype.ortho=function(u,d,n,t,r,i){var f=1/(u-d),h=1/(n-t),g=1/(r-i);return this.mat4[0]=-2*f,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*h,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*g,this.mat4[11]=0,this.mat4[12]=(u+d)*f,this.mat4[13]=(t+n)*h,this.mat4[14]=(i+r)*g,this.mat4[15]=1,this},c.default.Matrix);y.default=l},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(o,P,y){o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,o=(o=o("../core/main"))&&o.__esModule?o:{default:o},o.default.RenderBuffer=function(c,a,s,l,u,d){this.size=c,this.src=a,this.dst=s,this.attr=l,this._renderer=u,this.map=d},o.default.RenderBuffer.prototype._prepareBuffer=function(c,a){var s,l,u,t=a.attributes,d=this._renderer.GL,n=c.model||c,t=t[this.attr];t&&(s=c[this.dst],0<(l=n[this.src]).length?((u=!s)&&(c[this.dst]=s=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,s),!u&&n.dirtyFlags[this.src]===!1||(u=(c=this.map)?c(l):l,this._renderer._bindBuffer(s,d.ARRAY_BUFFER,u),n.dirtyFlags[this.src]=!1),a.enableAttrib(t,this.size)):(c=t.location)!==-1&&this._renderer.registerEnabled[c]&&(d.disableVertexAttribArray(c),this._renderer.registerEnabled[c]=!1))},o=o.default.RenderBuffer,y.default=o},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(o,P,y){function c(r){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function a(r){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(r)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(t=o("../core/main"))&&t.__esModule?t:{default:t},l=function(r){if(r&&r.__esModule)return r;if(r===null||a(r)!=="object"&&typeof r!="function")return{default:r};var i=u();if(i&&i.has(r))return i.get(r);var f,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in r){var v;Object.prototype.hasOwnProperty.call(r,f)&&((v=g?Object.getOwnPropertyDescriptor(r,f):null)&&(v.get||v.set)?Object.defineProperty(h,f,v):h[f]=r[f])}return h.default=r,i&&i.set(r,h),h}(o("../core/constants"));function u(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,u=function(){return r},r)}function d(r){return function(i){if(Array.isArray(i)){for(var f=0,h=new Array(i.length);f<i.length;f++)h[f]=i[f];return h}}(r)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(r){return this.immediateMode.shapeMode=r!==void 0?r:l.TESS,this.immediateMode.geometry.reset(),this};var n={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},t=(s.default.RendererGL.prototype.vertex=function(r,i){if(this.immediateMode.shapeMode===l.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var f in n){var h=n[f],f=this.immediateMode.geometry[f];f.push.apply(f,d(f.slice(f.length-3*h,f.length-2*h)).concat(d(f.slice(f.length-h,f.length))))}var g,v,b=g=v=0,m=(arguments.length===3?b=arguments[2]:arguments.length===4?(g=arguments[2],v=arguments[3]):arguments.length===5&&(b=arguments[2],g=arguments[3],v=arguments[4]),new s.default.Vector(r,i,b)),m=(this.immediateMode.geometry.vertices.push(m),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),m=(this.immediateMode.geometry.vertexColors.push(m[0],m[1],m[2],m[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(m[0],m[1],m[2],m[3]),this.textureMode===l.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(g/=this._tex.width,v/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(g,v),this.immediateMode._bezierVertex[0]=r,this.immediateMode._bezierVertex[1]=i,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=r,this.immediateMode._quadraticVertex[1]=i,this.immediateMode._quadraticVertex[2]=b,this},s.default.RendererGL.prototype.normal=function(r,i,f){return r instanceof s.default.Vector?this._currentNormal=r:this._currentNormal=new s.default.Vector(r,i,f),this},s.default.RendererGL.prototype.endShape=function(r,i,f,h,g,v){return this.immediateMode.shapeMode===l.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(r){var i;this.immediateMode.geometry.vertices.length!==0&&(i=this._doStroke,r=r===l.CLOSE,i&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,r),this.immediateMode.geometry._edgesToVertices()),i=this.immediateMode.shapeMode===l.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||i)&&this.immediateMode.shapeMode!==l.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(r,i,f){var h=[],g=0;switch(r){case l.TRIANGLE_STRIP:for(g=0;g<i.length-2;g++)h.push([g,g+1]),h.push([g,g+2]);h.push([g,g+1]);break;case l.TRIANGLE_FAN:for(g=1;g<i.length-1;g++)h.push([0,g]),h.push([g,g+1]);h.push([0,i.length-1]);break;case l.TRIANGLES:for(g=0;g<i.length-2;g+=3)h.push([g,g+1]),h.push([g+1,g+2]),h.push([g+2,g]);break;case l.LINES:for(g=0;g<i.length-1;g+=2)h.push([g,g+1]);break;case l.QUADS:for(g=0;g<i.length-5;g+=6)h.push([g,g+1]),h.push([g+1,g+2]),h.push([g+3,g+5]),h.push([g+4,g+5]);break;case l.QUAD_STRIP:for(g=0;g<i.length-2;g+=2)h.push([g,g+1]),h.push([g,g+2]),h.push([g+1,g+3]);h.push([g,g+1]);break;default:for(g=0;g<i.length-1;g++)h.push([g,g+1])}return f&&h.push([i.length-1,0]),h},s.default.RendererGL.prototype._tesselateShape=function(){for(var r=this,i=(this.immediateMode.shapeMode=l.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(b,m){return[b.x,b.y,b.z,r.immediateMode.geometry.uvs[2*m],r.immediateMode.geometry.uvs[2*m+1],r.immediateMode.geometry.vertexColors[4*m],r.immediateMode.geometry.vertexColors[4*m+1],r.immediateMode.geometry.vertexColors[4*m+2],r.immediateMode.geometry.vertexColors[4*m+3],r.immediateMode.geometry.vertexNormals[m].x,r.immediateMode.geometry.vertexNormals[m].y,r.immediateMode.geometry.vertexNormals[m].z]}))]),f=this._triangulate(i),h=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),g=0,v=f.length;g<v;g+=s.default.RendererGL.prototype.tessyVertexSize)h.push.apply(h,d(f.slice(g+5,g+9))),this.normal.apply(this,d(f.slice(g+9,g+12))),this.vertex.apply(this,d(f.slice(g,g+5)));this.immediateMode.geometry.vertexColors=h},s.default.RendererGL.prototype._drawImmediateFill=function(){var r=this.GL,i=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),f=(this._setFillUniforms(i),!0),h=!1,g=void 0;try{for(var v,b=this.immediateMode.buffers.fill[Symbol.iterator]();!(f=(v=b.next()).done);f=!0)v.value._prepareBuffer(this.immediateMode.geometry,i)}catch(m){h=!0,g=m}finally{try{f||b.return==null||b.return()}finally{if(h)throw g}}this.immediateMode.shapeMode!==l.LINE_STRIP&&this.immediateMode.shapeMode!==l.LINES||(this.immediateMode.shapeMode=l.TRIANGLE_FAN),this.immediateMode.shapeMode===l.QUADS?this.immediateMode.shapeMode=l.TRIANGLES:this.immediateMode.shapeMode===l.QUAD_STRIP&&(this.immediateMode.shapeMode=l.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),r.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),i.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var r=this.GL,i=r.isEnabled(r.CULL_FACE),f=(r.disable(r.CULL_FACE),this._getImmediateStrokeShader()),h=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(f),!0),g=!1,v=void 0;try{for(var b,m=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(b=m.next()).done);h=!0)b.value._prepareBuffer(this.immediateMode.geometry,f)}catch(w){g=!0,v=w}finally{try{h||m.return==null||m.return()}finally{if(g)throw v}}this._applyColorBlend(this.curStrokeColor),r.drawArrays(r.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),i&&r.enable(r.CULL_FACE),f.unbindShader()},s.default.RendererGL);y.default=t},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(s=o("../core/main"))&&s.__esModule?s:{default:s};o("./p5.RendererGL"),o("./p5.RenderBuffer");var a=0,s=(c.default.RendererGL.prototype._initBufferDefaults=function(l){var u;return this._freeBuffers(l),1e3<++a&&(u=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[u],a--),this.retainedMode.geometry[l]={}},c.default.RendererGL.prototype._freeBuffers=function(l){var u,d=this.retainedMode.geometry[l];function n(t){var r=!0,i=!1,f=void 0;try{for(var h,g=t[Symbol.iterator]();!(r=(h=g.next()).done);r=!0){var v=h.value;d[v.dst]&&(u.deleteBuffer(d[v.dst]),d[v.dst]=null)}}catch(b){i=!0,f=b}finally{try{r||g.return==null||g.return()}finally{if(i)throw f}}}d&&(delete this.retainedMode.geometry[l],a--,u=this.GL,d.indexBuffer&&u.deleteBuffer(d.indexBuffer),n(this.retainedMode.buffers.stroke),n(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(i,u){var d,n,t,r=this.GL,i=this._initBufferDefaults(i),f=(i.model=u,i.indexBuffer);return u.faces.length?(f=f||(i.indexBuffer=r.createBuffer()),t=(n=(d=c.default.RendererGL.prototype._flatten(u.faces)).some(function(h){return 65535<h}))?Uint32Array:Uint16Array,this._bindBuffer(f,r.ELEMENT_ARRAY_BUFFER,d,t),i.indexBufferType=n?r.UNSIGNED_INT:r.UNSIGNED_SHORT,i.vertexCount=3*u.faces.length):(f&&(r.deleteBuffer(f),i.indexBuffer=null),i.vertexCount=u.vertices?u.vertices.length:0),i.lineVertexCount=u.lineVertices?u.lineVertices.length:0,i},c.default.RendererGL.prototype.drawBuffers=function(l){var u=this.GL,d=this.retainedMode.geometry[l];if(this._doStroke&&0<d.lineVertexCount){var n=u.isEnabled(u.CULL_FACE),t=(u.disable(u.CULL_FACE),this._getRetainedStrokeShader()),r=(this._useLineColor=0<d.model.vertexStrokeColors.length,this._setStrokeUniforms(t),!0),i=!1,f=void 0;try{for(var h,g=this.retainedMode.buffers.stroke[Symbol.iterator]();!(r=(h=g.next()).done);r=!0)h.value._prepareBuffer(d,t)}catch(j){i=!0,f=j}finally{try{r||g.return==null||g.return()}finally{if(i)throw f}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(u.TRIANGLES,l),n&&u.enable(u.CULL_FACE),t.unbindShader()}if(this._doFill){this._useVertexColor=0<d.model.vertexColors.length;var v=this._getRetainedFillShader(),b=(this._setFillUniforms(v),!0),i=!1,f=void 0;try{for(var m,w=this.retainedMode.buffers.fill[Symbol.iterator]();!(b=(m=w.next()).done);b=!0)m.value._prepareBuffer(d,v)}catch(T){i=!0,f=T}finally{try{b||w.return==null||w.return()}finally{if(i)throw f}}d.indexBuffer&&this._bindBuffer(d.indexBuffer,u.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(u.TRIANGLES,l),v.unbindShader()}return this},c.default.RendererGL.prototype.drawBuffersScaled=function(l,u,d,n){var t=this.uMVMatrix.copy();try{this.uMVMatrix.scale(u,d,n),this.drawBuffers(l)}finally{this.uMVMatrix=t}},c.default.RendererGL.prototype._drawArrays=function(l,u){return this.GL.drawArrays(l,0,this.retainedMode.geometry[u].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(l,d){var d=this.retainedMode.geometry[d],n=this.GL;if(d.indexBuffer){if(d.indexBufferType===n.UNSIGNED_INT&&!n.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");n.drawElements(n.TRIANGLES,d.vertexCount,d.indexBufferType,0)}else n.drawArrays(l||n.TRIANGLES,0,d.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(l,u){var d=this.GL,n=this._getImmediatePointShader();this._setPointUniforms(n),this._bindBuffer(u,d.ARRAY_BUFFER,this._vToNArray(l),Float32Array,d.STATIC_DRAW),n.enableAttrib(n.attributes.aPosition,3),d.drawArrays(d.Points,0,l.length),n.unbindShader()},c.default.RendererGL);y.default=s},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(b,P,y){function c(m){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(m)}function a(m){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(w){return c(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":c(w)})(m)}b("core-js/modules/es.symbol"),b("core-js/modules/es.symbol.description"),b("core-js/modules/es.symbol.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.filter"),b("core-js/modules/es.array.from"),b("core-js/modules/es.array.includes"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.object.assign"),b("core-js/modules/es.object.get-own-property-descriptor"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.regexp.to-string"),b("core-js/modules/es.string.includes"),b("core-js/modules/es.string.iterator"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.float64-array"),b("core-js/modules/es.typed-array.int16-array"),b("core-js/modules/es.typed-array.uint8-array"),b("core-js/modules/es.typed-array.uint16-array"),b("core-js/modules/es.typed-array.uint32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/es.weak-map"),b("core-js/modules/web.dom-collections.iterator"),b("core-js/modules/es.symbol"),b("core-js/modules/es.symbol.description"),b("core-js/modules/es.symbol.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.filter"),b("core-js/modules/es.array.from"),b("core-js/modules/es.array.includes"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.object.assign"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.regexp.to-string"),b("core-js/modules/es.string.includes"),b("core-js/modules/es.string.iterator"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.float64-array"),b("core-js/modules/es.typed-array.int16-array"),b("core-js/modules/es.typed-array.uint8-array"),b("core-js/modules/es.typed-array.uint16-array"),b("core-js/modules/es.typed-array.uint32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=n(b("../core/main")),l=function(m){if(m&&m.__esModule)return m;if(m===null||a(m)!=="object"&&typeof m!="function")return{default:m};var w=d();if(w&&w.has(m))return w.get(m);var j,S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in m){var E;Object.prototype.hasOwnProperty.call(m,j)&&((E=T?Object.getOwnPropertyDescriptor(m,j):null)&&(E.get||E.set)?Object.defineProperty(S,j,E):S[j]=m[j])}return S.default=m,w&&w.set(m,S),S}(b("../core/constants")),u=n(b("libtess"));b("./p5.Shader"),b("./p5.Camera"),b("../core/p5.Renderer"),b("./p5.Matrix"),b("path");function d(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,d=function(){return m},m)}function n(m){return m&&m.__esModule?m:{default:m}}function t(m){return function(w){if(Array.isArray(w)){for(var j=0,S=new Array(w.length);j<w.length;j++)S[j]=w[j];return S}}(m)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(m,w){g+="#define STROKE_CAP_".concat(m," ").concat(w,`
`),f[l[m]]=w}function i(m,w){g+="#define STROKE_JOIN_".concat(m," ").concat(w,`
`),h[l[m]]=w}var f={},h={},g="",b=(r("ROUND",0),r("PROJECT",1),r("SQUARE",2),i("ROUND",0),i("MITER",1),i("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),v={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:b+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
    gl_FragColor = vec4(gl_FragColor.rgb * vDiffuseColor + vSpecularColor, 1.) * baseColor.a;
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:b+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, 1.) * baseColor.a;
}
`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  gl_FragColor *= saturate(max(antialias, cover));
}
`,lineVert:g+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:g+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`},b=(s.default.RendererGL=function(m,w,j,S){return s.default.Renderer.call(this,m,w,j),this._setAttributeDefaults(w),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=l.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[1,1,1,1],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=l.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=[],this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new s.default.Matrix,this.uPMatrix=new s.default.Matrix,this.uNMatrix=new s.default.Matrix("mat3"),this._currentNormal=new s.default.Vector(0,0,1),this._curCamera=new s.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new s.default.Geometry,shapeMode:l.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.curStrokeCap=l.ROUND,this.curStrokeJoin=l.ROUND,this.textures=[],this.textureMode=l.IMAGE,this.textureWrapX=l.CLAMP,this.textureWrapY=l.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},s.default.RendererGL.prototype=Object.create(s.default.Renderer.prototype),s.default.RendererGL.prototype._setAttributeDefaults=function(m){var w={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0};m._glAttributes===null?m._glAttributes=w:m._glAttributes=Object.assign(w,m._glAttributes)},s.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var m=this.drawingContext;m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL),m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},s.default.RendererGL.prototype._resetContext=function(m,w){var j,S=this.width,T=this.height,C=this.canvas.id,E=this._pInst instanceof s.default.Graphics,C=(E?((j=this._pInst).canvas.parentNode.removeChild(j.canvas),j.canvas=document.createElement("canvas"),(j._pInst._userNode||document.body).appendChild(j.canvas),s.default.Element.call(j,j.canvas,j._pInst),j.width=S,j.height=T):((j=this.canvas)&&j.parentNode.removeChild(j),(j=document.createElement("canvas")).id=C,(this._pInst._userNode||document.body).appendChild(j),this._pInst.canvas=j,this.canvas=j),new s.default.RendererGL(this._pInst.canvas,this._pInst,!E));this._pInst._setProperty("_renderer",C),C.resize(S,T),C._applyDefaults(),E||this._pInst._elements.push(C),typeof w=="function"&&setTimeout(function(){w.apply(window._renderer,m)},0)},s.default.prototype.setAttributes=function(m,w){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var j=!0;if(w!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[m]!==w&&(this._glAttributes[m]=w,j=!1)):m instanceof Object&&this._glAttributes!==m&&(this._glAttributes=m,j=!1),this._renderer.isP3D&&!j){if(!this._setupDone){for(var S in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(S))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.background=function(){var S=(S=this._pInst).color.apply(S,arguments),m=S.levels[0]/255,w=S.levels[1]/255,j=S.levels[2]/255,S=S.levels[3]/255;this.clear(m,w,j,S)},s.default.RendererGL.prototype.fill=function(m,w,j,S){var T=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=T._array,this.drawMode=l.FILL,this._useNormalMaterial=!1,this._tex=null},s.default.RendererGL.prototype.stroke=function(m,w,j,S){var T=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=T._array},s.default.RendererGL.prototype.strokeCap=function(m){this.curStrokeCap=m},s.default.RendererGL.prototype.strokeJoin=function(m){this.curStrokeJoin=m},s.default.RendererGL.prototype.filter=function(m){console.error("filter() does not work in WEBGL mode")},s.default.RendererGL.prototype.blendMode=function(m){m===l.DARKEST||m===l.LIGHTEST||m===l.ADD||m===l.BLEND||m===l.SUBTRACT||m===l.SCREEN||m===l.EXCLUSION||m===l.REPLACE||m===l.MULTIPLY||m===l.REMOVE?this.curBlendMode=m:m!==l.BURN&&m!==l.OVERLAY&&m!==l.HARD_LIGHT&&m!==l.SOFT_LIGHT&&m!==l.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},s.default.RendererGL.prototype.erase=function(m,w){this._isErasing||(this._applyBlendMode(l.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,m/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,w/255])},s.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},s.default.RendererGL.prototype.strokeWeight=function(m){this.curStrokeWeight!==m&&(this.pointSize=m,this.curStrokeWeight=m)},s.default.RendererGL.prototype._getPixel=function(m,w){var j=new Uint8Array(4);return this.drawingContext.readPixels(m,w,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,j),[j[0],j[1],j[2],j[3]]},s.default.RendererGL.prototype.loadPixels=function(){var m,w=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(w=w.pixels,m=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,w instanceof Uint8Array&&w.length===m||(w=new Uint8Array(m),this._pixelsState._setProperty("pixels",w)),m=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*m,this.height*m,this.GL.RGBA,this.GL.UNSIGNED_BYTE,w))},s.default.RendererGL.prototype.geometryInHash=function(m){return this.retainedMode.geometry[m]!==void 0},s.default.RendererGL.prototype.resize=function(m,w){s.default.Renderer.prototype.resize.call(this,m,w),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),m=this._pixelsState,m.pixels!==void 0&&m._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},s.default.RendererGL.prototype.clear=function(){var m=(arguments.length<=0?void 0:arguments[0])||0,w=(arguments.length<=1?void 0:arguments[1])||0,j=(arguments.length<=2?void 0:arguments[2])||0,S=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(m*S,w*S,j*S,S),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.applyMatrix=function(m,w,j,S,T,E){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([m,w,0,0,j,S,0,0,0,0,1,0,T,E,0,1])},s.default.RendererGL.prototype.translate=function(m,w,j){return m instanceof s.default.Vector&&(j=m.z,w=m.y,m=m.x),this.uMVMatrix.translate([m,w,j]),this},s.default.RendererGL.prototype.scale=function(m,w,j){return this.uMVMatrix.scale(m,w,j),this},s.default.RendererGL.prototype.rotate=function(m,w){return w===void 0?this.rotateZ(m):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},s.default.RendererGL.prototype.rotateX=function(m){return this.rotate(m,1,0,0),this},s.default.RendererGL.prototype.rotateY=function(m){return this.rotate(m,0,1,0),this},s.default.RendererGL.prototype.rotateZ=function(m){return this.rotate(m,0,0,1),this},s.default.RendererGL.prototype.push=function(){var m=s.default.Renderer.prototype.push.apply(this),w=m.properties;return w.uMVMatrix=this.uMVMatrix.copy(),w.uPMatrix=this.uPMatrix.copy(),w._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),w.ambientLightColors=this.ambientLightColors.slice(),w.specularColors=this.specularColors.slice(),w.directionalLightDirections=this.directionalLightDirections.slice(),w.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),w.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),w.pointLightPositions=this.pointLightPositions.slice(),w.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),w.pointLightSpecularColors=this.pointLightSpecularColors.slice(),w.spotLightPositions=this.spotLightPositions.slice(),w.spotLightDirections=this.spotLightDirections.slice(),w.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),w.spotLightSpecularColors=this.spotLightSpecularColors.slice(),w.spotLightAngle=this.spotLightAngle.slice(),w.spotLightConc=this.spotLightConc.slice(),w.userFillShader=this.userFillShader,w.userStrokeShader=this.userStrokeShader,w.userPointShader=this.userPointShader,w.pointSize=this.pointSize,w.curStrokeWeight=this.curStrokeWeight,w.curStrokeColor=this.curStrokeColor,w.curFillColor=this.curFillColor,w.curAmbientColor=this.curAmbientColor,w.curSpecularColor=this.curSpecularColor,w.curEmissiveColor=this.curEmissiveColor,w._useSpecularMaterial=this._useSpecularMaterial,w._useEmissiveMaterial=this._useEmissiveMaterial,w._useShininess=this._useShininess,w.constantAttenuation=this.constantAttenuation,w.linearAttenuation=this.linearAttenuation,w.quadraticAttenuation=this.quadraticAttenuation,w._enableLighting=this._enableLighting,w._useNormalMaterial=this._useNormalMaterial,w._tex=this._tex,w.drawMode=this.drawMode,w._currentNormal=this._currentNormal,w.curBlendMode=this.curBlendMode,m},s.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this},s.default.RendererGL.prototype._getImmediateStrokeShader=function(){var m=this.userStrokeShader;return m&&m.isStrokeShader()?m:this._getLineShader()},s.default.RendererGL.prototype._getRetainedStrokeShader=s.default.RendererGL.prototype._getImmediateStrokeShader,s.default.RendererGL.prototype._getImmediateFillShader=function(){var m=this.userFillShader;if(this._useNormalMaterial&&(!m||!m.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!m||!m.isLightShader())return this._getLightShader()}else if(this._tex){if(!m||!m.isTextureShader())return this._getLightShader()}else if(!m)return this._getImmediateModeShader();return m},s.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var m=this.userFillShader;if(this._enableLighting){if(!m||!m.isLightShader())return this._getLightShader()}else if(this._tex){if(!m||!m.isTextureShader())return this._getLightShader()}else if(!m)return this._getColorShader();return m},s.default.RendererGL.prototype._getImmediatePointShader=function(){var m=this.userPointShader;return m&&m.isPointShader()?m:this._getPointShader()},s.default.RendererGL.prototype._getRetainedLineShader=s.default.RendererGL.prototype._getImmediateLineShader,s.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,v.phongVert,v.phongFrag):this._defaultLightShader=new s.default.Shader(this,v.lightVert,v.lightTextureFrag)),this._defaultLightShader},s.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,v.immediateVert,v.vertexColorFrag)),this._defaultImmediateModeShader},s.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,v.normalVert,v.normalFrag)),this._defaultNormalShader},s.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,v.normalVert,v.basicFrag)),this._defaultColorShader},s.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,v.pointVert,v.pointFrag)),this._defaultPointShader},s.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,v.lineVert,v.lineFrag)),this._defaultLineShader},s.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,v.fontVert,v.fontFrag)),this._defaultFontShader},s.default.RendererGL.prototype._getEmptyTexture=function(){var m;return this._emptyTexture||((m=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,m)),this._emptyTexture},s.default.RendererGL.prototype.getTexture=function(m){var w=this.textures,j=!0,S=!1,T=void 0;try{for(var E,C=w[Symbol.iterator]();!(j=(E=C.next()).done);j=!0){var L=E.value;if(L.src===m)return L}}catch(k){S=!0,T=k}finally{try{j||C.return==null||C.return()}finally{if(S)throw T}}return S=new s.default.Texture(this,m),w.push(S),S},s.default.RendererGL.prototype._setStrokeUniforms=function(m){m.bindShader(),m.setUniform("uUseLineColor",this._useLineColor),m.setUniform("uMaterialColor",this.curStrokeColor),m.setUniform("uStrokeWeight",this.curStrokeWeight),m.setUniform("uStrokeCap",f[this.curStrokeCap]),m.setUniform("uStrokeJoin",h[this.curStrokeJoin])},s.default.RendererGL.prototype._setFillUniforms=function(m){m.bindShader(),m.setUniform("uUseVertexColor",this._useVertexColor),m.setUniform("uMaterialColor",this.curFillColor),m.setUniform("isTexture",!!this._tex),this._tex&&m.setUniform("uSampler",this._tex),m.setUniform("uTint",this._tint),m.setUniform("uAmbientMatColor",this.curAmbientColor),m.setUniform("uSpecularMatColor",this.curSpecularColor),m.setUniform("uEmissiveMatColor",this.curEmissiveColor),m.setUniform("uSpecular",this._useSpecularMaterial),m.setUniform("uEmissive",this._useEmissiveMaterial),m.setUniform("uShininess",this._useShininess),m.setUniform("uUseLighting",this._enableLighting);var w=this.pointLightDiffuseColors.length/3,w=(m.setUniform("uPointLightCount",w),m.setUniform("uPointLightLocation",this.pointLightPositions),m.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),m.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),w=(m.setUniform("uDirectionalLightCount",w),m.setUniform("uLightingDirection",this.directionalLightDirections),m.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),m.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),w=(m.setUniform("uAmbientLightCount",w),m.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);m.setUniform("uSpotLightCount",w),m.setUniform("uSpotLightAngle",this.spotLightAngle),m.setUniform("uSpotLightConc",this.spotLightConc),m.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),m.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),m.setUniform("uSpotLightLocation",this.spotLightPositions),m.setUniform("uSpotLightDirection",this.spotLightDirections),m.setUniform("uConstantAttenuation",this.constantAttenuation),m.setUniform("uLinearAttenuation",this.linearAttenuation),m.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),m.bindTextures()},s.default.RendererGL.prototype._setPointUniforms=function(m){m.bindShader(),m.setUniform("uMaterialColor",this.curStrokeColor),m.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},s.default.RendererGL.prototype._bindBuffer=function(m,w,j,S,T){w=w||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(w,m),j!==void 0&&(m=new(S||Float32Array)(j),this.GL.bufferData(w,m,T||this.GL.STATIC_DRAW))},s.default.RendererGL.prototype._arraysEqual=function(m,w){var j=m.length;if(j!==w.length)return!1;for(var S=0;S<j;S++)if(m[S]!==w[S])return!1;return!0},s.default.RendererGL.prototype._isTypedArray=function(m){return m instanceof Uint32Array},s.default.RendererGL.prototype._flatten=function(m){if(m.length===0)return[];var w;if(2e4<m.length){for(var j=Object.prototype.toString,S=[],T=m.slice(),E=T.pop();j.call(E)==="[object Array]"?T.push.apply(T,t(E)):S.push(E),T.length&&(E=T.pop())!==void 0;);return S.reverse(),S}return(w=[]).concat.apply(w,t(m))},s.default.RendererGL.prototype._vToNArray=function(m){var w=[],j=!0,S=!1,T=void 0;try{for(var E,C=m[Symbol.iterator]();!(j=(E=C.next()).done);j=!0){var L=E.value;w.push(L.x,L.y,L.z)}}catch(k){S=!0,T=k}finally{try{j||C.return==null||C.return()}finally{if(S)throw T}}return w},s.default.prototype._assert3d=function(m){if(!this._renderer.isP3D)throw new Error("".concat(m,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,s.default.RendererGL.prototype._initTessy=function(){var m=new u.default.GluTesselator;return m.gluTessCallback(u.default.gluEnum.GLU_TESS_VERTEX_DATA,function(w,j){for(var S=0;S<w.length;S++)j[j.length]=w[S]}),m.gluTessCallback(u.default.gluEnum.GLU_TESS_BEGIN,function(w){w!==u.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(w))}),m.gluTessCallback(u.default.gluEnum.GLU_TESS_ERROR,function(w){console.log("error callback"),console.log("error number: ".concat(w))}),m.gluTessCallback(u.default.gluEnum.GLU_TESS_COMBINE,function(w,j,S){for(var T=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),E=0;E<S.length;E++)for(var C=0;C<T.length;C++)S[E]!==0&&j[E]&&(T[C]+=j[E][C]*S[E]);return T}),m.gluTessCallback(u.default.gluEnum.GLU_TESS_EDGE_FLAG,function(w){}),m},s.default.RendererGL.prototype._triangulate=function(m){var w=m[0]?m[0][2]:void 0,j=!0,S=!0,T=!1,E=void 0;try{for(var C,L=m[Symbol.iterator]();!(S=(C=L.next()).done);S=!0)for(var k=C.value,D=0;D<k.length;D+=s.default.RendererGL.prototype.tessyVertexSize)if(k[D+2]!==w){j=!1;break}}catch(z){T=!0,E=z}finally{try{S||L.return==null||L.return()}finally{if(T)throw E}}j?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),T=[],this._tessy.gluTessBeginPolygon(T);for(var F=0;F<m.length;F++){this._tessy.gluTessBeginContour();for(var V=m[F],G=0;G<V.length;G+=s.default.RendererGL.prototype.tessyVertexSize){var H=V.slice(G,G+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(H,H)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),T},s.default.RendererGL.prototype._bezierCoefficients=function(m){var w=m*m,j=1-m,S=j*j;return[S*j,3*S*m,3*j*w,w*m]},s.default.RendererGL.prototype._quadraticCoefficients=function(m){var w=1-m;return[w*w,2*w*m,m*m]},s.default.RendererGL.prototype._bezierToCatmull=function(m){return[m[1],m[1]+(m[2]-m[0])/this._curveTightness,m[2]-(m[3]-m[1])/this._curveTightness,m[2]]},s.default.RendererGL);y.default=b},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(o,P,y){o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var c=(o=o("../core/main"))&&o.__esModule?o:{default:o};c.default.Shader=function(a,s,l){this._renderer=a,this._vertSrc=s,this._fragSrc=l,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},c.default.Shader.prototype.init=function(){if(this._glProgram===0){var a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this._vertSrc),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(a.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this._fragSrc),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(a.getShaderInfoLog(this._fragShader))),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},c.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var a=this._renderer.GL,s=a.getProgramParameter(this._glProgram,a.ACTIVE_ATTRIBUTES),l=0;l<s;++l){var u=a.getActiveAttrib(this._glProgram,l),d=u.name,n=a.getAttribLocation(this._glProgram,d),t={};t.name=d,t.location=n,t.index=l,t.type=u.type,t.size=u.size,this.attributes[d]=t}this._loadedAttributes=!0}},c.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var a=this._renderer.GL,s=a.getProgramParameter(this._glProgram,a.ACTIVE_UNIFORMS),l=0,u=0;u<s;++u){var d=a.getActiveUniform(this._glProgram,u),n={},t=(n.location=a.getUniformLocation(this._glProgram,d.name),n.size=d.size,d.name);1<d.size&&(t=t.substring(0,t.indexOf("[0]"))),n.name=t,n.type=d.type,n._cachedData=void 0,n.type===a.SAMPLER_2D&&(n.samplerIndex=l,l++,this.samplers.push(n)),n.isArray=1<d.size||n.type===a.FLOAT_MAT3||n.type===a.FLOAT_MAT4||n.type===a.FLOAT_VEC2||n.type===a.FLOAT_VEC3||n.type===a.FLOAT_VEC4||n.type===a.INT_VEC2||n.type===a.INT_VEC4||n.type===a.INT_VEC3,this.uniforms[t]=n}this._loadedUniforms=!0}},c.default.Shader.prototype.compile=function(){},c.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},c.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},c.default.Shader.prototype.bindTextures=function(){var a=this._renderer.GL,s=!0,l=!1,u=void 0;try{for(var d,n=this.samplers[Symbol.iterator]();!(s=(d=n.next()).done);s=!0){var t=d.value,r=t.texture;r===void 0&&(r=this._renderer._getEmptyTexture()),a.activeTexture(a.TEXTURE0+t.samplerIndex),r.bindTexture(),r.update(),a.uniform1i(t.location,t.samplerIndex)}}catch(i){l=!0,u=i}finally{try{s||n.return==null||n.return()}finally{if(l)throw u}}},c.default.Shader.prototype.updateTextures=function(){var a=!0,s=!1,l=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var n=u.value.texture;n&&n.update()}}catch(t){s=!0,l=t}finally{try{a||d.return==null||d.return()}finally{if(s)throw l}}},c.default.Shader.prototype.unbindTextures=function(){var a=!0,s=!1,l=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var n=u.value;this.setUniform(n.name,this._renderer._getEmptyTexture())}}catch(t){s=!0,l=t}finally{try{a||d.return==null||d.return()}finally{if(s)throw l}}},c.default.Shader.prototype._setMatrixUniforms=function(){var a=this._renderer._curCamera.cameraMatrix,s=this._renderer.uPMatrix,l=this._renderer.uMVMatrix,u=l.copy();u.mult(s),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",s.mat4),this.setUniform("uModelViewMatrix",l.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},c.default.Shader.prototype.useProgram=function(){var a=this._renderer.GL;return this._renderer._curShader!==this&&(a.useProgram(this._glProgram),this._renderer._curShader=this),this},c.default.Shader.prototype.setUniform=function(a,s){var l=this.uniforms[a];if(l){var u=this._renderer.GL;if(l.isArray){if(l._cachedData&&this._renderer._arraysEqual(l._cachedData,s))return;l._cachedData=s.slice(0)}else{if(l._cachedData&&l._cachedData===s)return;Array.isArray(s)?l._cachedData=s.slice(0):l._cachedData=s}var d=l.location;switch(this.useProgram(),l.type){case u.BOOL:s===!0?u.uniform1i(d,1):u.uniform1i(d,0);break;case u.INT:1<l.size?s.length&&u.uniform1iv(d,s):u.uniform1i(d,s);break;case u.FLOAT:1<l.size?s.length&&u.uniform1fv(d,s):u.uniform1f(d,s);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(d,!1,s);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(d,!1,s);break;case u.FLOAT_VEC2:1<l.size?s.length&&u.uniform2fv(d,s):u.uniform2f(d,s[0],s[1]);break;case u.FLOAT_VEC3:1<l.size?s.length&&u.uniform3fv(d,s):u.uniform3f(d,s[0],s[1],s[2]);break;case u.FLOAT_VEC4:1<l.size?s.length&&u.uniform4fv(d,s):u.uniform4f(d,s[0],s[1],s[2],s[3]);break;case u.INT_VEC2:1<l.size?s.length&&u.uniform2iv(d,s):u.uniform2i(d,s[0],s[1]);break;case u.INT_VEC3:1<l.size?s.length&&u.uniform3iv(d,s):u.uniform3i(d,s[0],s[1],s[2]);break;case u.INT_VEC4:1<l.size?s.length&&u.uniform4iv(d,s):u.uniform4i(d,s[0],s[1],s[2],s[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+l.samplerIndex),l.texture=s instanceof c.default.Texture?s:this._renderer.getTexture(s),u.uniform1i(d,l.samplerIndex),l.texture.src.gifProperties&&l.texture.src._animateGif(this._renderer._pInst)}return this}},c.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},c.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},c.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},c.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},c.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},c.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},c.default.Shader.prototype.enableAttrib=function(a,s,l,u,d,n){var t;return a&&(a=a.location)!==-1&&(t=this._renderer.GL,this._renderer.registerEnabled[a]||(t.enableVertexAttribArray(a),this._renderer.registerEnabled[a]=!0),this._renderer.GL.vertexAttribPointer(a,s,l||t.FLOAT,u||!1,d||0,n||0)),this},o=c.default.Shader,y.default=o},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(o,P,y){function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function a(n){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(t){return c(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":c(t)})(n)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=o("../core/main"))&&d.__esModule?d:{default:d},l=function(n){if(n&&n.__esModule)return n;if(n===null||a(n)!=="object"&&typeof n!="function")return{default:n};var t=u();if(t&&t.has(n))return t.get(n);var r,i={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in n){var h;Object.prototype.hasOwnProperty.call(n,r)&&((h=f?Object.getOwnPropertyDescriptor(n,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=n[r])}return i.default=n,t&&t.set(n,i),i}(o("../core/constants"));function u(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,u=function(){return n},n)}s.default.Texture=function(n,t,r){return this._renderer=n,n=this._renderer.GL,(r=r||{}).dataType===n.FLOAT&&(n.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),n.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=t,this.glTex=void 0,this.glTarget=n.TEXTURE_2D,this.glFormat=r.format||n.RGBA,this.mipmaps=!1,this.glMinFilter=r.minFilter||n.LINEAR,this.glMagFilter=r.magFilter||n.LINEAR,this.glWrapS=r.wrapS||n.CLAMP_TO_EDGE,this.glWrapT=r.wrapT||n.CLAMP_TO_EDGE,this.glDataType=r.dataType||n.UNSIGNED_BYTE,this.isSrcMediaElement=s.default.MediaElement!==void 0&&t instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&t instanceof s.default.Element&&!(t instanceof s.default.Graphics)&&!(t instanceof s.default.Renderer),this.isSrcP5Image=t instanceof s.default.Image,this.isSrcP5Graphics=t instanceof s.default.Graphics,this.isSrcP5Renderer=t instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&t instanceof ImageData,r=this._getTextureDataFromSource(),this.width=r.width,this.height=r.height,this.init(r),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var n;return this.isSrcP5Image?n=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?n=this.src.elt:this.isImageData&&(n=this.src),n},s.default.Texture.prototype.init=function(n){var t,r=this._renderer.GL;this.glTex=r.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(t=new Uint8Array([1,1,1,1]),r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,t)):r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,n)},s.default.Texture.prototype.update=function(){var n,t,r,i=this.src;return i.width!==0&&i.height!==0&&(n=this._getTextureDataFromSource(),t=!1,r=this._renderer.GL,n.width!==this.width||n.height!==this.height?(t=!0,this.width=n.width,this.height=n.height,this.isSrcP5Image?i.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&i.setModified(!0)):this.isSrcP5Image?i.isModified()&&i.setModified(!(t=!0)):this.isSrcMediaElement?i.isModified()?i.setModified(!(t=!0)):i.loadedmetadata&&this._videoPrevUpdateTime!==i.time()&&(this._videoPrevUpdateTime=i.time(),t=!0):this.isImageData?i._dirty&&(t=!(i._dirty=!1)):t=!0,t&&(this.bindTexture(),r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,n)),t)},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(n,t){var r=this._renderer.GL;n===l.NEAREST?this.glMinFilter=r.NEAREST:this.glMinFilter=r.LINEAR,t===l.NEAREST?this.glMagFilter=r.NEAREST:this.glMagFilter=r.LINEAR,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(n,t){function r(g){return(g&g-1)==0}var i=this._renderer.GL,h=this._getTextureDataFromSource(),h=h.naturalWidth&&h.naturalHeight?(f=h.naturalWidth,h.naturalHeight):(f=this.width,this.height),f=r(f),h=r(h);n===l.REPEAT?f&&h?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):n===l.MIRROR?f&&h?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,t===l.REPEAT?f&&h?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):t===l.MIRROR?f&&h?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var d=s.default.Texture;y.default=d},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(o,P,y){function c(f){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function a(f){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(h){return c(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":c(h)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var s,l=(s=o("../core/main"))&&s.__esModule?s:{default:s},u=function(f){if(f&&f.__esModule)return f;if(f===null||a(f)!=="object"&&typeof f!="function")return{default:f};var h=d();if(h&&h.has(f))return h.get(f);var g,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var m;Object.prototype.hasOwnProperty.call(f,g)&&((m=b?Object.getOwnPropertyDescriptor(f,g):null)&&(m.get||m.set)?Object.defineProperty(v,g,m):v[g]=f[g])}return v.default=f,h&&h.set(f,v),v}(o("../core/constants"));function d(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,d=function(){return f},f)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),l.default.RendererGL.prototype._applyTextProperties=function(){},l.default.RendererGL.prototype.textWidth=function(f){return this._isOpenType()?this._textFont._textWidth(f,this._textSize):0};function n(f,h){this.width=f,this.height=h,this.infos=[],this.findImage=function(g){var v,b,m=this.width*this.height;if(m<g)throw new Error("font is too complex to render in 3D");for(var w=this.infos.length-1;0<=w;--w){var j=this.infos[w];if(j.index+g<m){b=(v=j).imageData;break}}if(!v){try{b=new ImageData(this.width,this.height)}catch{var S=document.getElementsByTagName("canvas")[0],T=!S,E=(S||((S=document.createElement("canvas")).style.display="none",document.body.appendChild(S)),S.getContext("2d"));E&&(b=E.createImageData(this.width,this.height)),T&&document.body.removeChild(S)}this.infos.push(v={index:0,imageData:b})}return E=v.index,v.index+=g,b._dirty=!0,{imageData:b,index:E}}}function t(w,h,g,v,b){var m=w.imageData.data,w=4*w.index++;m[w++]=h,m[w++]=g,m[w++]=v,m[+w]=b}function r(f){this.font=f,this.strokeImageInfos=new n(64,64),this.colDimImageInfos=new n(64,64),this.rowDimImageInfos=new n(64,64),this.colCellImageInfos=new n(64,64),this.rowCellImageInfos=new n(64,64),this.glyphInfos={},this.getGlyphInfo=function(h){var g=this.glyphInfos[h.index];if(!g){var v=h.getBoundingBox(),b=v.x1,m=v.y1,w=v.x2-b,j=v.y2-m,S=h.path.commands;if(w==0||j==0||!S.length)return this.glyphInfos[h.index]={};for(var T,E,C,L,k=[],D=[],F=[],V=8;0<=V;--V)F.push([]);for(V=8;0<=V;--V)D.push([]);var G=!0,H=!1,z=void 0;try{for(var X,Y=S[Symbol.iterator]();!(G=(X=Y.next()).done);G=!0){var ee=X.value,O=(ee.x-b)/w,R=(ee.y-m)/j;if(!Ce(T,E,O,R)){switch(ee.type){case"M":C=O,L=R;break;case"L":de(T,E,O,R);break;case"Q":var B=(ee.x1-b)/w,W=(ee.y1-m)/j;ue([T,O,B],[E,R,W],{x:T,y:E,cx:B,cy:W});break;case"Z":Ce(T,E,C,L)?k.push({x:T,y:E}):(de(T,E,C,L),k.push({x:C,y:L}));break;case"C":for(var K=function(ke,N,$,qe,ze,Qe,Ze,ge){var ke=new ye(new l.default.Vector(ke,N),new l.default.Vector($,qe),new l.default.Vector(ze,Qe),new l.default.Vector(Ze,ge)).splitInflections(),be=[],q=30/i,Q=!0,N=!1,$=void 0;try{for(var he,xe=ke[Symbol.iterator]();!(Q=(he=xe.next()).done);Q=!0){for(var Ee=he.value,Be=[],Ne=void 0;!(.125<=(Ne=q/Ee.quadError()));){var Ve=Math.pow(Ne,.3333333333333333),Xe=Ee.split(Ve),it=Ee.split(1-Ve/(1-Ve));be.push(Xe),Be.push(Ee),Ee=it}Ne<1&&be.push(Ee.split(.5)),be.push(Ee),Array.prototype.push.apply(be,Be.reverse())}}catch(ot){N=!0,$=ot}finally{try{Q||xe.return==null||xe.return()}finally{if(N)throw $}}return be}(T,E,(ee.x1-b)/w,(ee.y1-m)/j,(ee.x2-b)/w,(ee.y2-m)/j,O,R),ne=0;ne<K.length;ne++){var ie=K[ne].toQuadratic();ue([ie.x,ie.x1,ie.cx],[ie.y,ie.y1,ie.cy],ie)}break;default:throw new Error("unknown command type: ".concat(ee.type))}T=O,E=R}}}catch(Ae){H=!0,z=Ae}finally{try{G||Y.return==null||Y.return()}finally{if(H)throw z}}for(var ce=k.length,oe=this.strokeImageInfos.findImage(ce),se=oe.index,me=0;me<ce;++me){var J=k[me];t(oe,pe(J.x),pe(J.y),pe(J.cx),pe(J.cy))}(g=this.glyphInfos[h.index]={glyph:h,uGlyphRect:[v.x1,-v.y1,v.x2,-v.y2],strokeImageInfo:oe,strokes:k,colInfo:Te(F,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Te(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[g.colInfo.dimOffset,g.rowInfo.dimOffset]}return g;function ue(Ae,Se,Ge){var qe=k.length;function ze(be,q,Q){for(var N=be.length;0<N--;){var $=be[N];$<q&&(q=$),Q<$&&(Q=$)}return{min:q,max:Q}}k.push(Ge);for(var Ge=ze(Ae,1,0),Ae=Math.max(Math.floor(9*Ge.min-.5),0),Qe=Math.min(Math.ceil(9*Ge.max+.5),9),Ze=Ae;Ze<Qe;++Ze)F[Ze].push(qe);for(var Ge=ze(Se,1,0),Ae=Math.max(Math.floor(9*Ge.min-.5),0),ge=Math.min(Math.ceil(9*Ge.max+.5),9),ke=Ae;ke<ge;++ke)D[ke].push(qe)}function pe(Ae){return(Ae=(Ge=255)*Ae)<(Se=0)?Se:Ge<Ae?Ge:Ae;var Se,Ge}function ye(Ae,Se,Ge,qe){this.p0=Ae,this.c0=Se,this.c1=Ge,this.p1=qe,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return l.default.Vector.sub(l.default.Vector.sub(this.p1,this.p0),l.default.Vector.mult(l.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(ke){var Qe=l.default.Vector.lerp(this.p0,this.c0,ke),ge=l.default.Vector.lerp(this.c0,this.c1,ke),Ze=l.default.Vector.lerp(Qe,ge,ke),ge=(this.c1=l.default.Vector.lerp(this.c1,this.p1,ke),this.c0=l.default.Vector.lerp(ge,this.c1,ke),l.default.Vector.lerp(Ze,this.c0,ke)),ke=new ye(this.p0,Qe,Ze,ge);return this.p0=ge,ke},this.splitInflections=function(){var ze=l.default.Vector.sub(this.c0,this.p0),Qe=l.default.Vector.sub(l.default.Vector.sub(this.c1,this.c0),ze),Ze=l.default.Vector.sub(l.default.Vector.sub(l.default.Vector.sub(this.p1,this.c1),ze),l.default.Vector.mult(Qe,2)),ge=[],ke=Qe.x*Ze.y-Qe.y*Ze.x;return ke!==0&&0<=(ze=(Ze=ze.x*Ze.y-ze.y*Ze.x)*Ze-4*ke*(ze.x*Qe.y-ze.y*Qe.x))&&(ke<0&&(ke=-ke,Ze=-Ze),ze=(-Ze+(Qe=Math.sqrt(ze)))/(2*ke),0<(Ze=(-Ze-Qe)/(2*ke))&&Ze<1&&(ge.push(this.split(Ze)),ze=1-(1-ze)/(1-Ze)),0<ze&&ze<1&&ge.push(this.split(ze))),ge.push(this),ge}}function de(Ae,Se,Ge,qe){ue([Ae,Ge],[Se,qe],{x:Ae,y:Se,cx:(Ae+Ge)/2,cy:(Se+qe)/2})}function Ce(Ae,Se,Ge,qe){return Math.abs(Ge-Ae)<1e-5&&Math.abs(qe-Se)<1e-5}function Te(Ae,Se,Ge){for(var qe=Ae.length,ze=Se.findImage(qe),Se=ze.index,Qe=0,Ze=0;Ze<qe;++Ze)Qe+=Ae[Ze].length;for(var ge=Ge.findImage(Qe),ke=0;ke<qe;++ke){var be=Ae[ke],q=be.length,Q=ge.index;t(ze,Q>>7,127&Q,q>>7,127&q);for(var N=0;N<q;++N){var $=be[N]+se;t(ge,$>>7,127&$,0,0)}}return{cellImageInfo:ge,dimOffset:Se,dimImageInfo:ze}}}}var i=Math.sqrt(3);l.default.RendererGL.prototype._renderText=function(f,h,g,v,b){if(this._textFont&&typeof this._textFont!="string"){if(!(b<=v)&&this._doFill){if(this._isOpenType()){f.push();var b=this._doStroke,m=this.drawMode,w=(this._doStroke=!1,this.drawMode=u.TEXTURE,this._textFont.font),j=(j=this._textFont._fontInfo)||(this._textFont._fontInfo=new r(w)),g=this._textFont._handleAlignment(this,h,g,v),v=this._textSize/w.unitsPerEm,S=(this.translate(g.x,g.y,0),this.scale(v,v,1),this.GL),g=!this._defaultFontShader,T=this._getFontShader(),E=(T.init(),T.bindShader(),g&&(T.setUniform("uGridImageSize",[64,64]),T.setUniform("uCellsImageSize",[64,64]),T.setUniform("uStrokeImageSize",[64,64]),T.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),C=(E||((v=this._textGeom=new l.default.Geometry(1,1,function(){for(var ie=0;ie<=1;ie++)for(var ce=0;ce<=1;ce++)this.vertices.push(new l.default.Vector(ce,ie,0)),this.uvs.push(ce,ie)})).computeFaces().computeNormals(),E=this.createBuffers("glyph",v)),!0),g=!1,v=void 0;try{for(var L,k=this.retainedMode.buffers.text[Symbol.iterator]();!(C=(L=k.next()).done);C=!0)L.value._prepareBuffer(E,T)}catch(ie){g=!0,v=ie}finally{try{C||k.return==null||k.return()}finally{if(g)throw v}}this._bindBuffer(E.indexBuffer,S.ELEMENT_ARRAY_BUFFER),T.setUniform("uMaterialColor",this.curFillColor);try{var D=0,F=null,V=w.stringToGlyphs(h),G=!0,H=!1,z=void 0;try{for(var X,Y=V[Symbol.iterator]();!(G=(X=Y.next()).done);G=!0){var ee,O,R=X.value,B=(F&&(D+=w.getKerningValue(F,R)),j.getGlyphInfo(R));B.uGlyphRect&&(ee=B.rowInfo,O=B.colInfo,T.setUniform("uSamplerStrokes",B.strokeImageInfo.imageData),T.setUniform("uSamplerRowStrokes",ee.cellImageInfo.imageData),T.setUniform("uSamplerRows",ee.dimImageInfo.imageData),T.setUniform("uSamplerColStrokes",O.cellImageInfo.imageData),T.setUniform("uSamplerCols",O.dimImageInfo.imageData),T.setUniform("uGridOffset",B.uGridOffset),T.setUniform("uGlyphRect",B.uGlyphRect),T.setUniform("uGlyphOffset",D),T.bindTextures(),S.drawElements(S.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),D+=R.advanceWidth,F=R}}catch(ie){H=!0,z=ie}finally{try{G||Y.return==null||Y.return()}finally{if(H)throw z}}}finally{T.unbindShader(),this._doStroke=b,this.drawMode=m,f.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return f}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(To);var Qo=To.exports;const Jo=Zo(Qo);let Pr;const Ko=new Uint8Array(16);function $o(){if(!Pr&&(Pr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Pr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pr(Ko)}const Ft=[];for(let Ue=0;Ue<256;++Ue)Ft.push((Ue+256).toString(16).slice(1));function en(Ue,Oe=0){return(Ft[Ue[Oe+0]]+Ft[Ue[Oe+1]]+Ft[Ue[Oe+2]]+Ft[Ue[Oe+3]]+"-"+Ft[Ue[Oe+4]]+Ft[Ue[Oe+5]]+"-"+Ft[Ue[Oe+6]]+Ft[Ue[Oe+7]]+"-"+Ft[Ue[Oe+8]]+Ft[Ue[Oe+9]]+"-"+Ft[Ue[Oe+10]]+Ft[Ue[Oe+11]]+Ft[Ue[Oe+12]]+Ft[Ue[Oe+13]]+Ft[Ue[Oe+14]]+Ft[Ue[Oe+15]]).toLowerCase()}const tn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jo={randomUUID:tn};function rn(Ue,Oe,Le){if(jo.randomUUID&&!Oe&&!Ue)return jo.randomUUID();Ue=Ue||{};const o=Ue.random||(Ue.rng||$o)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,Oe){Le=Le||0;for(let P=0;P<16;++P)Oe[Le+P]=o[P];return Oe}return en(o)}class on{ref=null;setRef(Oe){this.ref=Oe}circle(Oe,Le,o){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.ellipse(Oe,Le,o*2,o*2),this.ref.pop(),this.reset())}circleV(Oe,Le){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.ellipse(Oe.x,Oe.y,Le*2,Le*2),this.ref.pop(),this.reset())}rect(Oe,Le,o,P,y=0){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.rect(Oe,Le,o,P,y),this.ref.pop(),this.reset())}rectV(Oe,Le,o,P=0){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.rect(Oe.x,Oe.y,Le,o,P),this.ref.pop(),this.reset())}line(Oe,Le,o,P){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.line(Oe,Le,o,P),this.ref.pop(),this.reset())}lineV(Oe,Le){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.line(Oe.x,Oe.y,Le.x,Le.y),this.ref.pop(),this.reset())}text(Oe,Le,o){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.text(o,Oe,Le),this.ref.pop(),this.reset())}textV(Oe,Le){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.text(Le,Oe.x,Oe.y),this.ref.pop(),this.reset())}arcV(Oe,Le,o){this.ref!=null&&(this.ref.push(),this.ref.translate(0,0),this.ref.arc(Oe.x,Oe.y,Le*2,Le*2,0,this.ref.radians(o)),this.ref.pop(),this.reset())}setLineDash(Oe){this.ref!=null&&this.ref.drawingContext.setLineDash(Oe)}blur(Oe,Le){this.ref!=null&&(this.ref.drawingContext.shadowBlur=Oe,this.ref.drawingContext.shadowColor=this.ref.color(Le))}reset(){this.ref!=null&&(this.ref.noFill(),this.ref.noStroke(),this.ref.strokeWeight(1),this.setLineDash([0,0]),this.ref.drawingContext.shadowBlur=0,this.ref.drawingContext.shadowColor=this.ref.color(0),this.ref.textSize(12))}}let wr=[],jt;const Ot=new on,_o=["#2ecc71","#3498db","#9b59b6","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ff7979"];function nn(Ue,Oe,Le,o){Ue.push(),Ue.noCursor(),o?Ue.fill(70):Ue.noFill(),Ue.stroke(70),Ue.strokeWeight(4),Ue.translate(0,0),o||Ue.ellipse(Oe.x,Oe.y,Le*2,Le*2),Ue.strokeWeight(1),Ue.pop()}function cr(Ue,Oe){var Le=parseInt(Ue.slice(1),16),o=Oe<0?0:255,P=Oe<0?Oe*-1:Oe,y=Le>>16,c=Le>>8&255,a=Le&255;return"#"+(16777216+(Math.round((o-y)*P)+y)*65536+(Math.round((o-c)*P)+c)*256+(Math.round((o-a)*P)+a)).toString(16).slice(1)}function Ur(){return _o[Math.floor(Math.random()*_o.length)]}function sn(){return 1440*20}function Eo(){return rn()}function Co(Ue){wr.push(Ue)}function an(Ue){wr.splice(wr.findIndex(Oe=>Oe.getUUID()===Ue.getUUID()),1)}function xr(){return wr}function So(Ue){let Oe=Ue.replace("Bubble-","").trim();return wr.find(Le=>Le.getUUID()===Oe)}function Mo(Ue){return jt==null?!1:jt.mouseButton==Ue&&jt.mouseIsPressed}function ln(Ue,Oe,Le,o,P,y,c){let a=Ue,s=Oe;Ue<o?a=o:Ue>o+y&&(a=o+y),Oe<P?s=P:Oe>P+c&&(s=P+c);let l=Ue-a,u=Oe-s;return Math.sqrt(l*l+u*u)<=Le}function un(Ue){jt=Ue}var Po={exports:{}};/*!
 * matter-js 0.19.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(Ue,Oe){(function(o,P){Ue.exports=P()})(sr,function(){return function(Le){var o={};function P(y){if(o[y])return o[y].exports;var c=o[y]={i:y,l:!1,exports:{}};return Le[y].call(c.exports,c,c.exports,P),c.l=!0,c.exports}return P.m=Le,P.c=o,P.d=function(y,c,a){P.o(y,c)||Object.defineProperty(y,c,{enumerable:!0,get:a})},P.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},P.t=function(y,c){if(c&1&&(y=P(y)),c&8||c&4&&typeof y=="object"&&y&&y.__esModule)return y;var a=Object.create(null);if(P.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:y}),c&2&&typeof y!="string")for(var s in y)P.d(a,s,function(l){return y[l]}.bind(null,s));return a},P.n=function(y){var c=y&&y.__esModule?function(){return y.default}:function(){return y};return P.d(c,"a",c),c},P.o=function(y,c){return Object.prototype.hasOwnProperty.call(y,c)},P.p="",P(P.s=20)}([function(Le,o){var P={};Le.exports=P,function(){P._baseDelta=1e3/60,P._nextId=0,P._seed=0,P._nowStartTime=+new Date,P._warnedOnce={},P._decomp=null,P.extend=function(c,a){var s,l;typeof a=="boolean"?(s=2,l=a):(s=1,l=!0);for(var u=s;u<arguments.length;u++){var d=arguments[u];if(d)for(var n in d)l&&d[n]&&d[n].constructor===Object&&(!c[n]||c[n].constructor===Object)?(c[n]=c[n]||{},P.extend(c[n],l,d[n])):c[n]=d[n]}return c},P.clone=function(c,a){return P.extend({},a,c)},P.keys=function(c){if(Object.keys)return Object.keys(c);var a=[];for(var s in c)a.push(s);return a},P.values=function(c){var a=[];if(Object.keys){for(var s=Object.keys(c),l=0;l<s.length;l++)a.push(c[s[l]]);return a}for(var u in c)a.push(c[u]);return a},P.get=function(c,a,s,l){a=a.split(".").slice(s,l);for(var u=0;u<a.length;u+=1)c=c[a[u]];return c},P.set=function(c,a,s,l,u){var d=a.split(".").slice(l,u);return P.get(c,a,0,-1)[d[d.length-1]]=s,s},P.shuffle=function(c){for(var a=c.length-1;a>0;a--){var s=Math.floor(P.random()*(a+1)),l=c[a];c[a]=c[s],c[s]=l}return c},P.choose=function(c){return c[Math.floor(P.random()*c.length)]},P.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},P.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},P.isFunction=function(c){return typeof c=="function"},P.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},P.isString=function(c){return toString.call(c)==="[object String]"},P.clamp=function(c,a,s){return c<a?a:c>s?s:c},P.sign=function(c){return c<0?-1:1},P.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-P._nowStartTime},P.random=function(c,a){return c=typeof c<"u"?c:0,a=typeof a<"u"?a:1,c+y()*(a-c)};var y=function(){return P._seed=(P._seed*9301+49297)%233280,P._seed/233280};P.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},P.logLevel=1,P.log=function(){console&&P.logLevel>0&&P.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},P.info=function(){console&&P.logLevel>0&&P.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},P.warn=function(){console&&P.logLevel>0&&P.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},P.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");P._warnedOnce[c]||(P.warn(c),P._warnedOnce[c]=!0)},P.deprecated=function(c,a,s){c[a]=P.chain(function(){P.warnOnce(" deprecated ",s)},c[a])},P.nextId=function(){return P._nextId++},P.indexOf=function(c,a){if(c.indexOf)return c.indexOf(a);for(var s=0;s<c.length;s++)if(c[s]===a)return s;return-1},P.map=function(c,a){if(c.map)return c.map(a);for(var s=[],l=0;l<c.length;l+=1)s.push(a(c[l]));return s},P.topologicalSort=function(c){var a=[],s=[],l=[];for(var u in c)!s[u]&&!l[u]&&P._topologicalSort(u,s,l,c,a);return a},P._topologicalSort=function(c,a,s,l,u){var d=l[c]||[];s[c]=!0;for(var n=0;n<d.length;n+=1){var t=d[n];s[t]||a[t]||P._topologicalSort(t,a,s,l,u)}s[c]=!1,a[c]=!0,u.push(c)},P.chain=function(){for(var c=[],a=0;a<arguments.length;a+=1){var s=arguments[a];s._chained?c.push.apply(c,s._chained):c.push(s)}var l=function(){for(var u,d=new Array(arguments.length),n=0,t=arguments.length;n<t;n++)d[n]=arguments[n];for(n=0;n<c.length;n+=1){var r=c[n].apply(u,d);typeof r<"u"&&(u=r)}return u};return l._chained=c,l},P.chainPathBefore=function(c,a,s){return P.set(c,a,P.chain(s,P.get(c,a)))},P.chainPathAfter=function(c,a,s){return P.set(c,a,P.chain(P.get(c,a),s))},P.setDecomp=function(c){P._decomp=c},P.getDecomp=function(){var c=P._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof sr<"u"&&(c=sr.decomp)}catch{c=null}return c}}()},function(Le,o){var P={};Le.exports=P,function(){P.create=function(y){var c={min:{x:0,y:0},max:{x:0,y:0}};return y&&P.update(c,y),c},P.update=function(y,c,a){y.min.x=1/0,y.max.x=-1/0,y.min.y=1/0,y.max.y=-1/0;for(var s=0;s<c.length;s++){var l=c[s];l.x>y.max.x&&(y.max.x=l.x),l.x<y.min.x&&(y.min.x=l.x),l.y>y.max.y&&(y.max.y=l.y),l.y<y.min.y&&(y.min.y=l.y)}a&&(a.x>0?y.max.x+=a.x:y.min.x+=a.x,a.y>0?y.max.y+=a.y:y.min.y+=a.y)},P.contains=function(y,c){return c.x>=y.min.x&&c.x<=y.max.x&&c.y>=y.min.y&&c.y<=y.max.y},P.overlaps=function(y,c){return y.min.x<=c.max.x&&y.max.x>=c.min.x&&y.max.y>=c.min.y&&y.min.y<=c.max.y},P.translate=function(y,c){y.min.x+=c.x,y.max.x+=c.x,y.min.y+=c.y,y.max.y+=c.y},P.shift=function(y,c){var a=y.max.x-y.min.x,s=y.max.y-y.min.y;y.min.x=c.x,y.max.x=c.x+a,y.min.y=c.y,y.max.y=c.y+s}}()},function(Le,o){var P={};Le.exports=P,function(){P.create=function(y,c){return{x:y||0,y:c||0}},P.clone=function(y){return{x:y.x,y:y.y}},P.magnitude=function(y){return Math.sqrt(y.x*y.x+y.y*y.y)},P.magnitudeSquared=function(y){return y.x*y.x+y.y*y.y},P.rotate=function(y,c,a){var s=Math.cos(c),l=Math.sin(c);a||(a={});var u=y.x*s-y.y*l;return a.y=y.x*l+y.y*s,a.x=u,a},P.rotateAbout=function(y,c,a,s){var l=Math.cos(c),u=Math.sin(c);s||(s={});var d=a.x+((y.x-a.x)*l-(y.y-a.y)*u);return s.y=a.y+((y.x-a.x)*u+(y.y-a.y)*l),s.x=d,s},P.normalise=function(y){var c=P.magnitude(y);return c===0?{x:0,y:0}:{x:y.x/c,y:y.y/c}},P.dot=function(y,c){return y.x*c.x+y.y*c.y},P.cross=function(y,c){return y.x*c.y-y.y*c.x},P.cross3=function(y,c,a){return(c.x-y.x)*(a.y-y.y)-(c.y-y.y)*(a.x-y.x)},P.add=function(y,c,a){return a||(a={}),a.x=y.x+c.x,a.y=y.y+c.y,a},P.sub=function(y,c,a){return a||(a={}),a.x=y.x-c.x,a.y=y.y-c.y,a},P.mult=function(y,c){return{x:y.x*c,y:y.y*c}},P.div=function(y,c){return{x:y.x/c,y:y.y/c}},P.perp=function(y,c){return c=c===!0?-1:1,{x:c*-y.y,y:c*y.x}},P.neg=function(y){return{x:-y.x,y:-y.y}},P.angle=function(y,c){return Math.atan2(c.y-y.y,c.x-y.x)},P._temp=[P.create(),P.create(),P.create(),P.create(),P.create(),P.create()]}()},function(Le,o,P){var y={};Le.exports=y;var c=P(2),a=P(0);(function(){y.create=function(s,l){for(var u=[],d=0;d<s.length;d++){var n=s[d],t={x:n.x,y:n.y,index:d,body:l,isInternal:!1};u.push(t)}return u},y.fromPath=function(s,l){var u=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return s.replace(u,function(n,t,r){d.push({x:parseFloat(t),y:parseFloat(r)})}),y.create(d,l)},y.centre=function(s){for(var l=y.area(s,!0),u={x:0,y:0},d,n,t,r=0;r<s.length;r++)t=(r+1)%s.length,d=c.cross(s[r],s[t]),n=c.mult(c.add(s[r],s[t]),d),u=c.add(u,n);return c.div(u,6*l)},y.mean=function(s){for(var l={x:0,y:0},u=0;u<s.length;u++)l.x+=s[u].x,l.y+=s[u].y;return c.div(l,s.length)},y.area=function(s,l){for(var u=0,d=s.length-1,n=0;n<s.length;n++)u+=(s[d].x-s[n].x)*(s[d].y+s[n].y),d=n;return l?u/2:Math.abs(u)/2},y.inertia=function(s,l){for(var u=0,d=0,n=s,t,r,i=0;i<n.length;i++)r=(i+1)%n.length,t=Math.abs(c.cross(n[r],n[i])),u+=t*(c.dot(n[r],n[r])+c.dot(n[r],n[i])+c.dot(n[i],n[i])),d+=t;return l/6*(u/d)},y.translate=function(s,l,u){u=typeof u<"u"?u:1;var d=s.length,n=l.x*u,t=l.y*u,r;for(r=0;r<d;r++)s[r].x+=n,s[r].y+=t;return s},y.rotate=function(s,l,u){if(l!==0){var d=Math.cos(l),n=Math.sin(l),t=u.x,r=u.y,i=s.length,f,h,g,v;for(v=0;v<i;v++)f=s[v],h=f.x-t,g=f.y-r,f.x=t+(h*d-g*n),f.y=r+(h*n+g*d);return s}},y.contains=function(s,l){for(var u=l.x,d=l.y,n=s.length,t=s[n-1],r,i=0;i<n;i++){if(r=s[i],(u-t.x)*(r.y-t.y)+(d-t.y)*(t.x-r.x)>0)return!1;t=r}return!0},y.scale=function(s,l,u,d){if(l===1&&u===1)return s;d=d||y.centre(s);for(var n,t,r=0;r<s.length;r++)n=s[r],t=c.sub(n,d),s[r].x=d.x+t.x*l,s[r].y=d.y+t.y*u;return s},y.chamfer=function(s,l,u,d,n){typeof l=="number"?l=[l]:l=l||[8],u=typeof u<"u"?u:-1,d=d||2,n=n||14;for(var t=[],r=0;r<s.length;r++){var i=s[r-1>=0?r-1:s.length-1],f=s[r],h=s[(r+1)%s.length],g=l[r<l.length?r:l.length-1];if(g===0){t.push(f);continue}var v=c.normalise({x:f.y-i.y,y:i.x-f.x}),b=c.normalise({x:h.y-f.y,y:f.x-h.x}),m=Math.sqrt(2*Math.pow(g,2)),w=c.mult(a.clone(v),g),j=c.normalise(c.mult(c.add(v,b),.5)),S=c.sub(f,c.mult(j,m)),T=u;u===-1&&(T=Math.pow(g,.32)*1.75),T=a.clamp(T,d,n),T%2===1&&(T+=1);for(var E=Math.acos(c.dot(v,b)),C=E/T,L=0;L<T;L++)t.push(c.add(c.rotate(w,C*L),S))}return t},y.clockwiseSort=function(s){var l=y.mean(s);return s.sort(function(u,d){return c.angle(l,u)-c.angle(l,d)}),s},y.isConvex=function(s){var l=0,u=s.length,d,n,t,r;if(u<3)return null;for(d=0;d<u;d++)if(n=(d+1)%u,t=(d+2)%u,r=(s[n].x-s[d].x)*(s[t].y-s[n].y),r-=(s[n].y-s[d].y)*(s[t].x-s[n].x),r<0?l|=1:r>0&&(l|=2),l===3)return!1;return l!==0?!0:null},y.hull=function(s){var l=[],u=[],d,n;for(s=s.slice(0),s.sort(function(t,r){var i=t.x-r.x;return i!==0?i:t.y-r.y}),n=0;n<s.length;n+=1){for(d=s[n];u.length>=2&&c.cross3(u[u.length-2],u[u.length-1],d)<=0;)u.pop();u.push(d)}for(n=s.length-1;n>=0;n-=1){for(d=s[n];l.length>=2&&c.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),u.pop(),l.concat(u)}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(3),a=P(2),s=P(7),l=P(0),u=P(1),d=P(11);(function(){y._timeCorrection=!0,y._inertiaScale=4,y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,y._baseDelta=1e3/60,y.create=function(t){var r={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},i=l.extend(r,t);return n(i,t),i},y.nextGroup=function(t){return t?y._nextNonCollidingGroupId--:y._nextCollidingGroupId++},y.nextCategory=function(){return y._nextCategory=y._nextCategory<<1,y._nextCategory};var n=function(t,r){r=r||{},y.set(t,{bounds:t.bounds||u.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),c.rotate(t.vertices,t.angle,t.position),d.rotate(t.axes,t.angle),u.update(t.bounds,t.vertices,t.velocity),y.set(t,{axes:r.axes||t.axes,area:r.area||t.area,mass:r.mass||t.mass,inertia:r.inertia||t.inertia});var i=t.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),f=t.isStatic?"#555":"#ccc",h=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||i,t.render.strokeStyle=t.render.strokeStyle||f,t.render.lineWidth=t.render.lineWidth||h,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};y.set=function(t,r,i){var f;typeof r=="string"&&(f=r,r={},r[f]=i);for(f in r)if(Object.prototype.hasOwnProperty.call(r,f))switch(i=r[f],f){case"isStatic":y.setStatic(t,i);break;case"isSleeping":s.set(t,i);break;case"mass":y.setMass(t,i);break;case"density":y.setDensity(t,i);break;case"inertia":y.setInertia(t,i);break;case"vertices":y.setVertices(t,i);break;case"position":y.setPosition(t,i);break;case"angle":y.setAngle(t,i);break;case"velocity":y.setVelocity(t,i);break;case"angularVelocity":y.setAngularVelocity(t,i);break;case"speed":y.setSpeed(t,i);break;case"angularSpeed":y.setAngularSpeed(t,i);break;case"parts":y.setParts(t,i);break;case"centre":y.setCentre(t,i);break;default:t[f]=i}},y.setStatic=function(t,r){for(var i=0;i<t.parts.length;i++){var f=t.parts[i];f.isStatic=r,r?(f._original={restitution:f.restitution,friction:f.friction,mass:f.mass,inertia:f.inertia,density:f.density,inverseMass:f.inverseMass,inverseInertia:f.inverseInertia},f.restitution=0,f.friction=1,f.mass=f.inertia=f.density=1/0,f.inverseMass=f.inverseInertia=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.angularVelocity=0,f.speed=0,f.angularSpeed=0,f.motion=0):f._original&&(f.restitution=f._original.restitution,f.friction=f._original.friction,f.mass=f._original.mass,f.inertia=f._original.inertia,f.density=f._original.density,f.inverseMass=f._original.inverseMass,f.inverseInertia=f._original.inverseInertia,f._original=null)}},y.setMass=function(t,r){var i=t.inertia/(t.mass/6);t.inertia=i*(r/6),t.inverseInertia=1/t.inertia,t.mass=r,t.inverseMass=1/t.mass,t.density=t.mass/t.area},y.setDensity=function(t,r){y.setMass(t,r*t.area),t.density=r},y.setInertia=function(t,r){t.inertia=r,t.inverseInertia=1/t.inertia},y.setVertices=function(t,r){r[0].body===t?t.vertices=r:t.vertices=c.create(r,t),t.axes=d.fromVertices(t.vertices),t.area=c.area(t.vertices),y.setMass(t,t.density*t.area);var i=c.centre(t.vertices);c.translate(t.vertices,i,-1),y.setInertia(t,y._inertiaScale*c.inertia(t.vertices,t.mass)),c.translate(t.vertices,t.position),u.update(t.bounds,t.vertices,t.velocity)},y.setParts=function(t,r,i){var f;for(r=r.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,f=0;f<r.length;f++){var h=r[f];h!==t&&(h.parent=t,t.parts.push(h))}if(t.parts.length!==1){if(i=typeof i<"u"?i:!0,i){var g=[];for(f=0;f<r.length;f++)g=g.concat(r[f].vertices);c.clockwiseSort(g);var v=c.hull(g),b=c.centre(v);y.setVertices(t,v),c.translate(t.vertices,b)}var m=y._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,y.setMass(t,m.mass),y.setInertia(t,m.inertia),y.setPosition(t,m.centre)}},y.setCentre=function(t,r,i){i?(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y,t.position.x+=r.x,t.position.y+=r.y):(t.positionPrev.x=r.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=r.y-(t.position.y-t.positionPrev.y),t.position.x=r.x,t.position.y=r.y)},y.setPosition=function(t,r,i){var f=a.sub(r,t.position);i?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=f.x,t.velocity.y=f.y,t.speed=a.magnitude(f)):(t.positionPrev.x+=f.x,t.positionPrev.y+=f.y);for(var h=0;h<t.parts.length;h++){var g=t.parts[h];g.position.x+=f.x,g.position.y+=f.y,c.translate(g.vertices,f),u.update(g.bounds,g.vertices,t.velocity)}},y.setAngle=function(t,r,i){var f=r-t.angle;i?(t.anglePrev=t.angle,t.angularVelocity=f,t.angularSpeed=Math.abs(f)):t.anglePrev+=f;for(var h=0;h<t.parts.length;h++){var g=t.parts[h];g.angle+=f,c.rotate(g.vertices,f,t.position),d.rotate(g.axes,f),u.update(g.bounds,g.vertices,t.velocity),h>0&&a.rotateAbout(g.position,f,t.position,g.position)}},y.setVelocity=function(t,r){var i=t.deltaTime/y._baseDelta;t.positionPrev.x=t.position.x-r.x*i,t.positionPrev.y=t.position.y-r.y*i,t.velocity.x=(t.position.x-t.positionPrev.x)/i,t.velocity.y=(t.position.y-t.positionPrev.y)/i,t.speed=a.magnitude(t.velocity)},y.getVelocity=function(t){var r=y._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*r,y:(t.position.y-t.positionPrev.y)*r}},y.getSpeed=function(t){return a.magnitude(y.getVelocity(t))},y.setSpeed=function(t,r){y.setVelocity(t,a.mult(a.normalise(y.getVelocity(t)),r))},y.setAngularVelocity=function(t,r){var i=t.deltaTime/y._baseDelta;t.anglePrev=t.angle-r*i,t.angularVelocity=(t.angle-t.anglePrev)/i,t.angularSpeed=Math.abs(t.angularVelocity)},y.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*y._baseDelta/t.deltaTime},y.getAngularSpeed=function(t){return Math.abs(y.getAngularVelocity(t))},y.setAngularSpeed=function(t,r){y.setAngularVelocity(t,l.sign(y.getAngularVelocity(t))*r)},y.translate=function(t,r,i){y.setPosition(t,a.add(t.position,r),i)},y.rotate=function(t,r,i,f){if(!i)y.setAngle(t,t.angle+r,f);else{var h=Math.cos(r),g=Math.sin(r),v=t.position.x-i.x,b=t.position.y-i.y;y.setPosition(t,{x:i.x+(v*h-b*g),y:i.y+(v*g+b*h)},f),y.setAngle(t,t.angle+r,f)}},y.scale=function(t,r,i,f){var h=0,g=0;f=f||t.position;for(var v=0;v<t.parts.length;v++){var b=t.parts[v];c.scale(b.vertices,r,i,f),b.axes=d.fromVertices(b.vertices),b.area=c.area(b.vertices),y.setMass(b,t.density*b.area),c.translate(b.vertices,{x:-b.position.x,y:-b.position.y}),y.setInertia(b,y._inertiaScale*c.inertia(b.vertices,b.mass)),c.translate(b.vertices,{x:b.position.x,y:b.position.y}),v>0&&(h+=b.area,g+=b.inertia),b.position.x=f.x+(b.position.x-f.x)*r,b.position.y=f.y+(b.position.y-f.y)*i,u.update(b.bounds,b.vertices,t.velocity)}t.parts.length>1&&(t.area=h,t.isStatic||(y.setMass(t,t.density*h),y.setInertia(t,g))),t.circleRadius&&(r===i?t.circleRadius*=r:t.circleRadius=null)},y.update=function(t,r){r=(typeof r<"u"?r:1e3/60)*t.timeScale;var i=r*r,f=y._timeCorrection?r/(t.deltaTime||r):1,h=1-t.frictionAir*(r/l._baseDelta),g=(t.position.x-t.positionPrev.x)*f,v=(t.position.y-t.positionPrev.y)*f;t.velocity.x=g*h+t.force.x/t.mass*i,t.velocity.y=v*h+t.force.y/t.mass*i,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=r,t.angularVelocity=(t.angle-t.anglePrev)*h*f+t.torque/t.inertia*i,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var b=0;b<t.parts.length;b++){var m=t.parts[b];c.translate(m.vertices,t.velocity),b>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),t.angularVelocity!==0&&(c.rotate(m.vertices,t.angularVelocity,t.position),d.rotate(m.axes,t.angularVelocity),b>0&&a.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),u.update(m.bounds,m.vertices,t.velocity)}},y.updateVelocities=function(t){var r=y._baseDelta/t.deltaTime,i=t.velocity;i.x=(t.position.x-t.positionPrev.x)*r,i.y=(t.position.y-t.positionPrev.y)*r,t.speed=Math.sqrt(i.x*i.x+i.y*i.y),t.angularVelocity=(t.angle-t.anglePrev)*r,t.angularSpeed=Math.abs(t.angularVelocity)},y.applyForce=function(t,r,i){var f={x:r.x-t.position.x,y:r.y-t.position.y};t.force.x+=i.x,t.force.y+=i.y,t.torque+=f.x*i.y-f.y*i.x},y._totalProperties=function(t){for(var r={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=t.parts.length===1?0:1;i<t.parts.length;i++){var f=t.parts[i],h=f.mass!==1/0?f.mass:1;r.mass+=h,r.area+=f.area,r.inertia+=f.inertia,r.centre=a.add(r.centre,a.mult(f.position,h))}return r.centre=a.div(r.centre,r.mass),r}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(0);(function(){y.on=function(a,s,l){for(var u=s.split(" "),d,n=0;n<u.length;n++)d=u[n],a.events=a.events||{},a.events[d]=a.events[d]||[],a.events[d].push(l);return l},y.off=function(a,s,l){if(!s){a.events={};return}typeof s=="function"&&(l=s,s=c.keys(a.events).join(" "));for(var u=s.split(" "),d=0;d<u.length;d++){var n=a.events[u[d]],t=[];if(l&&n)for(var r=0;r<n.length;r++)n[r]!==l&&t.push(n[r]);a.events[u[d]]=t}},y.trigger=function(a,s,l){var u,d,n,t,r=a.events;if(r&&c.keys(r).length>0){l||(l={}),u=s.split(" ");for(var i=0;i<u.length;i++)if(d=u[i],n=r[d],n){t=c.clone(l,!1),t.name=d,t.source=a;for(var f=0;f<n.length;f++)n[f].apply(a,[t])}}}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(5),a=P(0),s=P(1),l=P(4);(function(){y.create=function(u){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},u)},y.setModified=function(u,d,n,t){if(u.isModified=d,d&&u.cache&&(u.cache.allBodies=null,u.cache.allConstraints=null,u.cache.allComposites=null),n&&u.parent&&y.setModified(u.parent,d,n,t),t)for(var r=0;r<u.composites.length;r++){var i=u.composites[r];y.setModified(i,d,n,t)}},y.add=function(u,d){var n=[].concat(d);c.trigger(u,"beforeAdd",{object:d});for(var t=0;t<n.length;t++){var r=n[t];switch(r.type){case"body":if(r.parent!==r){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}y.addBody(u,r);break;case"constraint":y.addConstraint(u,r);break;case"composite":y.addComposite(u,r);break;case"mouseConstraint":y.addConstraint(u,r.constraint);break}}return c.trigger(u,"afterAdd",{object:d}),u},y.remove=function(u,d,n){var t=[].concat(d);c.trigger(u,"beforeRemove",{object:d});for(var r=0;r<t.length;r++){var i=t[r];switch(i.type){case"body":y.removeBody(u,i,n);break;case"constraint":y.removeConstraint(u,i,n);break;case"composite":y.removeComposite(u,i,n);break;case"mouseConstraint":y.removeConstraint(u,i.constraint);break}}return c.trigger(u,"afterRemove",{object:d}),u},y.addComposite=function(u,d){return u.composites.push(d),d.parent=u,y.setModified(u,!0,!0,!1),u},y.removeComposite=function(u,d,n){var t=a.indexOf(u.composites,d);if(t!==-1&&y.removeCompositeAt(u,t),n)for(var r=0;r<u.composites.length;r++)y.removeComposite(u.composites[r],d,!0);return u},y.removeCompositeAt=function(u,d){return u.composites.splice(d,1),y.setModified(u,!0,!0,!1),u},y.addBody=function(u,d){return u.bodies.push(d),y.setModified(u,!0,!0,!1),u},y.removeBody=function(u,d,n){var t=a.indexOf(u.bodies,d);if(t!==-1&&y.removeBodyAt(u,t),n)for(var r=0;r<u.composites.length;r++)y.removeBody(u.composites[r],d,!0);return u},y.removeBodyAt=function(u,d){return u.bodies.splice(d,1),y.setModified(u,!0,!0,!1),u},y.addConstraint=function(u,d){return u.constraints.push(d),y.setModified(u,!0,!0,!1),u},y.removeConstraint=function(u,d,n){var t=a.indexOf(u.constraints,d);if(t!==-1&&y.removeConstraintAt(u,t),n)for(var r=0;r<u.composites.length;r++)y.removeConstraint(u.composites[r],d,!0);return u},y.removeConstraintAt=function(u,d){return u.constraints.splice(d,1),y.setModified(u,!0,!0,!1),u},y.clear=function(u,d,n){if(n)for(var t=0;t<u.composites.length;t++)y.clear(u.composites[t],d,!0);return d?u.bodies=u.bodies.filter(function(r){return r.isStatic}):u.bodies.length=0,u.constraints.length=0,u.composites.length=0,y.setModified(u,!0,!0,!1),u},y.allBodies=function(u){if(u.cache&&u.cache.allBodies)return u.cache.allBodies;for(var d=[].concat(u.bodies),n=0;n<u.composites.length;n++)d=d.concat(y.allBodies(u.composites[n]));return u.cache&&(u.cache.allBodies=d),d},y.allConstraints=function(u){if(u.cache&&u.cache.allConstraints)return u.cache.allConstraints;for(var d=[].concat(u.constraints),n=0;n<u.composites.length;n++)d=d.concat(y.allConstraints(u.composites[n]));return u.cache&&(u.cache.allConstraints=d),d},y.allComposites=function(u){if(u.cache&&u.cache.allComposites)return u.cache.allComposites;for(var d=[].concat(u.composites),n=0;n<u.composites.length;n++)d=d.concat(y.allComposites(u.composites[n]));return u.cache&&(u.cache.allComposites=d),d},y.get=function(u,d,n){var t,r;switch(n){case"body":t=y.allBodies(u);break;case"constraint":t=y.allConstraints(u);break;case"composite":t=y.allComposites(u).concat(u);break}return t?(r=t.filter(function(i){return i.id.toString()===d.toString()}),r.length===0?null:r[0]):null},y.move=function(u,d,n){return y.remove(u,d),y.add(n,d),u},y.rebase=function(u){for(var d=y.allBodies(u).concat(y.allConstraints(u)).concat(y.allComposites(u)),n=0;n<d.length;n++)d[n].id=a.nextId();return u},y.translate=function(u,d,n){for(var t=n?y.allBodies(u):u.bodies,r=0;r<t.length;r++)l.translate(t[r],d);return u},y.rotate=function(u,d,n,t){for(var r=Math.cos(d),i=Math.sin(d),f=t?y.allBodies(u):u.bodies,h=0;h<f.length;h++){var g=f[h],v=g.position.x-n.x,b=g.position.y-n.y;l.setPosition(g,{x:n.x+(v*r-b*i),y:n.y+(v*i+b*r)}),l.rotate(g,d)}return u},y.scale=function(u,d,n,t,r){for(var i=r?y.allBodies(u):u.bodies,f=0;f<i.length;f++){var h=i[f],g=h.position.x-t.x,v=h.position.y-t.y;l.setPosition(h,{x:t.x+g*d,y:t.y+v*n}),l.scale(h,d,n)}return u},y.bounds=function(u){for(var d=y.allBodies(u),n=[],t=0;t<d.length;t+=1){var r=d[t];n.push(r.bounds.min,r.bounds.max)}return s.create(n)}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(4),a=P(5),s=P(0);(function(){y._motionWakeThreshold=.18,y._motionSleepThreshold=.08,y._minBias=.9,y.update=function(l,u){for(var d=u/s._baseDelta,n=y._motionSleepThreshold,t=0;t<l.length;t++){var r=l[t],i=c.getSpeed(r),f=c.getAngularSpeed(r),h=i*i+f*f;if(r.force.x!==0||r.force.y!==0){y.set(r,!1);continue}var g=Math.min(r.motion,h),v=Math.max(r.motion,h);r.motion=y._minBias*g+(1-y._minBias)*v,r.sleepThreshold>0&&r.motion<n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold/d&&y.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},y.afterCollisions=function(l){for(var u=y._motionSleepThreshold,d=0;d<l.length;d++){var n=l[d];if(n.isActive){var t=n.collision,r=t.bodyA.parent,i=t.bodyB.parent;if(!(r.isSleeping&&i.isSleeping||r.isStatic||i.isStatic)&&(r.isSleeping||i.isSleeping)){var f=r.isSleeping&&!r.isStatic?r:i,h=f===r?i:r;!f.isStatic&&h.motion>u&&y.set(f,!1)}}}},y.set=function(l,u){var d=l.isSleeping;u?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||a.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&a.trigger(l,"sleepEnd"))}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(3),a=P(9);(function(){var s=[],l={overlap:0,axis:null},u={overlap:0,axis:null};y.create=function(d,n){return{pair:null,collided:!1,bodyA:d,bodyB:n,parentA:d.parent,parentB:n.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},y.collides=function(d,n,t){if(y._overlapAxes(l,d.vertices,n.vertices,d.axes),l.overlap<=0||(y._overlapAxes(u,n.vertices,d.vertices,n.axes),u.overlap<=0))return null;var r=t&&t.table[a.id(d,n)],i;r?i=r.collision:(i=y.create(d,n),i.collided=!0,i.bodyA=d.id<n.id?d:n,i.bodyB=d.id<n.id?n:d,i.parentA=i.bodyA.parent,i.parentB=i.bodyB.parent),d=i.bodyA,n=i.bodyB;var f;l.overlap<u.overlap?f=l:f=u;var h=i.normal,g=i.supports,v=f.axis,b=v.x,m=v.y;b*(n.position.x-d.position.x)+m*(n.position.y-d.position.y)<0?(h.x=b,h.y=m):(h.x=-b,h.y=-m),i.tangent.x=-h.y,i.tangent.y=h.x,i.depth=f.overlap,i.penetration.x=h.x*i.depth,i.penetration.y=h.y*i.depth;var w=y._findSupports(d,n,h,1),j=0;if(c.contains(d.vertices,w[0])&&(g[j++]=w[0]),c.contains(d.vertices,w[1])&&(g[j++]=w[1]),j<2){var S=y._findSupports(n,d,h,-1);c.contains(n.vertices,S[0])&&(g[j++]=S[0]),j<2&&c.contains(n.vertices,S[1])&&(g[j++]=S[1])}return j===0&&(g[j++]=w[0]),g.length=j,i},y._overlapAxes=function(d,n,t,r){var i=n.length,f=t.length,h=n[0].x,g=n[0].y,v=t[0].x,b=t[0].y,m=r.length,w=Number.MAX_VALUE,j=0,S,T,E,C,L,k;for(L=0;L<m;L++){var D=r[L],F=D.x,V=D.y,G=h*F+g*V,H=v*F+b*V,z=G,X=H;for(k=1;k<i;k+=1)C=n[k].x*F+n[k].y*V,C>z?z=C:C<G&&(G=C);for(k=1;k<f;k+=1)C=t[k].x*F+t[k].y*V,C>X?X=C:C<H&&(H=C);if(T=z-H,E=X-G,S=T<E?T:E,S<w&&(w=S,j=L,S<=0))break}d.axis=r[j],d.overlap=w},y._projectToAxis=function(d,n,t){for(var r=n[0].x*t.x+n[0].y*t.y,i=r,f=1;f<n.length;f+=1){var h=n[f].x*t.x+n[f].y*t.y;h>i?i=h:h<r&&(r=h)}d.min=r,d.max=i},y._findSupports=function(d,n,t,r){var i=n.vertices,f=i.length,h=d.position.x,g=d.position.y,v=t.x*r,b=t.y*r,m=Number.MAX_VALUE,w,j,S,T,E;for(E=0;E<f;E+=1)j=i[E],T=v*(h-j.x)+b*(g-j.y),T<m&&(m=T,w=j);return S=i[(f+w.index-1)%f],m=v*(h-S.x)+b*(g-S.y),j=i[(w.index+1)%f],v*(h-j.x)+b*(g-j.y)<m?(s[0]=w,s[1]=j,s):(s[0]=w,s[1]=S,s)}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(16);(function(){y.create=function(a,s){var l=a.bodyA,u=a.bodyB,d={id:y.id(l,u),bodyA:l,bodyB:u,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:l.isSensor||u.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return y.update(d,a,s),d},y.update=function(a,s,l){var u=a.contacts,d=s.supports,n=a.activeContacts,t=s.parentA,r=s.parentB,i=t.vertices.length;a.isActive=!0,a.timeUpdated=l,a.collision=s,a.separation=s.depth,a.inverseMass=t.inverseMass+r.inverseMass,a.friction=t.friction<r.friction?t.friction:r.friction,a.frictionStatic=t.frictionStatic>r.frictionStatic?t.frictionStatic:r.frictionStatic,a.restitution=t.restitution>r.restitution?t.restitution:r.restitution,a.slop=t.slop>r.slop?t.slop:r.slop,s.pair=a,n.length=0;for(var f=0;f<d.length;f++){var h=d[f],g=h.body===t?h.index:i+h.index,v=u[g];v?n.push(v):n.push(u[g]=c.create(h))}},y.setActive=function(a,s,l){s?(a.isActive=!0,a.timeUpdated=l):(a.isActive=!1,a.activeContacts.length=0)},y.id=function(a,s){return a.id<s.id?"A"+a.id+"B"+s.id:"A"+s.id+"B"+a.id}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(3),a=P(2),s=P(7),l=P(1),u=P(11),d=P(0);(function(){y._warming=.4,y._torqueDampen=1,y._minLength=1e-6,y.create=function(n){var t=n;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var r=t.bodyA?a.add(t.bodyA.position,t.pointA):t.pointA,i=t.bodyB?a.add(t.bodyB.position,t.pointB):t.pointB,f=a.magnitude(a.sub(r,i));t.length=typeof t.length<"u"?t.length:f,t.id=t.id||d.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var h={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(h.type="pin",h.anchors=!1):t.stiffness<.9&&(h.type="spring"),t.render=d.extend(h,t.render),t},y.preSolveAll=function(n){for(var t=0;t<n.length;t+=1){var r=n[t],i=r.constraintImpulse;r.isStatic||i.x===0&&i.y===0&&i.angle===0||(r.position.x+=i.x,r.position.y+=i.y,r.angle+=i.angle)}},y.solveAll=function(n,t){for(var r=d.clamp(t/d._baseDelta,0,1),i=0;i<n.length;i+=1){var f=n[i],h=!f.bodyA||f.bodyA&&f.bodyA.isStatic,g=!f.bodyB||f.bodyB&&f.bodyB.isStatic;(h||g)&&y.solve(n[i],r)}for(i=0;i<n.length;i+=1)f=n[i],h=!f.bodyA||f.bodyA&&f.bodyA.isStatic,g=!f.bodyB||f.bodyB&&f.bodyB.isStatic,!h&&!g&&y.solve(n[i],r)},y.solve=function(n,t){var r=n.bodyA,i=n.bodyB,f=n.pointA,h=n.pointB;if(!(!r&&!i)){r&&!r.isStatic&&(a.rotate(f,r.angle-n.angleA,f),n.angleA=r.angle),i&&!i.isStatic&&(a.rotate(h,i.angle-n.angleB,h),n.angleB=i.angle);var g=f,v=h;if(r&&(g=a.add(r.position,f)),i&&(v=a.add(i.position,h)),!(!g||!v)){var b=a.sub(g,v),m=a.magnitude(b);m<y._minLength&&(m=y._minLength);var w=(m-n.length)/m,j=n.stiffness>=1||n.length===0,S=j?n.stiffness*t:n.stiffness*t*t,T=n.damping*t,E=a.mult(b,w*S),C=(r?r.inverseMass:0)+(i?i.inverseMass:0),L=(r?r.inverseInertia:0)+(i?i.inverseInertia:0),k=C+L,D,F,V,G,H;if(T>0){var z=a.create();V=a.div(b,m),H=a.sub(i&&a.sub(i.position,i.positionPrev)||z,r&&a.sub(r.position,r.positionPrev)||z),G=a.dot(V,H)}r&&!r.isStatic&&(F=r.inverseMass/C,r.constraintImpulse.x-=E.x*F,r.constraintImpulse.y-=E.y*F,r.position.x-=E.x*F,r.position.y-=E.y*F,T>0&&(r.positionPrev.x-=T*V.x*G*F,r.positionPrev.y-=T*V.y*G*F),D=a.cross(f,E)/k*y._torqueDampen*r.inverseInertia*(1-n.angularStiffness),r.constraintImpulse.angle-=D,r.angle-=D),i&&!i.isStatic&&(F=i.inverseMass/C,i.constraintImpulse.x+=E.x*F,i.constraintImpulse.y+=E.y*F,i.position.x+=E.x*F,i.position.y+=E.y*F,T>0&&(i.positionPrev.x+=T*V.x*G*F,i.positionPrev.y+=T*V.y*G*F),D=a.cross(h,E)/k*y._torqueDampen*i.inverseInertia*(1-n.angularStiffness),i.constraintImpulse.angle+=D,i.angle+=D)}}},y.postSolveAll=function(n){for(var t=0;t<n.length;t++){var r=n[t],i=r.constraintImpulse;if(!(r.isStatic||i.x===0&&i.y===0&&i.angle===0)){s.set(r,!1);for(var f=0;f<r.parts.length;f++){var h=r.parts[f];c.translate(h.vertices,i),f>0&&(h.position.x+=i.x,h.position.y+=i.y),i.angle!==0&&(c.rotate(h.vertices,i.angle,r.position),u.rotate(h.axes,i.angle),f>0&&a.rotateAbout(h.position,i.angle,r.position,h.position)),l.update(h.bounds,h.vertices,r.velocity)}i.angle*=y._warming,i.x*=y._warming,i.y*=y._warming}}},y.pointAWorld=function(n){return{x:(n.bodyA?n.bodyA.position.x:0)+(n.pointA?n.pointA.x:0),y:(n.bodyA?n.bodyA.position.y:0)+(n.pointA?n.pointA.y:0)}},y.pointBWorld=function(n){return{x:(n.bodyB?n.bodyB.position.x:0)+(n.pointB?n.pointB.x:0),y:(n.bodyB?n.bodyB.position.y:0)+(n.pointB?n.pointB.y:0)}}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(2),a=P(0);(function(){y.fromVertices=function(s){for(var l={},u=0;u<s.length;u++){var d=(u+1)%s.length,n=c.normalise({x:s[d].y-s[u].y,y:s[u].x-s[d].x}),t=n.y===0?1/0:n.x/n.y;t=t.toFixed(3).toString(),l[t]=n}return a.values(l)},y.rotate=function(s,l){if(l!==0)for(var u=Math.cos(l),d=Math.sin(l),n=0;n<s.length;n++){var t=s[n],r;r=t.x*u-t.y*d,t.y=t.x*d+t.y*u,t.x=r}}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(3),a=P(0),s=P(4),l=P(1),u=P(2);(function(){y.rectangle=function(d,n,t,r,i){i=i||{};var f={label:"Rectangle Body",position:{x:d,y:n},vertices:c.fromPath("L 0 0 L "+t+" 0 L "+t+" "+r+" L 0 "+r)};if(i.chamfer){var h=i.chamfer;f.vertices=c.chamfer(f.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete i.chamfer}return s.create(a.extend({},f,i))},y.trapezoid=function(d,n,t,r,i,f){f=f||{},i*=.5;var h=(1-i*2)*t,g=t*i,v=g+h,b=v+g,m;i<.5?m="L 0 0 L "+g+" "+-r+" L "+v+" "+-r+" L "+b+" 0":m="L 0 0 L "+v+" "+-r+" L "+b+" 0";var w={label:"Trapezoid Body",position:{x:d,y:n},vertices:c.fromPath(m)};if(f.chamfer){var j=f.chamfer;w.vertices=c.chamfer(w.vertices,j.radius,j.quality,j.qualityMin,j.qualityMax),delete f.chamfer}return s.create(a.extend({},w,f))},y.circle=function(d,n,t,r,i){r=r||{};var f={label:"Circle Body",circleRadius:t};i=i||25;var h=Math.ceil(Math.max(10,Math.min(i,t)));return h%2===1&&(h+=1),y.polygon(d,n,h,t,a.extend({},f,r))},y.polygon=function(d,n,t,r,i){if(i=i||{},t<3)return y.circle(d,n,r,i);for(var f=2*Math.PI/t,h="",g=f*.5,v=0;v<t;v+=1){var b=g+v*f,m=Math.cos(b)*r,w=Math.sin(b)*r;h+="L "+m.toFixed(3)+" "+w.toFixed(3)+" "}var j={label:"Polygon Body",position:{x:d,y:n},vertices:c.fromPath(h)};if(i.chamfer){var S=i.chamfer;j.vertices=c.chamfer(j.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete i.chamfer}return s.create(a.extend({},j,i))},y.fromVertices=function(d,n,t,r,i,f,h,g){var v=a.getDecomp(),b,m,w,j,S,T,E,C,L,k,D;for(b=!!(v&&v.quickDecomp),r=r||{},w=[],i=typeof i<"u"?i:!1,f=typeof f<"u"?f:.01,h=typeof h<"u"?h:10,g=typeof g<"u"?g:.01,a.isArray(t[0])||(t=[t]),k=0;k<t.length;k+=1)if(T=t[k],j=c.isConvex(T),S=!j,S&&!b&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),j||!b)j?T=c.clockwiseSort(T):T=c.hull(T),w.push({position:{x:d,y:n},vertices:T});else{var F=T.map(function(W){return[W.x,W.y]});v.makeCCW(F),f!==!1&&v.removeCollinearPoints(F,f),g!==!1&&v.removeDuplicatePoints&&v.removeDuplicatePoints(F,g);var V=v.quickDecomp(F);for(E=0;E<V.length;E++){var G=V[E],H=G.map(function(W){return{x:W[0],y:W[1]}});h>0&&c.area(H)<h||w.push({position:c.centre(H),vertices:H})}}for(E=0;E<w.length;E++)w[E]=s.create(a.extend(w[E],r));if(i){var z=5;for(E=0;E<w.length;E++){var X=w[E];for(C=E+1;C<w.length;C++){var Y=w[C];if(l.overlaps(X.bounds,Y.bounds)){var ee=X.vertices,O=Y.vertices;for(L=0;L<X.vertices.length;L++)for(D=0;D<Y.vertices.length;D++){var R=u.magnitudeSquared(u.sub(ee[(L+1)%ee.length],O[D])),B=u.magnitudeSquared(u.sub(ee[L],O[(D+1)%O.length]));R<z&&B<z&&(ee[L].isInternal=!0,O[D].isInternal=!0)}}}}}return w.length>1?(m=s.create(a.extend({parts:w.slice(0)},r)),s.setPosition(m,{x:d,y:n}),m):w[0]}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(0),a=P(8);(function(){y.create=function(s){var l={bodies:[],pairs:null};return c.extend(l,s)},y.setBodies=function(s,l){s.bodies=l.slice(0)},y.clear=function(s){s.bodies=[]},y.collisions=function(s){var l=[],u=s.pairs,d=s.bodies,n=d.length,t=y.canCollide,r=a.collides,i,f;for(d.sort(y._compareBoundsX),i=0;i<n;i++){var h=d[i],g=h.bounds,v=h.bounds.max.x,b=h.bounds.max.y,m=h.bounds.min.y,w=h.isStatic||h.isSleeping,j=h.parts.length,S=j===1;for(f=i+1;f<n;f++){var T=d[f],E=T.bounds;if(E.min.x>v)break;if(!(b<E.min.y||m>E.max.y)&&!(w&&(T.isStatic||T.isSleeping))&&t(h.collisionFilter,T.collisionFilter)){var C=T.parts.length;if(S&&C===1){var L=r(h,T,u);L&&l.push(L)}else for(var k=j>1?1:0,D=C>1?1:0,F=k;F<j;F++)for(var V=h.parts[F],g=V.bounds,G=D;G<C;G++){var H=T.parts[G],E=H.bounds;if(!(g.min.x>E.max.x||g.max.x<E.min.x||g.max.y<E.min.y||g.min.y>E.max.y)){var L=r(V,H,u);L&&l.push(L)}}}}}return l},y.canCollide=function(s,l){return s.group===l.group&&s.group!==0?s.group>0:(s.mask&l.category)!==0&&(l.mask&s.category)!==0},y._compareBoundsX=function(s,l){return s.bounds.min.x-l.bounds.min.x}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(0);(function(){y.create=function(a){var s={};return a||c.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=a||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(l){var u=y._getRelativeMousePosition(l,s.element,s.pixelRatio),d=l.changedTouches;d&&(s.button=0,l.preventDefault()),s.absolute.x=u.x,s.absolute.y=u.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=l},s.mousedown=function(l){var u=y._getRelativeMousePosition(l,s.element,s.pixelRatio),d=l.changedTouches;d?(s.button=0,l.preventDefault()):s.button=l.button,s.absolute.x=u.x,s.absolute.y=u.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=l},s.mouseup=function(l){var u=y._getRelativeMousePosition(l,s.element,s.pixelRatio),d=l.changedTouches;d&&l.preventDefault(),s.button=-1,s.absolute.x=u.x,s.absolute.y=u.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=l},s.mousewheel=function(l){s.wheelDelta=Math.max(-1,Math.min(1,l.wheelDelta||-l.detail)),l.preventDefault()},y.setElement(s,s.element),s},y.setElement=function(a,s){a.element=s,s.addEventListener("mousemove",a.mousemove),s.addEventListener("mousedown",a.mousedown),s.addEventListener("mouseup",a.mouseup),s.addEventListener("mousewheel",a.mousewheel),s.addEventListener("DOMMouseScroll",a.mousewheel),s.addEventListener("touchmove",a.mousemove),s.addEventListener("touchstart",a.mousedown),s.addEventListener("touchend",a.mouseup)},y.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},y.setOffset=function(a,s){a.offset.x=s.x,a.offset.y=s.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},y.setScale=function(a,s){a.scale.x=s.x,a.scale.y=s.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},y._getRelativeMousePosition=function(a,s,l){var u=s.getBoundingClientRect(),d=document.documentElement||document.body.parentNode||document.body,n=window.pageXOffset!==void 0?window.pageXOffset:d.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:d.scrollTop,r=a.changedTouches,i,f;return r?(i=r[0].pageX-u.left-n,f=r[0].pageY-u.top-t):(i=a.pageX-u.left-n,f=a.pageY-u.top-t),{x:i/(s.clientWidth/(s.width||s.clientWidth)*l),y:f/(s.clientHeight/(s.height||s.clientHeight)*l)}}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(0);(function(){y._registry={},y.register=function(a){if(y.isPlugin(a)||c.warn("Plugin.register:",y.toString(a),"does not implement all required fields."),a.name in y._registry){var s=y._registry[a.name],l=y.versionParse(a.version).number,u=y.versionParse(s.version).number;l>u?(c.warn("Plugin.register:",y.toString(s),"was upgraded to",y.toString(a)),y._registry[a.name]=a):l<u?c.warn("Plugin.register:",y.toString(s),"can not be downgraded to",y.toString(a)):a!==s&&c.warn("Plugin.register:",y.toString(a),"is already registered to different plugin object")}else y._registry[a.name]=a;return a},y.resolve=function(a){return y._registry[y.dependencyParse(a).name]},y.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},y.isPlugin=function(a){return a&&a.name&&a.version&&a.install},y.isUsed=function(a,s){return a.used.indexOf(s)>-1},y.isFor=function(a,s){var l=a.for&&y.dependencyParse(a.for);return!a.for||s.name===l.name&&y.versionSatisfies(s.version,l.range)},y.use=function(a,s){if(a.uses=(a.uses||[]).concat(s||[]),a.uses.length===0){c.warn("Plugin.use:",y.toString(a),"does not specify any dependencies to install.");return}for(var l=y.dependencies(a),u=c.topologicalSort(l),d=[],n=0;n<u.length;n+=1)if(u[n]!==a.name){var t=y.resolve(u[n]);if(!t){d.push(" "+u[n]);continue}y.isUsed(a,t.name)||(y.isFor(t,a)||(c.warn("Plugin.use:",y.toString(t),"is for",t.for,"but installed on",y.toString(a)+"."),t._warned=!0),t.install?t.install(a):(c.warn("Plugin.use:",y.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(d.push(" "+y.toString(t)),delete t._warned):d.push(" "+y.toString(t)),a.used.push(t.name))}d.length>0&&c.info(d.join("  "))},y.dependencies=function(a,s){var l=y.dependencyParse(a),u=l.name;if(s=s||{},!(u in s)){a=y.resolve(a)||a,s[u]=c.map(a.uses||[],function(n){y.isPlugin(n)&&y.register(n);var t=y.dependencyParse(n),r=y.resolve(n);return r&&!y.versionSatisfies(r.version,t.range)?(c.warn("Plugin.dependencies:",y.toString(r),"does not satisfy",y.toString(t),"used by",y.toString(l)+"."),r._warned=!0,a._warned=!0):r||(c.warn("Plugin.dependencies:",y.toString(n),"used by",y.toString(l),"could not be resolved."),a._warned=!0),t.name});for(var d=0;d<s[u].length;d+=1)y.dependencies(s[u][d],s);return s}},y.dependencyParse=function(a){if(c.isString(a)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(a)||c.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},y.versionParse=function(a){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(a)||c.warn("Plugin.versionParse:",a,"is not a valid version or range.");var l=s.exec(a),u=Number(l[4]),d=Number(l[5]),n=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:a,operator:l[1]||l[2]||"",major:u,minor:d,patch:n,parts:[u,d,n],prerelease:l[7],number:u*1e8+d*1e4+n}},y.versionSatisfies=function(a,s){s=s||"*";var l=y.versionParse(s),u=y.versionParse(a);if(l.isRange){if(l.operator==="*"||a==="*")return!0;if(l.operator===">")return u.number>l.number;if(l.operator===">=")return u.number>=l.number;if(l.operator==="~")return u.major===l.major&&u.minor===l.minor&&u.patch>=l.patch;if(l.operator==="^")return l.major>0?u.major===l.major&&u.number>=l.number:l.minor>0?u.minor===l.minor&&u.patch>=l.patch:u.patch===l.patch}return a===s||a==="*"}})()},function(Le,o){var P={};Le.exports=P,function(){P.create=function(y){return{vertex:y,normalImpulse:0,tangentImpulse:0}}}()},function(Le,o,P){var y={};Le.exports=y;var c=P(7),a=P(18),s=P(13),l=P(19),u=P(5),d=P(6),n=P(10),t=P(0),r=P(4);(function(){y.create=function(i){i=i||{};var f={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},h=t.extend(f,i);return h.world=i.world||d.create({label:"World"}),h.pairs=i.pairs||l.create(),h.detector=i.detector||s.create(),h.grid={buckets:[]},h.world.gravity=h.gravity,h.broadphase=h.grid,h.metrics={},h},y.update=function(i,f){var h=t.now(),g=i.world,v=i.detector,b=i.pairs,m=i.timing,w=m.timestamp,j;f=typeof f<"u"?f:t._baseDelta,f*=m.timeScale,m.timestamp+=f,m.lastDelta=f;var S={timestamp:m.timestamp,delta:f};u.trigger(i,"beforeUpdate",S);var T=d.allBodies(g),E=d.allConstraints(g);for(g.isModified&&(s.setBodies(v,T),d.setModified(g,!1,!1,!0)),i.enableSleeping&&c.update(T,f),y._bodiesApplyGravity(T,i.gravity),f>0&&y._bodiesUpdate(T,f),n.preSolveAll(T),j=0;j<i.constraintIterations;j++)n.solveAll(E,f);n.postSolveAll(T),v.pairs=i.pairs;var C=s.collisions(v);l.update(b,C,w),i.enableSleeping&&c.afterCollisions(b.list),b.collisionStart.length>0&&u.trigger(i,"collisionStart",{pairs:b.collisionStart});var L=t.clamp(20/i.positionIterations,0,1);for(a.preSolvePosition(b.list),j=0;j<i.positionIterations;j++)a.solvePosition(b.list,f,L);for(a.postSolvePosition(T),n.preSolveAll(T),j=0;j<i.constraintIterations;j++)n.solveAll(E,f);for(n.postSolveAll(T),a.preSolveVelocity(b.list),j=0;j<i.velocityIterations;j++)a.solveVelocity(b.list,f);return y._bodiesUpdateVelocities(T),b.collisionActive.length>0&&u.trigger(i,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&u.trigger(i,"collisionEnd",{pairs:b.collisionEnd}),y._bodiesClearForces(T),u.trigger(i,"afterUpdate",S),i.timing.lastElapsed=t.now()-h,i},y.merge=function(i,f){if(t.extend(i,f),f.world){i.world=f.world,y.clear(i);for(var h=d.allBodies(i.world),g=0;g<h.length;g++){var v=h[g];c.set(v,!1),v.id=t.nextId()}}},y.clear=function(i){l.clear(i.pairs),s.clear(i.detector)},y._bodiesClearForces=function(i){for(var f=i.length,h=0;h<f;h++){var g=i[h];g.force.x=0,g.force.y=0,g.torque=0}},y._bodiesApplyGravity=function(i,f){var h=typeof f.scale<"u"?f.scale:.001,g=i.length;if(!(f.x===0&&f.y===0||h===0))for(var v=0;v<g;v++){var b=i[v];b.isStatic||b.isSleeping||(b.force.y+=b.mass*f.y*h,b.force.x+=b.mass*f.x*h)}},y._bodiesUpdate=function(i,f){for(var h=i.length,g=0;g<h;g++){var v=i[g];v.isStatic||v.isSleeping||r.update(v,f)}},y._bodiesUpdateVelocities=function(i){for(var f=i.length,h=0;h<f;h++)r.updateVelocities(i[h])}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(3),a=P(0),s=P(1);(function(){y._restingThresh=2,y._restingThreshTangent=Math.sqrt(6),y._positionDampen=.9,y._positionWarming=.8,y._frictionNormalMultiplier=5,y._frictionMaxStatic=Number.MAX_VALUE,y.preSolvePosition=function(l){var u,d,n,t=l.length;for(u=0;u<t;u++)d=l[u],d.isActive&&(n=d.activeContacts.length,d.collision.parentA.totalContacts+=n,d.collision.parentB.totalContacts+=n)},y.solvePosition=function(l,u,d){var n,t,r,i,f,h,g,v,b=y._positionDampen*(d||1),m=a.clamp(u/a._baseDelta,0,1),w=l.length;for(n=0;n<w;n++)t=l[n],!(!t.isActive||t.isSensor)&&(r=t.collision,i=r.parentA,f=r.parentB,h=r.normal,t.separation=h.x*(f.positionImpulse.x+r.penetration.x-i.positionImpulse.x)+h.y*(f.positionImpulse.y+r.penetration.y-i.positionImpulse.y));for(n=0;n<w;n++)t=l[n],!(!t.isActive||t.isSensor)&&(r=t.collision,i=r.parentA,f=r.parentB,h=r.normal,v=t.separation-t.slop*m,(i.isStatic||f.isStatic)&&(v*=2),i.isStatic||i.isSleeping||(g=b/i.totalContacts,i.positionImpulse.x+=h.x*v*g,i.positionImpulse.y+=h.y*v*g),f.isStatic||f.isSleeping||(g=b/f.totalContacts,f.positionImpulse.x-=h.x*v*g,f.positionImpulse.y-=h.y*v*g))},y.postSolvePosition=function(l){for(var u=y._positionWarming,d=l.length,n=c.translate,t=s.update,r=0;r<d;r++){var i=l[r],f=i.positionImpulse,h=f.x,g=f.y,v=i.velocity;if(i.totalContacts=0,h!==0||g!==0){for(var b=0;b<i.parts.length;b++){var m=i.parts[b];n(m.vertices,f),t(m.bounds,m.vertices,v),m.position.x+=h,m.position.y+=g}i.positionPrev.x+=h,i.positionPrev.y+=g,h*v.x+g*v.y<0?(f.x=0,f.y=0):(f.x*=u,f.y*=u)}}},y.preSolveVelocity=function(l){var u=l.length,d,n;for(d=0;d<u;d++){var t=l[d];if(!(!t.isActive||t.isSensor)){var r=t.activeContacts,i=r.length,f=t.collision,h=f.parentA,g=f.parentB,v=f.normal,b=f.tangent;for(n=0;n<i;n++){var m=r[n],w=m.vertex,j=m.normalImpulse,S=m.tangentImpulse;if(j!==0||S!==0){var T=v.x*j+b.x*S,E=v.y*j+b.y*S;h.isStatic||h.isSleeping||(h.positionPrev.x+=T*h.inverseMass,h.positionPrev.y+=E*h.inverseMass,h.anglePrev+=h.inverseInertia*((w.x-h.position.x)*E-(w.y-h.position.y)*T)),g.isStatic||g.isSleeping||(g.positionPrev.x-=T*g.inverseMass,g.positionPrev.y-=E*g.inverseMass,g.anglePrev-=g.inverseInertia*((w.x-g.position.x)*E-(w.y-g.position.y)*T))}}}}},y.solveVelocity=function(l,u){var d=u/a._baseDelta,n=d*d,t=n*d,r=-y._restingThresh*d,i=y._restingThreshTangent,f=y._frictionNormalMultiplier*d,h=y._frictionMaxStatic,g=l.length,v,b,m,w;for(m=0;m<g;m++){var j=l[m];if(!(!j.isActive||j.isSensor)){var S=j.collision,T=S.parentA,E=S.parentB,C=T.velocity,L=E.velocity,k=S.normal.x,D=S.normal.y,F=S.tangent.x,V=S.tangent.y,G=j.activeContacts,H=G.length,z=1/H,X=T.inverseMass+E.inverseMass,Y=j.friction*j.frictionStatic*f;for(C.x=T.position.x-T.positionPrev.x,C.y=T.position.y-T.positionPrev.y,L.x=E.position.x-E.positionPrev.x,L.y=E.position.y-E.positionPrev.y,T.angularVelocity=T.angle-T.anglePrev,E.angularVelocity=E.angle-E.anglePrev,w=0;w<H;w++){var ee=G[w],O=ee.vertex,R=O.x-T.position.x,B=O.y-T.position.y,W=O.x-E.position.x,K=O.y-E.position.y,ne=C.x-B*T.angularVelocity,ie=C.y+R*T.angularVelocity,ce=L.x-K*E.angularVelocity,oe=L.y+W*E.angularVelocity,se=ne-ce,me=ie-oe,J=k*se+D*me,ue=F*se+V*me,pe=j.separation+J,ye=Math.min(pe,1);ye=pe<0?0:ye;var de=ye*Y;ue<-de||ue>de?(b=ue>0?ue:-ue,v=j.friction*(ue>0?1:-1)*t,v<-b?v=-b:v>b&&(v=b)):(v=ue,b=h);var Ce=R*D-B*k,Te=W*D-K*k,Ae=z/(X+T.inverseInertia*Ce*Ce+E.inverseInertia*Te*Te),Se=(1+j.restitution)*J*Ae;if(v*=Ae,J<r)ee.normalImpulse=0;else{var Ge=ee.normalImpulse;ee.normalImpulse+=Se,ee.normalImpulse>0&&(ee.normalImpulse=0),Se=ee.normalImpulse-Ge}if(ue<-i||ue>i)ee.tangentImpulse=0;else{var qe=ee.tangentImpulse;ee.tangentImpulse+=v,ee.tangentImpulse<-b&&(ee.tangentImpulse=-b),ee.tangentImpulse>b&&(ee.tangentImpulse=b),v=ee.tangentImpulse-qe}var ze=k*Se+F*v,Qe=D*Se+V*v;T.isStatic||T.isSleeping||(T.positionPrev.x+=ze*T.inverseMass,T.positionPrev.y+=Qe*T.inverseMass,T.anglePrev+=(R*Qe-B*ze)*T.inverseInertia),E.isStatic||E.isSleeping||(E.positionPrev.x-=ze*E.inverseMass,E.positionPrev.y-=Qe*E.inverseMass,E.anglePrev-=(W*Qe-K*ze)*E.inverseInertia)}}}}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(9),a=P(0);(function(){y.create=function(s){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},y.update=function(s,l,u){var d=s.list,n=d.length,t=s.table,r=l.length,i=s.collisionStart,f=s.collisionEnd,h=s.collisionActive,g,v,b,m;for(i.length=0,f.length=0,h.length=0,m=0;m<n;m++)d[m].confirmedActive=!1;for(m=0;m<r;m++)g=l[m],b=g.pair,b?(b.isActive?h.push(b):i.push(b),c.update(b,g,u),b.confirmedActive=!0):(b=c.create(g,u),t[b.id]=b,i.push(b),d.push(b));var w=[];for(n=d.length,m=0;m<n;m++)b=d[m],b.confirmedActive||(c.setActive(b,!1,u),f.push(b),!b.collision.bodyA.isSleeping&&!b.collision.bodyB.isSleeping&&w.push(m));for(m=0;m<w.length;m++)v=w[m]-m,b=d[v],d.splice(v,1),delete t[b.id]},y.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(Le,o,P){var y=Le.exports=P(21);y.Axes=P(11),y.Bodies=P(12),y.Body=P(4),y.Bounds=P(1),y.Collision=P(8),y.Common=P(0),y.Composite=P(6),y.Composites=P(22),y.Constraint=P(10),y.Contact=P(16),y.Detector=P(13),y.Engine=P(17),y.Events=P(5),y.Grid=P(23),y.Mouse=P(14),y.MouseConstraint=P(24),y.Pair=P(9),y.Pairs=P(19),y.Plugin=P(15),y.Query=P(25),y.Render=P(26),y.Resolver=P(18),y.Runner=P(27),y.SAT=P(28),y.Sleeping=P(7),y.Svg=P(29),y.Vector=P(2),y.Vertices=P(3),y.World=P(30),y.Engine.run=y.Runner.run,y.Common.deprecated(y.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(Le,o,P){var y={};Le.exports=y;var c=P(15),a=P(0);(function(){y.name="matter-js",y.version="0.19.0",y.uses=[],y.used=[],y.use=function(){c.use(y,Array.prototype.slice.call(arguments))},y.before=function(s,l){return s=s.replace(/^Matter./,""),a.chainPathBefore(y,s,l)},y.after=function(s,l){return s=s.replace(/^Matter./,""),a.chainPathAfter(y,s,l)}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(6),a=P(10),s=P(0),l=P(4),u=P(12),d=s.deprecated;(function(){y.stack=function(n,t,r,i,f,h,g){for(var v=c.create({label:"Stack"}),b=n,m=t,w,j=0,S=0;S<i;S++){for(var T=0,E=0;E<r;E++){var C=g(b,m,E,S,w,j);if(C){var L=C.bounds.max.y-C.bounds.min.y,k=C.bounds.max.x-C.bounds.min.x;L>T&&(T=L),l.translate(C,{x:k*.5,y:L*.5}),b=C.bounds.max.x+f,c.addBody(v,C),w=C,j+=1}else b+=f}m+=T+h,b=n}return v},y.chain=function(n,t,r,i,f,h){for(var g=n.bodies,v=1;v<g.length;v++){var b=g[v-1],m=g[v],w=b.bounds.max.y-b.bounds.min.y,j=b.bounds.max.x-b.bounds.min.x,S=m.bounds.max.y-m.bounds.min.y,T=m.bounds.max.x-m.bounds.min.x,E={bodyA:b,pointA:{x:j*t,y:w*r},bodyB:m,pointB:{x:T*i,y:S*f}},C=s.extend(E,h);c.addConstraint(n,a.create(C))}return n.label+=" Chain",n},y.mesh=function(n,t,r,i,f){var h=n.bodies,g,v,b,m,w;for(g=0;g<r;g++){for(v=1;v<t;v++)b=h[v-1+g*t],m=h[v+g*t],c.addConstraint(n,a.create(s.extend({bodyA:b,bodyB:m},f)));if(g>0)for(v=0;v<t;v++)b=h[v+(g-1)*t],m=h[v+g*t],c.addConstraint(n,a.create(s.extend({bodyA:b,bodyB:m},f))),i&&v>0&&(w=h[v-1+(g-1)*t],c.addConstraint(n,a.create(s.extend({bodyA:w,bodyB:m},f)))),i&&v<t-1&&(w=h[v+1+(g-1)*t],c.addConstraint(n,a.create(s.extend({bodyA:w,bodyB:m},f))))}return n.label+=" Mesh",n},y.pyramid=function(n,t,r,i,f,h,g){return y.stack(n,t,r,i,f,h,function(v,b,m,w,j,S){var T=Math.min(i,Math.ceil(r/2)),E=j?j.bounds.max.x-j.bounds.min.x:0;if(!(w>T)){w=T-w;var C=w,L=r-1-w;if(!(m<C||m>L)){S===1&&l.translate(j,{x:(m+(r%2===1?1:-1))*E,y:0});var k=j?m*E:0;return g(n+k+m*f,b,m,w,j,S)}}})},y.newtonsCradle=function(n,t,r,i,f){for(var h=c.create({label:"Newtons Cradle"}),g=0;g<r;g++){var v=1.9,b=u.circle(n+g*(i*v),t+f,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=a.create({pointA:{x:n+g*(i*v),y:t},bodyB:b});c.addBody(h,b),c.addConstraint(h,m)}return h},d(y,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),y.car=function(n,t,r,i,f){var h=l.nextGroup(!0),g=20,v=-r*.5+g,b=r*.5-g,m=0,w=c.create({label:"Car"}),j=u.rectangle(n,t,r,i,{collisionFilter:{group:h},chamfer:{radius:i*.5},density:2e-4}),S=u.circle(n+v,t+m,f,{collisionFilter:{group:h},friction:.8}),T=u.circle(n+b,t+m,f,{collisionFilter:{group:h},friction:.8}),E=a.create({bodyB:j,pointB:{x:v,y:m},bodyA:S,stiffness:1,length:0}),C=a.create({bodyB:j,pointB:{x:b,y:m},bodyA:T,stiffness:1,length:0});return c.addBody(w,j),c.addBody(w,S),c.addBody(w,T),c.addConstraint(w,E),c.addConstraint(w,C),w},d(y,"car","Composites.car  moved to car example"),y.softBody=function(n,t,r,i,f,h,g,v,b,m){b=s.extend({inertia:1/0},b),m=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var w=y.stack(n,t,r,i,f,h,function(j,S){return u.circle(j,S,v,b)});return y.mesh(w,r,i,g,m),w.label="Soft Body",w},d(y,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(Le,o,P){var y={};Le.exports=y;var c=P(9),a=P(0),s=a.deprecated;(function(){y.create=function(l){var u={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(u,l)},y.update=function(l,u,d,n){var t,r,i,f=d.world,h=l.buckets,g,v,b=!1;for(t=0;t<u.length;t++){var m=u[t];if(!(m.isSleeping&&!n)&&!(f.bounds&&(m.bounds.max.x<f.bounds.min.x||m.bounds.min.x>f.bounds.max.x||m.bounds.max.y<f.bounds.min.y||m.bounds.min.y>f.bounds.max.y))){var w=y._getRegion(l,m);if(!m.region||w.id!==m.region.id||n){(!m.region||n)&&(m.region=w);var j=y._regionUnion(w,m.region);for(r=j.startCol;r<=j.endCol;r++)for(i=j.startRow;i<=j.endRow;i++){v=y._getBucketId(r,i),g=h[v];var S=r>=w.startCol&&r<=w.endCol&&i>=w.startRow&&i<=w.endRow,T=r>=m.region.startCol&&r<=m.region.endCol&&i>=m.region.startRow&&i<=m.region.endRow;!S&&T&&T&&g&&y._bucketRemoveBody(l,g,m),(m.region===w||S&&!T||n)&&(g||(g=y._createBucket(h,v)),y._bucketAddBody(l,g,m))}m.region=w,b=!0}}}b&&(l.pairsList=y._createActivePairsList(l))},s(y,"update","Grid.update  replaced by Matter.Detector"),y.clear=function(l){l.buckets={},l.pairs={},l.pairsList=[]},s(y,"clear","Grid.clear  replaced by Matter.Detector"),y._regionUnion=function(l,u){var d=Math.min(l.startCol,u.startCol),n=Math.max(l.endCol,u.endCol),t=Math.min(l.startRow,u.startRow),r=Math.max(l.endRow,u.endRow);return y._createRegion(d,n,t,r)},y._getRegion=function(l,u){var d=u.bounds,n=Math.floor(d.min.x/l.bucketWidth),t=Math.floor(d.max.x/l.bucketWidth),r=Math.floor(d.min.y/l.bucketHeight),i=Math.floor(d.max.y/l.bucketHeight);return y._createRegion(n,t,r,i)},y._createRegion=function(l,u,d,n){return{id:l+","+u+","+d+","+n,startCol:l,endCol:u,startRow:d,endRow:n}},y._getBucketId=function(l,u){return"C"+l+"R"+u},y._createBucket=function(l,u){var d=l[u]=[];return d},y._bucketAddBody=function(l,u,d){var n=l.pairs,t=c.id,r=u.length,i;for(i=0;i<r;i++){var f=u[i];if(!(d.id===f.id||d.isStatic&&f.isStatic)){var h=t(d,f),g=n[h];g?g[2]+=1:n[h]=[d,f,1]}}u.push(d)},y._bucketRemoveBody=function(l,u,d){var n=l.pairs,t=c.id,r;u.splice(a.indexOf(u,d),1);var i=u.length;for(r=0;r<i;r++){var f=n[t(d,u[r])];f&&(f[2]-=1)}},y._createActivePairsList=function(l){var u,d=l.pairs,n=a.keys(d),t=n.length,r=[],i;for(i=0;i<t;i++)u=d[n[i]],u[2]>0?r.push(u):delete d[n[i]];return r}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(3),a=P(7),s=P(14),l=P(5),u=P(13),d=P(10),n=P(6),t=P(0),r=P(1);(function(){y.create=function(i,f){var h=(i?i.mouse:null)||(f?f.mouse:null);h||(i&&i.render&&i.render.canvas?h=s.create(i.render.canvas):f&&f.element?h=s.create(f.element):(h=s.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var g=d.create({label:"Mouse Constraint",pointA:h.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),v={type:"mouseConstraint",mouse:h,element:null,body:null,constraint:g,collisionFilter:{category:1,mask:4294967295,group:0}},b=t.extend(v,f);return l.on(i,"beforeUpdate",function(){var m=n.allBodies(i.world);y.update(b,m),y._triggerEvents(b)}),b},y.update=function(i,f){var h=i.mouse,g=i.constraint,v=i.body;if(h.button===0){if(g.bodyB)a.set(g.bodyB,!1),g.pointA=h.position;else for(var b=0;b<f.length;b++)if(v=f[b],r.contains(v.bounds,h.position)&&u.canCollide(v.collisionFilter,i.collisionFilter))for(var m=v.parts.length>1?1:0;m<v.parts.length;m++){var w=v.parts[m];if(c.contains(w.vertices,h.position)){g.pointA=h.position,g.bodyB=i.body=v,g.pointB={x:h.position.x-v.position.x,y:h.position.y-v.position.y},g.angleB=v.angle,a.set(v,!1),l.trigger(i,"startdrag",{mouse:h,body:v});break}}}else g.bodyB=i.body=null,g.pointB=null,v&&l.trigger(i,"enddrag",{mouse:h,body:v})},y._triggerEvents=function(i){var f=i.mouse,h=f.sourceEvents;h.mousemove&&l.trigger(i,"mousemove",{mouse:f}),h.mousedown&&l.trigger(i,"mousedown",{mouse:f}),h.mouseup&&l.trigger(i,"mouseup",{mouse:f}),s.clearSourceEvents(f)}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(2),a=P(8),s=P(1),l=P(12),u=P(3);(function(){y.collides=function(d,n){for(var t=[],r=n.length,i=d.bounds,f=a.collides,h=s.overlaps,g=0;g<r;g++){var v=n[g],b=v.parts.length,m=b===1?0:1;if(h(v.bounds,i))for(var w=m;w<b;w++){var j=v.parts[w];if(h(j.bounds,i)){var S=f(j,d);if(S){t.push(S);break}}}}return t},y.ray=function(d,n,t,r){r=r||1e-100;for(var i=c.angle(n,t),f=c.magnitude(c.sub(n,t)),h=(t.x+n.x)*.5,g=(t.y+n.y)*.5,v=l.rectangle(h,g,f,r,{angle:i}),b=y.collides(v,d),m=0;m<b.length;m+=1){var w=b[m];w.body=w.bodyB=w.bodyA}return b},y.region=function(d,n,t){for(var r=[],i=0;i<d.length;i++){var f=d[i],h=s.overlaps(f.bounds,n);(h&&!t||!h&&t)&&r.push(f)}return r},y.point=function(d,n){for(var t=[],r=0;r<d.length;r++){var i=d[r];if(s.contains(i.bounds,n))for(var f=i.parts.length===1?0:1;f<i.parts.length;f++){var h=i.parts[f];if(s.contains(h.bounds,n)&&u.contains(h.vertices,n)){t.push(i);break}}}return t}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(4),a=P(0),s=P(6),l=P(1),u=P(5),d=P(2),n=P(14);(function(){var t,r;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(a.now())},1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),y._goodFps=30,y._goodDelta=1e3/60,y.create=function(m){var w={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},j=a.extend(w,m);return j.canvas&&(j.canvas.width=j.options.width||j.canvas.width,j.canvas.height=j.options.height||j.canvas.height),j.mouse=m.mouse,j.engine=m.engine,j.canvas=j.canvas||h(j.options.width,j.options.height),j.context=j.canvas.getContext("2d"),j.textures={},j.bounds=j.bounds||{min:{x:0,y:0},max:{x:j.canvas.width,y:j.canvas.height}},j.controller=y,j.options.showBroadphase=!1,j.options.pixelRatio!==1&&y.setPixelRatio(j,j.options.pixelRatio),a.isElement(j.element)&&j.element.appendChild(j.canvas),j},y.run=function(m){(function w(j){m.frameRequestId=t(w),i(m,j),y.world(m,j),(m.options.showStats||m.options.showDebug)&&y.stats(m,m.context,j),(m.options.showPerformance||m.options.showDebug)&&y.performance(m,m.context,j)})()},y.stop=function(m){r(m.frameRequestId)},y.setPixelRatio=function(m,w){var j=m.options,S=m.canvas;w==="auto"&&(w=g(S)),j.pixelRatio=w,S.setAttribute("data-pixel-ratio",w),S.width=j.width*w,S.height=j.height*w,S.style.width=j.width+"px",S.style.height=j.height+"px"},y.lookAt=function(m,w,j,S){S=typeof S<"u"?S:!0,w=a.isArray(w)?w:[w],j=j||{x:0,y:0};for(var T={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},E=0;E<w.length;E+=1){var C=w[E],L=C.bounds?C.bounds.min:C.min||C.position||C,k=C.bounds?C.bounds.max:C.max||C.position||C;L&&k&&(L.x<T.min.x&&(T.min.x=L.x),k.x>T.max.x&&(T.max.x=k.x),L.y<T.min.y&&(T.min.y=L.y),k.y>T.max.y&&(T.max.y=k.y))}var D=T.max.x-T.min.x+2*j.x,F=T.max.y-T.min.y+2*j.y,V=m.canvas.height,G=m.canvas.width,H=G/V,z=D/F,X=1,Y=1;z>H?Y=z/H:X=H/z,m.options.hasBounds=!0,m.bounds.min.x=T.min.x,m.bounds.max.x=T.min.x+D*X,m.bounds.min.y=T.min.y,m.bounds.max.y=T.min.y+F*Y,S&&(m.bounds.min.x+=D*.5-D*X*.5,m.bounds.max.x+=D*.5-D*X*.5,m.bounds.min.y+=F*.5-F*Y*.5,m.bounds.max.y+=F*.5-F*Y*.5),m.bounds.min.x-=j.x,m.bounds.max.x-=j.x,m.bounds.min.y-=j.y,m.bounds.max.y-=j.y,m.mouse&&(n.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),n.setOffset(m.mouse,m.bounds.min))},y.startViewTransform=function(m){var w=m.bounds.max.x-m.bounds.min.x,j=m.bounds.max.y-m.bounds.min.y,S=w/m.options.width,T=j/m.options.height;m.context.setTransform(m.options.pixelRatio/S,0,0,m.options.pixelRatio/T,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},y.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},y.world=function(m,w){var j=a.now(),S=m.engine,T=S.world,E=m.canvas,C=m.context,L=m.options,k=m.timing,D=s.allBodies(T),F=s.allConstraints(T),V=L.wireframes?L.wireframeBackground:L.background,G=[],H=[],z,X={timestamp:S.timing.timestamp};if(u.trigger(m,"beforeRender",X),m.currentBackground!==V&&b(m,V),C.globalCompositeOperation="source-in",C.fillStyle="transparent",C.fillRect(0,0,E.width,E.height),C.globalCompositeOperation="source-over",L.hasBounds){for(z=0;z<D.length;z++){var Y=D[z];l.overlaps(Y.bounds,m.bounds)&&G.push(Y)}for(z=0;z<F.length;z++){var ee=F[z],O=ee.bodyA,R=ee.bodyB,B=ee.pointA,W=ee.pointB;O&&(B=d.add(O.position,ee.pointA)),R&&(W=d.add(R.position,ee.pointB)),!(!B||!W)&&(l.contains(m.bounds,B)||l.contains(m.bounds,W))&&H.push(ee)}y.startViewTransform(m),m.mouse&&(n.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),n.setOffset(m.mouse,m.bounds.min))}else H=F,G=D,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!L.wireframes||S.enableSleeping&&L.showSleeping?y.bodies(m,G,C):(L.showConvexHulls&&y.bodyConvexHulls(m,G,C),y.bodyWireframes(m,G,C)),L.showBounds&&y.bodyBounds(m,G,C),(L.showAxes||L.showAngleIndicator)&&y.bodyAxes(m,G,C),L.showPositions&&y.bodyPositions(m,G,C),L.showVelocity&&y.bodyVelocity(m,G,C),L.showIds&&y.bodyIds(m,G,C),L.showSeparations&&y.separations(m,S.pairs.list,C),L.showCollisions&&y.collisions(m,S.pairs.list,C),L.showVertexNumbers&&y.vertexNumbers(m,G,C),L.showMousePosition&&y.mousePosition(m,m.mouse,C),y.constraints(H,C),L.hasBounds&&y.endViewTransform(m),u.trigger(m,"afterRender",X),k.lastElapsed=a.now()-j},y.stats=function(m,w,j){for(var S=m.engine,T=S.world,E=s.allBodies(T),C=0,L=55,k=44,D=0,F=0,V=0;V<E.length;V+=1)C+=E[V].parts.length;var G={Part:C,Body:E.length,Cons:s.allConstraints(T).length,Comp:s.allComposites(T).length,Pair:S.pairs.list.length};w.fillStyle="#0e0f19",w.fillRect(D,F,L*5.5,k),w.font="12px Arial",w.textBaseline="top",w.textAlign="right";for(var H in G){var z=G[H];w.fillStyle="#aaa",w.fillText(H,D+L,F+8),w.fillStyle="#eee",w.fillText(z,D+L,F+26),D+=L}},y.performance=function(m,w){var j=m.engine,S=m.timing,T=S.deltaHistory,E=S.elapsedHistory,C=S.timestampElapsedHistory,L=S.engineDeltaHistory,k=S.engineElapsedHistory,D=j.timing.lastDelta,F=f(T),V=f(E),G=f(L),H=f(k),z=f(C),X=z/F||0,Y=1e3/F||0,ee=4,O=12,R=60,B=34,W=10,K=69;w.fillStyle="#0e0f19",w.fillRect(0,50,O*4+R*5+22,B),y.status(w,W,K,R,ee,T.length,Math.round(Y)+" fps",Y/y._goodFps,function(ne){return T[ne]/F-1}),y.status(w,W+O+R,K,R,ee,L.length,D.toFixed(2)+" dt",y._goodDelta/D,function(ne){return L[ne]/G-1}),y.status(w,W+(O+R)*2,K,R,ee,k.length,H.toFixed(2)+" ut",1-H/y._goodFps,function(ne){return k[ne]/H-1}),y.status(w,W+(O+R)*3,K,R,ee,E.length,V.toFixed(2)+" rt",1-V/y._goodFps,function(ne){return E[ne]/V-1}),y.status(w,W+(O+R)*4,K,R,ee,C.length,X.toFixed(2)+" x",X*X*X,function(ne){return(C[ne]/T[ne]/X||0)-1})},y.status=function(m,w,j,S,T,E,C,L,k){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(w,j+7,S,1),m.beginPath(),m.moveTo(w,j+7-T*a.clamp(.4*k(0),-2,2));for(var D=0;D<S;D+=1)m.lineTo(w+D,j+7-(D<E?T*a.clamp(.4*k(D),-2,2):0));m.stroke(),m.fillStyle="hsl("+a.clamp(25+95*L,0,120)+",100%,60%)",m.fillRect(w,j-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(C,w+S,j-5)},y.constraints=function(m,w){for(var j=w,S=0;S<m.length;S++){var T=m[S];if(!(!T.render.visible||!T.pointA||!T.pointB)){var E=T.bodyA,C=T.bodyB,L,k;if(E?L=d.add(E.position,T.pointA):L=T.pointA,T.render.type==="pin")j.beginPath(),j.arc(L.x,L.y,3,0,2*Math.PI),j.closePath();else{if(C?k=d.add(C.position,T.pointB):k=T.pointB,j.beginPath(),j.moveTo(L.x,L.y),T.render.type==="spring")for(var D=d.sub(k,L),F=d.perp(d.normalise(D)),V=Math.ceil(a.clamp(T.length/5,12,20)),G,H=1;H<V;H+=1)G=H%2===0?1:-1,j.lineTo(L.x+D.x*(H/V)+F.x*G*4,L.y+D.y*(H/V)+F.y*G*4);j.lineTo(k.x,k.y)}T.render.lineWidth&&(j.lineWidth=T.render.lineWidth,j.strokeStyle=T.render.strokeStyle,j.stroke()),T.render.anchors&&(j.fillStyle=T.render.strokeStyle,j.beginPath(),j.arc(L.x,L.y,3,0,2*Math.PI),j.arc(k.x,k.y,3,0,2*Math.PI),j.closePath(),j.fill())}}},y.bodies=function(m,w,j){var S=j;m.engine;var T=m.options,E=T.showInternalEdges||!T.wireframes,C,L,k,D;for(k=0;k<w.length;k++)if(C=w[k],!!C.render.visible){for(D=C.parts.length>1?1:0;D<C.parts.length;D++)if(L=C.parts[D],!!L.render.visible){if(T.showSleeping&&C.isSleeping?S.globalAlpha=.5*L.render.opacity:L.render.opacity!==1&&(S.globalAlpha=L.render.opacity),L.render.sprite&&L.render.sprite.texture&&!T.wireframes){var F=L.render.sprite,V=v(m,F.texture);S.translate(L.position.x,L.position.y),S.rotate(L.angle),S.drawImage(V,V.width*-F.xOffset*F.xScale,V.height*-F.yOffset*F.yScale,V.width*F.xScale,V.height*F.yScale),S.rotate(-L.angle),S.translate(-L.position.x,-L.position.y)}else{if(L.circleRadius)S.beginPath(),S.arc(L.position.x,L.position.y,L.circleRadius,0,2*Math.PI);else{S.beginPath(),S.moveTo(L.vertices[0].x,L.vertices[0].y);for(var G=1;G<L.vertices.length;G++)!L.vertices[G-1].isInternal||E?S.lineTo(L.vertices[G].x,L.vertices[G].y):S.moveTo(L.vertices[G].x,L.vertices[G].y),L.vertices[G].isInternal&&!E&&S.moveTo(L.vertices[(G+1)%L.vertices.length].x,L.vertices[(G+1)%L.vertices.length].y);S.lineTo(L.vertices[0].x,L.vertices[0].y),S.closePath()}T.wireframes?(S.lineWidth=1,S.strokeStyle="#bbb",S.stroke()):(S.fillStyle=L.render.fillStyle,L.render.lineWidth&&(S.lineWidth=L.render.lineWidth,S.strokeStyle=L.render.strokeStyle,S.stroke()),S.fill())}S.globalAlpha=1}}},y.bodyWireframes=function(m,w,j){var S=j,T=m.options.showInternalEdges,E,C,L,k,D;for(S.beginPath(),L=0;L<w.length;L++)if(E=w[L],!!E.render.visible)for(D=E.parts.length>1?1:0;D<E.parts.length;D++){for(C=E.parts[D],S.moveTo(C.vertices[0].x,C.vertices[0].y),k=1;k<C.vertices.length;k++)!C.vertices[k-1].isInternal||T?S.lineTo(C.vertices[k].x,C.vertices[k].y):S.moveTo(C.vertices[k].x,C.vertices[k].y),C.vertices[k].isInternal&&!T&&S.moveTo(C.vertices[(k+1)%C.vertices.length].x,C.vertices[(k+1)%C.vertices.length].y);S.lineTo(C.vertices[0].x,C.vertices[0].y)}S.lineWidth=1,S.strokeStyle="#bbb",S.stroke()},y.bodyConvexHulls=function(m,w,j){var S=j,T,E,C;for(S.beginPath(),E=0;E<w.length;E++)if(T=w[E],!(!T.render.visible||T.parts.length===1)){for(S.moveTo(T.vertices[0].x,T.vertices[0].y),C=1;C<T.vertices.length;C++)S.lineTo(T.vertices[C].x,T.vertices[C].y);S.lineTo(T.vertices[0].x,T.vertices[0].y)}S.lineWidth=1,S.strokeStyle="rgba(255,255,255,0.2)",S.stroke()},y.vertexNumbers=function(m,w,j){var S=j,T,E,C;for(T=0;T<w.length;T++){var L=w[T].parts;for(C=L.length>1?1:0;C<L.length;C++){var k=L[C];for(E=0;E<k.vertices.length;E++)S.fillStyle="rgba(255,255,255,0.2)",S.fillText(T+"_"+E,k.position.x+(k.vertices[E].x-k.position.x)*.8,k.position.y+(k.vertices[E].y-k.position.y)*.8)}}},y.mousePosition=function(m,w,j){var S=j;S.fillStyle="rgba(255,255,255,0.8)",S.fillText(w.position.x+"  "+w.position.y,w.position.x+5,w.position.y-5)},y.bodyBounds=function(m,w,j){var S=j;m.engine;var T=m.options;S.beginPath();for(var E=0;E<w.length;E++){var C=w[E];if(C.render.visible)for(var L=w[E].parts,k=L.length>1?1:0;k<L.length;k++){var D=L[k];S.rect(D.bounds.min.x,D.bounds.min.y,D.bounds.max.x-D.bounds.min.x,D.bounds.max.y-D.bounds.min.y)}}T.wireframes?S.strokeStyle="rgba(255,255,255,0.08)":S.strokeStyle="rgba(0,0,0,0.1)",S.lineWidth=1,S.stroke()},y.bodyAxes=function(m,w,j){var S=j;m.engine;var T=m.options,E,C,L,k;for(S.beginPath(),C=0;C<w.length;C++){var D=w[C],F=D.parts;if(D.render.visible)if(T.showAxes)for(L=F.length>1?1:0;L<F.length;L++)for(E=F[L],k=0;k<E.axes.length;k++){var V=E.axes[k];S.moveTo(E.position.x,E.position.y),S.lineTo(E.position.x+V.x*20,E.position.y+V.y*20)}else for(L=F.length>1?1:0;L<F.length;L++)for(E=F[L],k=0;k<E.axes.length;k++)S.moveTo(E.position.x,E.position.y),S.lineTo((E.vertices[0].x+E.vertices[E.vertices.length-1].x)/2,(E.vertices[0].y+E.vertices[E.vertices.length-1].y)/2)}T.wireframes?(S.strokeStyle="indianred",S.lineWidth=1):(S.strokeStyle="rgba(255, 255, 255, 0.4)",S.globalCompositeOperation="overlay",S.lineWidth=2),S.stroke(),S.globalCompositeOperation="source-over"},y.bodyPositions=function(m,w,j){var S=j;m.engine;var T=m.options,E,C,L,k;for(S.beginPath(),L=0;L<w.length;L++)if(E=w[L],!!E.render.visible)for(k=0;k<E.parts.length;k++)C=E.parts[k],S.arc(C.position.x,C.position.y,3,0,2*Math.PI,!1),S.closePath();for(T.wireframes?S.fillStyle="indianred":S.fillStyle="rgba(0,0,0,0.5)",S.fill(),S.beginPath(),L=0;L<w.length;L++)E=w[L],E.render.visible&&(S.arc(E.positionPrev.x,E.positionPrev.y,2,0,2*Math.PI,!1),S.closePath());S.fillStyle="rgba(255,165,0,0.8)",S.fill()},y.bodyVelocity=function(m,w,j){var S=j;S.beginPath();for(var T=0;T<w.length;T++){var E=w[T];if(E.render.visible){var C=c.getVelocity(E);S.moveTo(E.position.x,E.position.y),S.lineTo(E.position.x+C.x,E.position.y+C.y)}}S.lineWidth=3,S.strokeStyle="cornflowerblue",S.stroke()},y.bodyIds=function(m,w,j){var S=j,T,E;for(T=0;T<w.length;T++)if(w[T].render.visible){var C=w[T].parts;for(E=C.length>1?1:0;E<C.length;E++){var L=C[E];S.font="12px Arial",S.fillStyle="rgba(255,255,255,0.5)",S.fillText(L.id,L.position.x+10,L.position.y-10)}}},y.collisions=function(m,w,j){var S=j,T=m.options,E,C,L,k;for(S.beginPath(),L=0;L<w.length;L++)if(E=w[L],!!E.isActive)for(C=E.collision,k=0;k<E.activeContacts.length;k++){var D=E.activeContacts[k],F=D.vertex;S.rect(F.x-1.5,F.y-1.5,3.5,3.5)}for(T.wireframes?S.fillStyle="rgba(255,255,255,0.7)":S.fillStyle="orange",S.fill(),S.beginPath(),L=0;L<w.length;L++)if(E=w[L],!!E.isActive&&(C=E.collision,E.activeContacts.length>0)){var V=E.activeContacts[0].vertex.x,G=E.activeContacts[0].vertex.y;E.activeContacts.length===2&&(V=(E.activeContacts[0].vertex.x+E.activeContacts[1].vertex.x)/2,G=(E.activeContacts[0].vertex.y+E.activeContacts[1].vertex.y)/2),C.bodyB===C.supports[0].body||C.bodyA.isStatic===!0?S.moveTo(V-C.normal.x*8,G-C.normal.y*8):S.moveTo(V+C.normal.x*8,G+C.normal.y*8),S.lineTo(V,G)}T.wireframes?S.strokeStyle="rgba(255,165,0,0.7)":S.strokeStyle="orange",S.lineWidth=1,S.stroke()},y.separations=function(m,w,j){var S=j,T=m.options,E,C,L,k,D;for(S.beginPath(),D=0;D<w.length;D++)if(E=w[D],!!E.isActive){C=E.collision,L=C.bodyA,k=C.bodyB;var F=1;!k.isStatic&&!L.isStatic&&(F=.5),k.isStatic&&(F=0),S.moveTo(k.position.x,k.position.y),S.lineTo(k.position.x-C.penetration.x*F,k.position.y-C.penetration.y*F),F=1,!k.isStatic&&!L.isStatic&&(F=.5),L.isStatic&&(F=0),S.moveTo(L.position.x,L.position.y),S.lineTo(L.position.x+C.penetration.x*F,L.position.y+C.penetration.y*F)}T.wireframes?S.strokeStyle="rgba(255,165,0,0.5)":S.strokeStyle="orange",S.stroke()},y.inspector=function(m,w){m.engine;var j=m.selected,S=m.render,T=S.options,E;if(T.hasBounds){var C=S.bounds.max.x-S.bounds.min.x,L=S.bounds.max.y-S.bounds.min.y,k=C/S.options.width,D=L/S.options.height;w.scale(1/k,1/D),w.translate(-S.bounds.min.x,-S.bounds.min.y)}for(var F=0;F<j.length;F++){var V=j[F].data;switch(w.translate(.5,.5),w.lineWidth=1,w.strokeStyle="rgba(255,165,0,0.9)",w.setLineDash([1,2]),V.type){case"body":E=V.bounds,w.beginPath(),w.rect(Math.floor(E.min.x-3),Math.floor(E.min.y-3),Math.floor(E.max.x-E.min.x+6),Math.floor(E.max.y-E.min.y+6)),w.closePath(),w.stroke();break;case"constraint":var G=V.pointA;V.bodyA&&(G=V.pointB),w.beginPath(),w.arc(G.x,G.y,10,0,2*Math.PI),w.closePath(),w.stroke();break}w.setLineDash([]),w.translate(-.5,-.5)}m.selectStart!==null&&(w.translate(.5,.5),w.lineWidth=1,w.strokeStyle="rgba(255,165,0,0.6)",w.fillStyle="rgba(255,165,0,0.1)",E=m.selectBounds,w.beginPath(),w.rect(Math.floor(E.min.x),Math.floor(E.min.y),Math.floor(E.max.x-E.min.x),Math.floor(E.max.y-E.min.y)),w.closePath(),w.stroke(),w.fill(),w.translate(-.5,-.5)),T.hasBounds&&w.setTransform(1,0,0,1,0,0)};var i=function(m,w){var j=m.engine,S=m.timing,T=S.historySize,E=j.timing.timestamp;S.delta=w-S.lastTime||y._goodDelta,S.lastTime=w,S.timestampElapsed=E-S.lastTimestamp||0,S.lastTimestamp=E,S.deltaHistory.unshift(S.delta),S.deltaHistory.length=Math.min(S.deltaHistory.length,T),S.engineDeltaHistory.unshift(j.timing.lastDelta),S.engineDeltaHistory.length=Math.min(S.engineDeltaHistory.length,T),S.timestampElapsedHistory.unshift(S.timestampElapsed),S.timestampElapsedHistory.length=Math.min(S.timestampElapsedHistory.length,T),S.engineElapsedHistory.unshift(j.timing.lastElapsed),S.engineElapsedHistory.length=Math.min(S.engineElapsedHistory.length,T),S.elapsedHistory.unshift(S.lastElapsed),S.elapsedHistory.length=Math.min(S.elapsedHistory.length,T)},f=function(m){for(var w=0,j=0;j<m.length;j+=1)w+=m[j];return w/m.length||0},h=function(m,w){var j=document.createElement("canvas");return j.width=m,j.height=w,j.oncontextmenu=function(){return!1},j.onselectstart=function(){return!1},j},g=function(m){var w=m.getContext("2d"),j=window.devicePixelRatio||1,S=w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1;return j/S},v=function(m,w){var j=m.textures[w];return j||(j=m.textures[w]=new Image,j.src=w,j)},b=function(m,w){var j=w;/(jpg|gif|png)$/.test(w)&&(j="url("+w+")"),m.canvas.style.background=j,m.canvas.style.backgroundSize="contain",m.currentBackground=w}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(5),a=P(17),s=P(0);(function(){var l,u;if(typeof window<"u"&&(l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!l){var d;l=function(n){d=setTimeout(function(){n(s.now())},1e3/60)},u=function(){clearTimeout(d)}}y.create=function(n){var t={fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},r=s.extend(t,n);return r.delta=r.delta||1e3/r.fps,r.deltaMin=r.deltaMin||1e3/r.fps,r.deltaMax=r.deltaMax||1e3/(r.fps*.5),r.fps=1e3/r.delta,r},y.run=function(n,t){return typeof n.positionIterations<"u"&&(t=n,n=y.create()),function r(i){n.frameRequestId=l(r),i&&n.enabled&&y.tick(n,t,i)}(),n},y.tick=function(n,t,r){var i=t.timing,f;n.isFixed?f=n.delta:(f=r-n.timePrev||n.delta,n.timePrev=r,n.deltaHistory.push(f),n.deltaHistory=n.deltaHistory.slice(-n.deltaSampleSize),f=Math.min.apply(null,n.deltaHistory),f=f<n.deltaMin?n.deltaMin:f,f=f>n.deltaMax?n.deltaMax:f,n.delta=f);var h={timestamp:i.timestamp};c.trigger(n,"beforeTick",h),n.frameCounter+=1,r-n.counterTimestamp>=1e3&&(n.fps=n.frameCounter*((r-n.counterTimestamp)/1e3),n.counterTimestamp=r,n.frameCounter=0),c.trigger(n,"tick",h),c.trigger(n,"beforeUpdate",h),a.update(t,f),c.trigger(n,"afterUpdate",h),c.trigger(n,"afterTick",h)},y.stop=function(n){u(n.frameRequestId)},y.start=function(n,t){y.run(n,t)}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(8),a=P(0),s=a.deprecated;(function(){y.collides=function(l,u){return c.collides(l,u)},s(y,"collides","SAT.collides  replaced by Collision.collides")})()},function(Le,o,P){var y={};Le.exports=y,P(1);var c=P(0);(function(){y.pathToVertices=function(a,s){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,u,d,n,t,r,i,f,h,g,v=[],b,m,w=0,j=0,S=0;s=s||15;var T=function(C,L,k){var D=k%2===1&&k>1;if(!h||C!=h.x||L!=h.y){h&&D?(b=h.x,m=h.y):(b=0,m=0);var F={x:b+C,y:m+L};(D||!h)&&(h=F),v.push(F),j=b+C,S=m+L}},E=function(C){var L=C.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":j=C.x,S=C.y;break;case"H":j=C.x;break;case"V":S=C.y;break}T(j,S,C.pathSegType)}};for(y._svgPathToAbsolute(a),d=a.getTotalLength(),r=[],l=0;l<a.pathSegList.numberOfItems;l+=1)r.push(a.pathSegList.getItem(l));for(i=r.concat();w<d;){if(g=a.getPathSegAtLength(w),t=r[g],t!=f){for(;i.length&&i[0]!=t;)E(i.shift());f=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":n=a.getPointAtLength(w),T(n.x,n.y,0);break}w+=s}for(l=0,u=i.length;l<u;++l)E(i[l]);return v},y._svgPathToAbsolute=function(a){for(var s,l,u,d,n,t,r=a.pathSegList,i=0,f=0,h=r.numberOfItems,g=0;g<h;++g){var v=r.getItem(g),b=v.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(b))"x"in v&&(i=v.x),"y"in v&&(f=v.y);else switch("x1"in v&&(u=i+v.x1),"x2"in v&&(n=i+v.x2),"y1"in v&&(d=f+v.y1),"y2"in v&&(t=f+v.y2),"x"in v&&(i+=v.x),"y"in v&&(f+=v.y),b){case"m":r.replaceItem(a.createSVGPathSegMovetoAbs(i,f),g);break;case"l":r.replaceItem(a.createSVGPathSegLinetoAbs(i,f),g);break;case"h":r.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(i),g);break;case"v":r.replaceItem(a.createSVGPathSegLinetoVerticalAbs(f),g);break;case"c":r.replaceItem(a.createSVGPathSegCurvetoCubicAbs(i,f,u,d,n,t),g);break;case"s":r.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(i,f,n,t),g);break;case"q":r.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(i,f,u,d),g);break;case"t":r.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(i,f),g);break;case"a":r.replaceItem(a.createSVGPathSegArcAbs(i,f,v.r1,v.r2,v.angle,v.largeArcFlag,v.sweepFlag),g);break;case"z":case"Z":i=s,f=l;break}(b=="M"||b=="m")&&(s=i,l=f)}}})()},function(Le,o,P){var y={};Le.exports=y;var c=P(6);P(0),function(){y.create=c.create,y.add=c.add,y.remove=c.remove,y.clear=c.clear,y.addComposite=c.addComposite,y.addBody=c.addBody,y.addConstraint=c.addConstraint}()}])})})(Po);var qt=Po.exports;class Wt{world;position;radius;color;isChild;health;healthOffset;showHealth;body;tag;uuid;label;firstHit;static HEALTH_WIDTH=50;static HEALTH_HEIGHT=5;static HEALTH_RADIUS=10;static MAX_HEALTH=100;static MIN_SIZE=20;constructor(Oe,Le,o,P={}){this.world=Oe,this.position=Le,this.radius=o,this.color=P.color||Ur(),this.isChild=P.isChild||!1,this.health=P.health||100,this.healthOffset=P.healthOffset||10,this.showHealth=P.showHealth||!1,this.body=qt.Bodies.circle(this.position.x,this.position.y,this.radius,{restitution:.9}),this.tag="Bubble",this.uuid=Eo(),this.label=this.isChild?`${this.tag}-${this.uuid}`:`${this.tag}-${this.uuid}`,this.firstHit=!1,this.body.label=this.label,qt.Composite.add(this.world,this.body)}update(){this.getHealth()==0&&this.explode()}draw(){Ot.blur(12,cr(this.getColor(),-.1)),jt.fill(cr(this.getColor(),-.1)),Ot.circleV(this.getPosition(),this.getRadius()),jt.fill(this.getColor()),Ot.circleV(this.getPosition(),this.getRadius()-5),this.getShowHealth()&&(jt.fill("#50505080"),Ot.rect(this.getX(),this.getY()-(this.getRadius()+this.getHealthOffset()),Wt.HEALTH_WIDTH,Wt.HEALTH_HEIGHT,Wt.HEALTH_RADIUS),jt.fill("#ff0000"),Ot.rect(this.getX(),this.getY()-(this.getRadius()+this.getHealthOffset()),jt.map(this.getHealth(),0,Wt.MAX_HEALTH,0,Wt.HEALTH_WIDTH),Wt.HEALTH_HEIGHT,Wt.HEALTH_RADIUS))}explode(){if(qt.Composite.remove(this.world,this.body),!this.getIsChild())for(let Oe=0;Oe<2;Oe++){let Le=!(this.getRadius()*.8>Wt.MIN_SIZE),o=new Wt(this.world,this.getPosition().copy(),this.getRadius()*.8,{color:this.getColor(),isChild:Le});Co(o)}an(this)}damage(Oe){this.firstHit||this.setFirstHit(!0),this.firstHit&&this.setShowHealth(!0),this.getHealth()-Oe>=0&&this.setHealth(this.getHealth()-Oe),this.getHealth()-Oe<0&&this.setHealth(0)}getIsChild(){return this.isChild}getX(){return this.body.position.x}getY(){return this.body.position.y}getPosition(){return jt.createVector(this.body.position.x,this.body.position.y)}getRadius(){return this.radius}getUUID(){return this.uuid}getColor(){return this.color}getHealth(){return this.health}getTag(){return this.tag}getHealthOffset(){return this.healthOffset}getShowHealth(){return this.showHealth}setHealth(Oe){this.health=Oe}setFirstHit(Oe){this.firstHit=Oe}setShowHealth(Oe){this.showHealth=Oe}}class cn{world;position;radius;viewport;color;body;uuid;showTarget;targetPosition;speed;timerProgress;constructor(Oe,Le,o,P){this.world=Oe,this.position=Le,this.radius=o,this.viewport=P,this.color=Ur(),this.body=qt.Bodies.circle(this.position.x,this.position.y,this.radius,{restitution:.9}),this.uuid=Eo(),this.body.label=`Player-${this.uuid}`,this.showTarget=!1,this.targetPosition=jt.createVector(),this.speed=6,this.timerProgress=0,qt.Composite.add(this.world,this.body)}draw(){this.getViewport().setPosition(this.getPosition()),jt.stroke(this.getColor()),jt.strokeWeight(5),Ot.setLineDash([10,10]),this.getShowTarget()?Ot.lineV(this.getPosition(),this.getTargetPosition()):Ot.reset(),jt.fill(cr(this.getColor(),-.1)),this.getShowTarget()?Ot.circleV(this.getTargetPosition(),10):Ot.reset(),Ot.blur(32,cr(this.getColor(),.1)),jt.fill(cr(this.getColor(),-.1)),Ot.circleV(this.getPosition(),this.getRadius()),jt.fill(this.getColor()),Ot.circleV(this.getPosition(),this.getRadius()-10),jt.noFill(),jt.stroke(cr(this.getColor(),.1)),jt.strokeWeight(4),Ot.arcV(this.getPosition(),this.getRadius(),this.getTimerProgress())}switch(){this.color=Ur()}move(){let Le=this.targetPosition.copy().sub(this.getPosition().copy()).normalize();if(jt.dist(this.getX(),this.getY(),this.getTargetX(),this.getTargetY())>=this.getRadius()){let o=Le.mult(this.speed).copy();qt.Body.setVelocity(this.body,{x:o.x,y:o.y}),this.setShowTarget(!0)}else qt.Body.setVelocity(this.body,{x:0,y:0}),this.setShowTarget(!1)}collidedWith(Oe){Oe.getColor()==this.getColor()&&Oe.damage(20)}isViewable(Oe){return ln(Oe.getX(),Oe.getY(),Oe.getRadius(),this.getX()-this.getViewport().getWidth()/2,this.getY()-this.getViewport().getHeight()/2,this.getViewport().getWidth(),this.getViewport().getHeight())}getX(){return this.body.position.x}getY(){return this.body.position.y}getPosition(){return jt.createVector(this.body.position.x,this.body.position.y)}getRadius(){return this.radius}getColor(){return this.color}getTimerProgress(){return this.timerProgress}getTargetX(){return this.targetPosition.x}getTargetY(){return this.targetPosition.y}getTargetPosition(){return this.targetPosition}getShowTarget(){return this.showTarget}getViewport(){return this.viewport}setTargetPosition(Oe){this.targetPosition=Oe}setShowTarget(Oe){this.showTarget=Oe}setTimerProgress(Oe){this.timerProgress=Oe}}class dn{width;height;radius;type;position;constructor(Oe){this.width=Oe.width||0,this.height=Oe.height||0,this.radius=Oe.radius||0,this.type=this.radius==0?0:1,this.position=jt.createVector()}draw(){this.getType()==0&&this.drawRectangleView(),this.getType()==0&&this.drawCircleView()}drawRectangleView(){jt.fill("#ff00001a"),Ot.rectV(this.getPosition(),this.getWidth(),this.getHeight())}drawCircleView(){jt.fill("#ff00001a"),Ot.circleV(this.getPosition(),this.getRadius())}resize(Oe){this.width=Oe.width||0,this.height=Oe.height||0,this.radius=Oe.radius||0,this.type=this.radius==0?0:1}setPosition(Oe){this.position=Oe}getWidth(){return this.width}getHeight(){return this.height}getRadius(){return this.radius}getX(){return this.position.x}getY(){return this.position.y}getPosition(){return this.position}getType(){return this.type}}class fn{interval;lengthFunc;runFunc;repeat;length;currentTime;id;constructor(Oe,Le,o,P=!1){this.interval=Oe,this.lengthFunc=Le,this.runFunc=o,this.repeat=P,this.length=0,this.currentTime=0,this.id=0}start(){this.setID(setTimeout(this.incriment.bind(this),this.interval))}stop(){this.reset()}restart(){this.reset(),this.start()}incriment(){this.getCurrentTime()>=this.getLength()&&(this.run(),this.getRepeat()?this.restart():this.stop()),this.setCurrentTime(this.getCurrentTime()+1),this.setID(setTimeout(this.incriment.bind(this),this.interval))}reset(){clearTimeout(this.id),this.setCurrentTime(0),this.setLength(this.lengthFunc.call(this))}run(){this.runFunc.call(this)}getCurrentTime(){return this.currentTime}getLength(){return this.length}getInterval(){return this.interval}getRepeat(){return this.repeat}setLength(Oe){this.length=Oe}setInterval(Oe){this.interval=Oe}setID(Oe){this.id=Oe}setCurrentTime(Oe){this.currentTime=Oe}}const hn=Ue=>{un(Ue);let Oe=window.innerWidth,Le=window.innerHeight;const o=60,P=new dn({width:Oe,height:Le});let y=qt.Engine.create({gravity:{x:0,y:0}}),c=y.world,a=qt.Runner.create(),s=new cn(c,Ue.createVector(),40,P),l=Ue.createVector(),u=!1,d=new fn(1,()=>sn(),()=>s.switch(),!0);Ue.setup=()=>{Ue.createCanvas(Oe,Le).parent("root"),Ue.rectMode(Ue.CENTER),Ot.setRef(jt),qt.Runner.run(a,y);for(let t=0;t<250;t++)Co(new Wt(c,Ue.createVector(Ue.random(-2e3,2e3),Ue.random(-2e3,2e3)),50));qt.Events.on(y,"collisionStart",t=>n(t)),qt.Events.on(y,"collisionActive",t=>n(t)),Ue.frameRate(o),d.start()},Ue.draw=()=>{const t=Ue.mouseX-Oe/2+s.getX(),r=Ue.mouseY-Le/2+s.getY(),i=Ue.createVector(t,r);Ue.background(50),Ue.translate(Oe/2-s.getX(),Le/2-s.getY()),Ot.reset(),Ue.fill(0),Ot.circle(0,0,5);for(let h in xr())xr()[h].update();Mo(Ue.LEFT)&&(l=i.copy()),s.setTargetPosition(l),s.move();let f=Ue.map(d.getCurrentTime(),0,d.getLength(),0,360);s.setTimerProgress(f),s.draw();for(let h in xr())s.isViewable(xr()[h])&&xr()[h].draw();u&&P.draw(),nn(Ue,i.copy(),10,Mo(Ue.LEFT)),Ue.fill(255),Ot.text(s.getX()-Oe/2+20,s.getY()+Le/2-(Ue.textSize()+10),"Created By Devin Johnson")},Ue.windowResized=()=>{Oe=window.innerWidth,Le=window.innerHeight,Ue.resizeCanvas(Oe,Le),P.resize({width:Oe,height:Le})},Ue.mousePressed=()=>{Ue.mouseButton==Ue.CENTER&&(u=!u)};function n(t){for(let r in t.pairs){const i=t.pairs[r].bodyA,f=t.pairs[r].bodyB;if(i.label.includes("Player-")&&f.label.includes("Bubble-")){let h=So(f.label);h instanceof Wt&&s.collidedWith(h)}if(i.label.includes("Bubble-")&&f.label.includes("Player-")){let h=So(i.label);h instanceof Wt&&s.collidedWith(h)}}}};new Jo(hn);window.addEventListener("contextmenu",Ue=>{Ue.preventDefault()});
